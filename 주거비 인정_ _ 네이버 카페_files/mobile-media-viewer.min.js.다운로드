!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).MediaViewer=e()}(this,function(){"use strict";var nt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(i){if(i.__esModule)return i;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(i).forEach(function(t){var e=Object.getOwnPropertyDescriptor(i,t);Object.defineProperty(n,t,e.get?e:{enumerable:!0,get:function(){return i[t]}})}),n}function i(t){var e={exports:{}};return t(e,e.exports),e.exports}function rt(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}function n(t){try{return!!t()}catch(t){return!0}}function g(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function r(t){return w.call(t).slice(8,-1)}function s(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function c(t){return C(s(t))}function l(t){return"object"==typeof t?null!==t:"function"==typeof t}function o(t,e){if(!l(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!l(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!l(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!l(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}function d(t,e){return D.call(t,e)}function a(t){return N?L.createElement(t):{}}function h(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function E(n,r,t){if(h(n),void 0===r)return n;switch(t){case 0:return function(){return n.call(r)};case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,i){return n.call(r,t,e,i)}}return function(){return n.apply(r,arguments)}}function v(t){if(!l(t))throw TypeError(String(t)+" is not an object");return t}function m(n){function t(t,e,i){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,e)}return new n(t,e,i)}return n.apply(this,arguments)}return t.prototype=n.prototype,t}function y(t,e){var i,n,r,o,s,a=t.target,u=t.global,c=t.stat,l=t.proto,h=u?T:c?T[a]:(T[a]||{}).prototype,p=u?U:U[a]||(U[a]={}),f=p.prototype;for(i in e)o=!F(u?i:a+(c?".":"#")+i,t.forced)&&h&&d(h,i),n=p[i],o&&(r=t.noTargetGet?(s=Y(h,i))&&s.value:h[i]),s=o&&r?r:e[i],o&&typeof n==typeof s||(o=t.bind&&o?E(s,T):t.wrap&&o?m(s):l&&"function"==typeof s?E(Function.call,s):s,(t.sham||s&&s.sham||n&&n.sham)&&W(o,"sham",!0),p[i]=o,l&&(d(U,o=a+"Prototype")||W(U,o,{}),U[o][i]=s,t.real&&f&&!f[i]&&W(f,i,s)))}function p(t){return isNaN(t=+t)?0:(0<t?$:K)(t)}function I(t){return 0<t?Z(p(t),9007199254740991):0}function f(t,e){return(t=p(t))<0?J(t+e,0):Q(t,e)}function u(t,e){var i,n=c(t),r=0,o=[];for(i in n)!d(it,i)&&d(n,i)&&o.push(i);for(;e.length>r;)d(n,i=e[r++])&&(~ot(o,i)||o.push(i));return o}function b(t){return Object(s(t))}var _=function(t){return t&&t.Math==Math&&t},T=_("object"==typeof globalThis&&globalThis)||_("object"==typeof window&&window)||_("object"==typeof self&&self)||_("object"==typeof nt&&nt)||function(){return this}()||Function("return this")(),P=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),S={}.propertyIsEnumerable,x=Object.getOwnPropertyDescriptor,O={f:x&&!S.call({1:2},1)?function(t){t=x(this,t);return!!t&&t.enumerable}:S},w={}.toString,A="".split,C=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==r(t)?A.call(t,""):Object(t)}:Object,D={}.hasOwnProperty,L=T.document,N=l(L)&&l(L.createElement),R=!P&&!n(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}),M=Object.getOwnPropertyDescriptor,k={f:P?M:function(t,e){if(t=c(t),e=o(e,!0),R)try{return M(t,e)}catch(t){}if(d(t,e))return g(!O.f.call(t,e),t[e])}},V=/#|\.prototype\./,z=function(t,e){t=j[H(t)];return t==B||t!=G&&("function"==typeof e?n(e):!!e)},H=z.normalize=function(t){return String(t).replace(V,".").toLowerCase()},j=z.data={},G=z.NATIVE="N",B=z.POLYFILL="P",F=z,U={},X=Object.defineProperty,q={f:P?X:function(t,e,i){if(v(t),e=o(e,!0),v(i),R)try{return X(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},W=P?function(t,e,i){return q.f(t,e,g(1,i))}:function(t,e,i){return t[e]=i,t},Y=k.f,K=Math.ceil,$=Math.floor,Z=Math.min,J=Math.max,Q=Math.min,tt=function(a){return function(t,e,i){var n,r=c(t),o=I(r.length),s=f(i,o);if(a&&e!=e){for(;s<o;)if((n=r[s++])!=n)return!0}else for(;s<o;s++)if((a||s in r)&&r[s]===e)return a||s||0;return!a&&-1}},et={includes:tt(!0),indexOf:tt(!1)},it={},ot=et.indexOf,st=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],at=Object.keys||function(t){return u(t,st)},ut={f:Object.getOwnPropertySymbols},ct=Object.assign,lt=Object.defineProperty,ht=!ct||n(function(){if(P&&1!==ct({b:1},ct(lt({},"a",{enumerable:!0,get:function(){lt(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=ct({},t)[i]||at(ct({},e)).join("")!=n})?function(t,e){for(var i=arguments,n=b(t),r=arguments.length,o=1,s=ut.f,a=O.f;o<r;)for(var u,c=C(i[o++]),l=s?at(c).concat(s(c)):at(c),h=l.length,p=0;p<h;)u=l[p++],P&&!a.call(c,u)||(n[u]=c[u]);return n}:ct;y({target:"Object",stat:!0,forced:Object.assign!==ht},{assign:ht});function pt(t){return"function"==typeof t?t:void 0}function ft(t,e){return arguments.length<2?pt(U[t])||pt(T[t]):U[t]&&U[t][e]||T[t]&&T[t][e]}var dt=U.Object.assign,gt=function(c){return function(t,e,i,n){h(e);var r=b(t),o=C(r),s=I(r.length),a=c?s-1:0,u=c?-1:1;if(i<2)for(;;){if(a in o){n=o[a],a+=u;break}if(a+=u,c?a<0:s<=a)throw TypeError("Reduce of empty array with no initial value")}for(;c?0<=a:a<s;a+=u)a in o&&(n=e(n,o[a],a,r));return n}},vt={left:gt(!1),right:gt(!0)},mt=function(t,e){var i=[][t];return!!i&&n(function(){i.call(null,e||function(){throw 1},1)})},yt=ft("navigator","userAgent")||"",_t=T.process,Et=_t&&_t.versions,It=Et&&Et.v8;It?Ge=(xe=It.split("."))[0]+xe[1]:yt&&(!(xe=yt.match(/Edge\/(\d+)/))||74<=xe[1])&&(xe=yt.match(/Chrome\/(\d+)/))&&(Ge=xe[1]);var bt=Ge&&+Ge,Tt="process"==r(T.process),Pt=vt.left,_=mt("reduce");y({target:"Array",proto:!0,forced:!_||!Tt&&79<bt&&bt<83},{reduce:function(t){return Pt(this,t,arguments.length,1<arguments.length?arguments[1]:void 0)}});var S=function(t){return U[t+"Prototype"]},St=S("Array").reduce,xt=Array.prototype,Ot=function(t){var e=t.reduce;return t===xt||t instanceof Array&&e===xt.reduce?St:e},z=n(function(){at(1)});y({target:"Object",stat:!0,forced:z},{keys:function(t){return at(b(t))}});var wt,At,Ct=U.Object.keys,Dt="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Lt="naverapp://fullscreen?top=show&bottom=show",Nt="naverapp://fullscreen",Rt={OPEN:"open",CLOSE:"close",DATA_CHANGE:"data_change",H_INDEX_CHANGE:"horizontal_index_change",H_INDEX_OPEN:"horizontal_index_open",H_INDEX_CLOSE:"horizontal_index_close",H_INDEX_CLICK:"horizontal_index_click",H_INDEX_NEXT_MOVE:"horizontal_index_next_move",H_INDEX_PREV_MOVE:"horizontal_index_prev_move",V_INDEX_CHANGE:"vertical_index_change",V_INDEX_OPEN:"vertical_index_open",V_INDEX_CLOSE:"vertical_index_close",V_INDEX_CLICK:"vertical_index_click",REACH_END_ITEM:"reach_end_item",CHANGE_FULL_MODE:"change_full_mode",CHANGE_NORMAL_MODE:"change_normal_mode",PREV_MOVE:"prev_move",NEXT_MOVE:"next_move",FLICK:"flick",ZOOM_ENTER:"zoom_enter",ZOOM_LEAVE:"zoom_leave",ZOOM_MIN:"zoom_min",ZOOM_MAX:"zoom_max",ZOOM_SCALE:"zoom_scale",INDEX_CHANGE:"index_change"};(wt=wt||{}).LOAD_CURRENT_ITEM="LOAD_CURRENT_ITEM",(tt=At=At||{}).DESKTOP="desktop",tt.MOBILE="mobile",tt.UNSUPPORT="unsupport";var Mt={HEADER:"header",FOOTTER:"footter",BACKGROUND:"background",H_IMAGE_INDEX:"h_imageIndex",V_IMAGE_INDEX:"v_imageIndex",GHOST_IMAGE:"ghostImage",EXCEPTION:"exception",TOAST:"toast",CAPTION:"caption",CLOSE_BTN:"close_btn",INDEX_INDICATOR:"index_indicator",LINK:"link",SHARE_BTN:"share_btn",VIDEO_TOOLBAR:"videoToolbar"},kt="civ",Vt={ROOT:""+kt,FADEOUT:"fadeout",FADEIN:"fadein",FADEHIDE:"fadehide",RESTORE:"restore",BUILD_IN:"anim-in",BUILD_OUT:"anim-out",IS_HOVER:kt+"__is_hover",CAPTION:kt+"__caption",CAPTION_LINK:kt+"__caption_link",CAPTION_DESC:kt+"__caption_desc",CAPTION_SVCNAME:kt+"__caption_category",CAPTION_TITLE:kt+"__caption_title",CLOSE_BUTTON:kt+"__header__btn--close",FLICK_WRAPPER:kt+"_wrap",FLICK_CONTENTS:kt+"__content",FLICK_PANEL:kt+"__panel",FLICK_PANEL_INDEX:kt+"__panel--index",FLICK_PANEL_ACTIVE:kt+"__panel--active",GHOST_IMAGE:"_CV_Ghost",HIDDEN:kt+"__is-hidden",HIDE:kt+"__is-closed",LAYOUT_BOTTOM:kt+"__bottom",HEADER:kt+"__header",FOOTER:kt+"__footer_layout",INDEX_INDICATOR:kt+"__header__number",NAVI_ROOT:kt+"__navi_root",V_IMAGE_INDEX:kt+"__side_index",V_INDEX_OPEN:kt+"__is_side_open",V_INDEX_OPEN_ANIMATION:kt+"__with_animation",V_INDEX_HEADER:kt+"__side_index_header",V_INDEX_TOTLAL:kt+"__side_total",V_INDEX_CURRENT:kt+"__side_current",V_INDEX_LIST:kt+"__side_index_list",V_INDEX_ITEM:kt+"__side_index_item",V_INDEX_ITEM_LINK:kt+"__item_link",V_INDEX_LOAD_ITEM:kt+"__load_item",V_INDEX_FAIL_ITEM:kt+"__fail_item",V_INDEX_ITEM_WRAPPER:kt+"__item_wrapper",V_INDEX_ITEM_SIZE:kt+"__item_size",V_INDEX_ITEM_INDEX:kt+"__item__",THUMB_IMG_LOAD_COMPLTE:kt+"__thumb_img_load_list",V_ITEM_LOADING:kt+"--loading",V_ITEM_WIDE:kt+"--wide",V_ITEM_TALL:kt+"--tall",V_INDEX_LOADING:kt+"__list_loading",V_INDEX_FOCUS:kt+"--focused",V_INDEX_SCROLL:kt+"__list_scroll",V_INDEX_MOVE_GHOST:kt+"__side_ghost",V_INDEX_EXCEPTION:kt+"__side_error_view",ICON:kt+"__icon",H_IMAGE_INDEX:kt+"__index",H_IMAGE_INDEX_FAIL:kt+"__thumb--fail",H_IMAGE_INDEX_LOADED:kt+"__thumb--transparent",H_IMAGE_INDEX_FOCUS:kt+"__thumb--focused",H_IMAGE_INDEX_DEFAULT:kt+"__thumb--default",H_IMAGE_INDEX_LOADING:kt+"__thumb--loading",H_IMAGE_INDEX_LOADING_ICON:kt+"__placeholder--loading",H_IMAGE_INDEX_LONG:kt+"__thumb-img--long",H_IMAGE_INDEX_SCROLL:kt+"__index ."+kt+"__thumbs",H_IMAGE_INDEX_WRAP:kt+"__index",H_IMAGE_INDEX_PREV_BTN:kt+"__thumb_arrow--prev",H_IMAGE_INDEX_NEXT_BTN:kt+"__thumb_arrow--next",H_IMAGE_INDEX_SCROLL_WRAPPER:kt+"__thumbs_wrapper",H_INDEX_INDICATOR:kt+"__index_count",IMAGE_PANEL:kt+"__content",IMAGE_PANEL_LOADING:kt+"__placeholder--loading",IMAGE_ITEM:kt+"__img",IMAGE_WRAP:kt+"__img_wrap",VIDEO_WRAP:kt+"__video_wrap",VIDEO_ITEM:kt+"__video",VIDEO_BUTTONS:kt+"__buttons",VIDEO_TOOLBAR:kt+"__video_toolbar",VIDEO_TOOLBAR_PLAY_BUTTON:kt+"__video_toolbar_play",VIDEO_TOOLBAR_PAUSE_BUTTON:kt+"__video_toolbar_pause",VIDEO_TOOLBAR_SOUND_MUTE_ON_BUTTON:kt+"__video_toolbar_sound_mute_on",VIDEO_TOOLBAR_SOUND_MUTE_OFF_BUTTON:kt+"__video_toolbar_sound_mute_off",VIDEO_TOOLBAR_CURRENT_TIME:kt+"__video_toolbar_current_time",VIDEO_TOOLBAR_DURATION_TIME:kt+"__video_toolbar_duration_time",VIDEO_TOOLBAR_PROGRESS_BAR:kt+"__video_toolbar_progressbar",VIDEO_TOOLBAR_LOAD_BAR:kt+"__video_toolbar_loadbar",VIDEO_TOOLBAR_PROGRESS_BTN:kt+"__video_toolbar_progress_btn",VIDEO_TOOLBAR_PROGRESS_CONTAINER:kt+"__video_toolbar_progress_container",VIDEO_CONTENTS:kt+"__video_content",VIDEO_SOURCE:kt+"__video_source",PLAY_BUTTON:kt+"__play_button",PAUSE_BUTTON:kt+"__pause_button",IMAGE_TRANSPARENT_BG:kt+"__img--transparent-bg",IMAGE_WILL_CHANGE:kt+"__img--will_change",INDEX_THUMB_IMAGE:kt+"__thumb",INDEX_INDICATOR_CURRENT:kt+"__current",INDEX_INDICATOR_TOTAL:kt+"__length",INDEX_HEADER_BTN:kt+"__header_number_btn",INDEX_ARROW_ICON:kt+"_arrow_icon",INDEX_ARROW_ICON_HIDDEN:kt+"_btn_icon",LINK:kt+"__url_link",LINK_TEXT:kt+"__url",LINK_WRAP:kt+"__url_wrap",RELOAD_BTN:kt+"__btn--refresh",SHARE_BUTTON:kt+"__header__btn--share",TOAST:kt+"__toast",TOUCH_HOME_BUTTON:"touch-home-button",TRANSFORM_TWEEN:kt+"__tween--transform",BACKGROUND_TWEEN:kt+"__tween--background",NOT_SUPPORT_CLOSE:kt+"__btn--close",NOT_SUPPORT_WRAP:kt+"__placeholder--error",CUSTOM_LAYOUT_POSITION_TOP:kt+"__viewer_custom_top",CUSTOM_LAYOUT_POSITION_LEFT:kt+"__viewer_custom_left",CUSTOM_LAYOUT_POSITION_RIGHT:kt+"__viewer_custom_right",CUSTOM_LAYOUT_POSITION_BOTTOM:kt+"__viewer_custom_bottom",CUSTOM_LAYOUT_POSITION_BUTTONS:kt+"__viewer_custom_buttons",SHARE_BTN_AREA:kt+"__shared_button",DOWN_LOAD_BTN:kt+"__header__btn--download"};var zt,Ht,jt,Gt=Ot(ht=Ct(Vt)).call(ht,function(t,e){return t[e]="."+Vt[e],t},{}),Bt="이미지를 불러오지 못했습니다. <br>새로고침 해주세요.",Ft="파일을 불러오지 못했습니다. <br>새로고침 해주세요.",Ut={TOAST_EXPOSE_TIME:2e3,IMAGE_LOAD_TIMEOUT:5e3,FLICK_PANEL_PADDING:20,DEFAULT_DOMINANT_COLOR:[27,27,30],DISABLE_FLICK_THRESHOLD:40,ORG_IMG_LOAD_DEBOUNCE_WAIT:300,H_IMAGE_INDEX_ITEM_PADDING:20,H_IMAGE_INDEX_HEIGHT:92,H_IMAGE_INDEX_ITEM_MARGIN:2,DOMINANT_ADJUST_CONST_FOR_BACKGROUND:12,DOMINANT_ADJUST_CONST_FOR_INDEX_LAYER:8,IPHONE_X_INDEX_PADDING:34,CAPTION_BASE_PADDING:22,IPHONE_X_CAPTION_PADDING:20},Xt={SHOW:"EXCEPTION_SHOW",HIDE:"EXCEPTION_HIDE",REFRESH:"EXCEPTION_REFRESH"},qt={SHOW:"IMAGEINDEX_SHOW",HIDE:"IMAGEINDEX_HIDE",HIDED:"IMAGEINDEX_HIDED",REFRESH:"IMAGEINDEX_REFRESH",CLICK:"IMAGEINDEX_CLICK",TOGGLE:"IMAGEINDEX_TOGGLE",NEXT_CLICK:"NEXT_CLICK",PREV_CLICK:"PREV_CLICK",REACH_END_ITEM:"REACH_END_ITEM"},Wt="V_IMAGEINDEX_SHOW",Yt="V_IMAGEINDEX_HIDE",Kt="V_IMAGEINDEX_CLICK",$t="LAYOUT_RELOAD",Zt="REACH_END_ITEM",Jt="TOGGLE_INDEX",Qt="RESIZE",te="GHOST_MOVE_START",ee="GHOST_MOVE_END",ie={TOGGLE:"INDICATOR_EVENT_TOGGLE"};(gt=zt=zt||{}).IMAGE="image",gt.VIDEO="video",(_t=Ht=Ht||{}).DATA="data",_t.VOD="vod",(Et=jt=jt||{}).READY="VIDEO_READY",Et.CANPLAY="VIDEO_CANPLAY",Et.PLAY="VIDEO_PLAY",Et.PLAYING="VIDEO_PLAYING",Et.PAUSE="VIDEO_PAUSE",Et.UPDATE_CURRENT_TIME="VIDEO_UPDATE_CURRENT_TIME",Et.UPDATE_DURATION_TIME="VIDEO_UPDATE_DURATION_TIME",Et.PROGRESS="VIDEO_PROGRESS",Et.SUSPEND="VIDEO_SUSPEND",Et.ERROR="ERROR",Et.END="END",Et.VOLUME_CHANGE="VIDEO_VOLUME_CHANGE",Et.TIGGER_TOGGLE_PLAY="VIDEO_TOGGLE_PLAY",Et.TRIGGER_SOUND_MUTE_ON="VIDEO_SOUND_MUTE_ON",Et.TRIGGER_SOUND_MUTE_OFF="VIDEO_SOUND_MUTE_OFF",Et.TRIGGER_CHANGE_TIME="CHANGE_TIME",Et.TRIGGER_PLAY="TRIGGER_PLAY",Et.TRIGGER_PAUSE="TRIGGER_PAUSE",Et.TRIGGER_CLOSE="TRIGGER_CLOSE",Et.TRIGGER_RESIZE="TRIGGER_RESIZE",Et.TRIGGER_UNBIND="TRIGGER_UNBIND";function ne(t){try{return!!t()}catch(t){return!0}}function re(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function oe(t){return Ae.call(t).slice(8,-1)}function se(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function ae(t){return De(se(t))}function ue(t){return"object"==typeof t?null!==t:"function"==typeof t}function ce(t,e){if(!ue(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!ue(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!ue(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!ue(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}function le(t,e){return Le.call(t,e)}function he(t){return Re?Ne.createElement(t):{}}function pe(t){if(!ue(t))throw TypeError(String(t)+" is not an object");return t}function fe(e,i){try{je(Pe,e,i)}catch(t){Pe[e]=i}return i}var de="dev",ge={VINFRA:"VINFRA_CORE",CUSTOM:"CUSTOM",DUMMY:"Dummy"},ve="media_viewer_video_mute",me="VIDEO_TOOLBAR_SHOW",ye="VIDEO_TOOLBAR_HIDE",_e="VIDEO_TOOLBAR_PLAY",Ee="VIDEO_TOOLBAR_PAUSE",Ie="VIDEO_TOOLBAR_SOUND_MUTE_ON",be="VIDEO_TOOLBAR_SOUND_MUTE_OFF",Te="VIDEO_TOOLBAR_SEEK_TIME",It=function(t){return t&&t.Math==Math&&t},Pe=It("object"==typeof globalThis&&globalThis)||It("object"==typeof window&&window)||It("object"==typeof self&&self)||It("object"==typeof nt&&nt)||function(){return this}()||Function("return this")(),Se=!ne(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),xe={}.propertyIsEnumerable,Oe=Object.getOwnPropertyDescriptor,we={f:Oe&&!xe.call({1:2},1)?function(t){t=Oe(this,t);return!!t&&t.enumerable}:xe},Ae={}.toString,Ce="".split,De=ne(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==oe(t)?Ce.call(t,""):Object(t)}:Object,Le={}.hasOwnProperty,Ne=Pe.document,Re=ue(Ne)&&ue(Ne.createElement),Me=!Se&&!ne(function(){return 7!=Object.defineProperty(he("div"),"a",{get:function(){return 7}}).a}),ke=Object.getOwnPropertyDescriptor,Ve={f:Se?ke:function(t,e){if(t=ae(t),e=ce(e,!0),Me)try{return ke(t,e)}catch(t){}if(le(t,e))return re(!we.f.call(t,e),t[e])}},ze=Object.defineProperty,He={f:Se?ze:function(t,e,i){if(pe(t),e=ce(e,!0),pe(i),Me)try{return ze(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},je=Se?function(t,e,i){return He.f(t,e,re(1,i))}:function(t,e,i){return t[e]=i,t},Ge="__core-js_shared__",Be=Pe[Ge]||fe(Ge,{}),Fe=Function.toString;"function"!=typeof Be.inspectSource&&(Be.inspectSource=function(t){return Fe.call(t)});function Ue(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++ti+ei).toString(36)}var Xe,qe,We,Ye,Ke,$e,Ze,Je,Qe=Be.inspectSource,vt=Pe.WeakMap,_="function"==typeof vt&&/native code/.test(Qe(vt)),z=i(function(t){(t.exports=function(t,e){return Be[t]||(Be[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),ti=0,ei=Math.random(),ii=z("keys"),tt=function(t){return ii[t]||(ii[t]=Ue(t))},ni={},ht=Pe.WeakMap;Ze=_?(Xe=Be.state||(Be.state=new ht),qe=Xe.get,We=Xe.has,Ye=Xe.set,Ke=function(t,e){return e.facade=t,Ye.call(Xe,t,e),e},$e=function(t){return qe.call(Xe,t)||{}},function(t){return We.call(Xe,t)}):(Je=tt("state"),ni[Je]=!0,Ke=function(t,e){return e.facade=t,je(t,Je,e),e},$e=function(t){return le(t,Je)?t[Je]:{}},function(t){return le(t,Je)});function ri(t){return"function"==typeof t?t:void 0}function oi(t,e){return arguments.length<2?ri(hi[t])||ri(Pe[t]):hi[t]&&hi[t][e]||Pe[t]&&Pe[t][e]}function si(t){return isNaN(t=+t)?0:(0<t?fi:pi)(t)}function ai(t){return 0<t?di(si(t),9007199254740991):0}function ui(t,e){var i,n=ae(t),r=0,o=[];for(i in n)!le(ni,i)&&le(n,i)&&o.push(i);for(;e.length>r;)le(n,i=e[r++])&&(~mi(o,i)||o.push(i));return o}var ci={set:Ke,get:$e,has:Ze,enforce:function(t){return Ze(t)?$e(t):Ke(t,{})},getterFor:function(i){return function(t){var e;if(!ue(t)||(e=$e(t)).type!==i)throw TypeError("Incompatible receiver, "+i+" required");return e}}},li=i(function(t){var e=ci.get,a=ci.enforce,u=String(String).split("String");(t.exports=function(t,e,i,n){var r=!!n&&!!n.unsafe,o=!!n&&!!n.enumerable,s=!!n&&!!n.noTargetGet;"function"==typeof i&&("string"!=typeof e||le(i,"name")||je(i,"name",e),(n=a(i)).source||(n.source=u.join("string"==typeof e?e:""))),t!==Pe?(r?!s&&t[e]&&(o=!0):delete t[e],o?t[e]=i:je(t,e,i)):o?t[e]=i:fe(e,i)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||Qe(this)})}),hi=Pe,pi=Math.ceil,fi=Math.floor,di=Math.min,gi=Math.max,vi=Math.min,gt=function(a){return function(t,e,i){var n,r=ae(t),o=ai(r.length),s=function(t,e){t=si(t);return t<0?gi(t+e,0):vi(t,e)}(i,o);if(a&&e!=e){for(;s<o;)if((n=r[s++])!=n)return!0}else for(;s<o;s++)if((a||s in r)&&r[s]===e)return a||s||0;return!a&&-1}},mi={includes:gt(!0),indexOf:gt(!1)}.indexOf,yi=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_i=yi.concat("length","prototype"),Ei={f:Object.getOwnPropertyNames||function(t){return ui(t,_i)}},Ii={f:Object.getOwnPropertySymbols},bi=oi("Reflect","ownKeys")||function(t){var e=Ei.f(pe(t)),i=Ii.f;return i?e.concat(i(t)):e},Ti=/#|\.prototype\./,_t=function(t,e){t=Si[Pi(t)];return t==Oi||t!=xi&&("function"==typeof e?ne(e):!!e)},Pi=_t.normalize=function(t){return String(t).replace(Ti,".").toLowerCase()},Si=_t.data={},xi=_t.NATIVE="N",Oi=_t.POLYFILL="P",wi=_t,Ai=Ve.f,Et=function(t,e){var i,n,r,o=t.target,s=t.global,a=t.stat,u=s?Pe:a?Pe[o]||fe(o,{}):(Pe[o]||{}).prototype;if(u)for(i in e){if(n=e[i],r=t.noTargetGet?(r=Ai(u,i))&&r.value:u[i],!wi(s?i:o+(a?".":"#")+i,t.forced)&&void 0!==r){if(typeof n==typeof r)continue;!function(t,e){for(var i=bi(e),n=He.f,r=Ve.f,o=0;o<i.length;o++){var s=i[o];le(t,s)||n(t,s,r(e,s))}}(n,r)}(t.sham||r&&r.sham)&&je(n,"sham",!0),li(u,i,n,t)}},It=function(t,e){var i=[][t];return!!i&&ne(function(){i.call(null,e||function(){throw 1},1)})},Ci=[].join,xe=De!=Object,Ge=It("join",",");Et({target:"Array",proto:!0,forced:xe||!Ge},{join:function(t){return Ci.call(ae(this),void 0===t?",":t)}});var Di=function(t,e){return(Di=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Li(t,e){function i(){this.constructor=t}Di(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Ni=function(){return(Ni=Object.assign||function(t){for(var e,i=arguments,n=1,r=arguments.length;n<r;n++)for(var o in e=i[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Ri(t,e,i,n){var r,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(r=t[a])&&(s=(o<3?r(s):3<o?r(e,i,s):r(e,i))||s);return 3<o&&s&&Object.defineProperty(e,i,s),s}function Mi(t,s,a,u){return new(a=a||Promise)(function(i,e){function n(t){try{o(u.next(t))}catch(t){e(t)}}function r(t){try{o(u.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?i(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(n,r)}o((u=u.apply(t,s||[])).next())})}function ki(i,n){var r,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=n.call(i,a)}catch(t){e=[6,t],o=0}finally{r=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function Vi(t){return void 0===t}function zi(){var t=pe(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}var Hi=function(){var t=function(){function t(){this._eventHandler={},this.options={}}var e=t.prototype;return e.trigger=function(t,e){var i=arguments;void 0===e&&(e={});var n=this._eventHandler[t]||[];if(!(0<n.length))return!0;n=n.concat(),e.eventType=t;var r=!1,o=[e],s=0;e.stop=function(){r=!0},e.currentTarget=this;for(var a=arguments.length,u=new Array(2<a?a-2:0),c=2;c<a;c++)u[c-2]=i[c];for(1<=u.length&&(o=o.concat(u)),s=0;n[s];s++)n[s].apply(this,o);return!r},e.once=function(o,s){if("object"==typeof o&&Vi(s)){var t,e=o;for(t in e)this.once(t,e[t]);return this}var a;return"string"==typeof o&&"function"==typeof s&&(a=this).on(o,function t(){for(var e=arguments,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=e[r];s.apply(a,n),a.off(o,t)}),this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"==typeof t&&Vi(e)){var i,n=t;for(i in n)this.on(i,n[i]);return this}var r;return"string"==typeof t&&"function"==typeof e&&(Vi(r=this._eventHandler[t])&&(this._eventHandler[t]=[],r=this._eventHandler[t]),r.push(e)),this},e.off=function(t,e){if(Vi(t))return this._eventHandler={},this;if(Vi(e)){if("string"==typeof t)return this._eventHandler[t]=void 0,this;var i,n=t;for(i in n)this.off(i,n[i]);return this}var r=this._eventHandler[t];if(r)for(var o,s=0;void 0!==(o=r[s]);s++)if(o===e){r=r.splice(s,1);break}return this},t}();return t.VERSION="2.1.2",t}(),vt={__proto__:null,default:Hi};function ji(t,e){return RegExp(t,e)}var _={UNSUPPORTED_Y:ne(function(){var t=ji("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),BROKEN_CARET:ne(function(){var t=ji("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},Gi=RegExp.prototype.exec,Bi=String.prototype.replace,ht=Gi,Fi=(gt=/a/,_t=/b*/g,Gi.call(gt,"a"),Gi.call(_t,"a"),0!==gt.lastIndex||0!==_t.lastIndex),Ui=_.UNSUPPORTED_Y||_.BROKEN_CARET,Xi=void 0!==/()??/.exec("")[1],qi=ht=Fi||Xi||Ui?function(t){var e,i,n,r,o=this,s=Ui&&o.sticky,a=zi.call(o),u=o.source,c=0,l=t;return s&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),l=String(t).slice(o.lastIndex),0<o.lastIndex&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(u="(?: "+u+")",l=" "+l,c++),i=new RegExp("^(?:"+u+")",a)),Xi&&(i=new RegExp("^"+u+"$(?!\\s)",a)),Fi&&(e=o.lastIndex),n=Gi.call(s?i:o,l),s?n?(n.input=n.input.slice(c),n[0]=n[0].slice(c),n.index=o.lastIndex,o.lastIndex+=n[0].length):o.lastIndex=0:Fi&&n&&(o.lastIndex=o.global?n.index+n[0].length:e),Xi&&n&&1<n.length&&Bi.call(n[0],i,function(){var t=arguments;for(r=1;r<arguments.length-2;r++)void 0===t[r]&&(n[r]=void 0)}),n}:ht;Et({target:"RegExp",proto:!0,forced:/./.exec!==qi},{exec:qi});var Wi="process"==oe(Pe.process),xe=oi("navigator","userAgent")||"",Ge=Pe.process,gt=Ge&&Ge.versions,_t=gt&&gt.v8;_t?On=(xn=_t.split("."))[0]+xn[1]:xe&&(!(xn=xe.match(/Edge\/(\d+)/))||74<=xn[1])&&(xn=xe.match(/Chrome\/(\d+)/))&&(On=xn[1]);function Yi(t){return le(en,t)&&(tn||"string"==typeof en[t])||(tn&&le(nn,t)?en[t]=nn[t]:en[t]=rn("Symbol."+t)),en[t]}function Ki(t){var e;return ue(t)&&(void 0!==(e=t[ln])?!!e:"RegExp"==oe(t))}function $i(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function Zi(t,e,i){return e+(i?pn(t,e).length:1)}function Ji(t,e){var i=t.exec;if("function"==typeof i){i=i.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==oe(t))throw TypeError("RegExp#exec called on incompatible receiver");return qi.call(t,e)}var Qi=On&&+On,tn=!!Object.getOwnPropertySymbols&&!ne(function(){return!Symbol.sham&&(Wi?38===Qi:37<Qi&&Qi<41)}),ht=tn&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,en=z("wks"),nn=Pe.Symbol,rn=ht?nn:nn&&nn.withoutSetter||Ue,on=Yi("species"),sn=!ne(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),an="$0"==="a".replace(/./,"$0"),Ge=Yi("replace"),un=!!/./[Ge]&&""===/./[Ge]("a","$0"),cn=!ne(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};t="ab".split(t);return 2!==t.length||"a"!==t[0]||"b"!==t[1]}),gt=function(i,t,e,n){var o,r,s=Yi(i),a=!ne(function(){var t={};return t[s]=function(){return 7},7!=""[i](t)}),u=a&&!ne(function(){var t=!1,e=/a/;return"split"===i&&((e={constructor:{}}).constructor[on]=function(){return e},e.flags="",e[s]=/./[s]),e.exec=function(){return t=!0,null},e[s](""),!t});a&&u&&("replace"!==i||sn&&an&&!un)&&("split"!==i||cn)||(o=/./[s],e=(u=e(s,""[i],function(t,e,i,n,r){return e.exec===qi?a&&!r?{done:!0,value:o.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}},{REPLACE_KEEPS_$0:an,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:un}))[0],r=u[1],li(String.prototype,i,e),li(RegExp.prototype,s,2==t?function(t,e){return r.call(t,this,e)}:function(t){return r.call(t,this)})),n&&je(RegExp.prototype[s],"sham",!0)},ln=Yi("match"),hn=Yi("species"),_t=function(o){return function(t,e){var i,n=String(se(t)),r=si(e),t=n.length;return r<0||t<=r?o?"":void 0:(e=n.charCodeAt(r))<55296||56319<e||r+1===t||(i=n.charCodeAt(r+1))<56320||57343<i?o?n.charAt(r):e:o?n.slice(r,r+2):i-56320+(e-55296<<10)+65536}},pn={codeAt:_t(!1),charAt:_t(!0)}.charAt,fn=[].push,dn=Math.min,gn=4294967295,vn=!ne(function(){return!RegExp(gn,"y")});gt("split",2,function(r,g,v){var m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var i=String(se(this)),n=void 0===e?gn:e>>>0;if(0==n)return[];if(void 0===t)return[i];if(!Ki(t))return g.call(i,t,n);for(var r,o,s,a=[],e=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,c=new RegExp(t.source,e+"g");(r=qi.call(c,i))&&!(u<(o=c.lastIndex)&&(a.push(i.slice(u,r.index)),1<r.length&&r.index<i.length&&fn.apply(a,r.slice(1)),s=r[0].length,u=o,a.length>=n));)c.lastIndex===r.index&&c.lastIndex++;return u===i.length?!s&&c.test("")||a.push(""):a.push(i.slice(u)),a.length>n?a.slice(0,n):a}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:g.call(this,t,e)}:g;return[function(t,e){var i=se(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,i,e):m.call(String(i),t,e)},function(t,e){var i=v(m,t,this,e,m!==g);if(i.done)return i.value;var n=pe(t),r=String(this),t=(i=n,t=RegExp,void 0===(i=pe(i).constructor)||null==(s=pe(i)[hn])?t:$i(s)),o=n.unicode,s=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(vn?"y":"g"),a=new t(vn?n:"^(?:"+n.source+")",s),u=void 0===e?gn:e>>>0;if(0==u)return[];if(0===r.length)return null===Ji(a,r)?[r]:[];for(var c=0,l=0,h=[];l<r.length;){a.lastIndex=vn?l:0;var p,f=Ji(a,vn?r:r.slice(l));if(null===f||(p=dn(ai(a.lastIndex+(vn?0:l)),r.length))===c)l=Zi(r,l,o);else{if(h.push(r.slice(c,l)),h.length===u)return h;for(var d=1;d<=f.length-1;d++)if(h.push(f[d]),h.length===u)return h;l=c=p}}return h.push(r.slice(c)),h}]},!vn);var mn,yn=void 0!==yn&&yn.Math===Math?yn:"undefined"!=typeof self&&(self.Math===Math?self:Function("return this")()),_n=yn.document,En=function(t,e){yn.localStorage.setItem(t,e)},In=function(t){return yn.localStorage.getItem(t)},bn=function(t){return yn.localStorage.removeItem(t)},Tn="\t\n\v\f\r                　\u2028\u2029\ufeff",xe="["+Tn+"]",Pn=RegExp("^"+xe+xe+"*"),Sn=RegExp(xe+xe+"*$"),xn=function(e){return function(t){t=String(s(t));return 1&e&&(t=t.replace(Pn,"")),t=2&e?t.replace(Sn,""):t}},On={start:xn(1),end:xn(2),trim:xn(3)},wn=On.trim;y({target:"String",proto:!0,forced:(mn="trim",n(function(){return Tn[mn]()||"​᠎"!="​᠎"[mn]()||Tn[mn].name!==mn}))},{trim:function(){return wn(this)}}),S("String").trim;var An=On.trim,Cn=T.parseFloat,z=1/Cn(Tn+"-0")!=-1/0?function(t){var e=An(String(t)),t=Cn(e);return 0===t&&"-"==e.charAt(0)?-0:t}:Cn;y({global:!0,forced:parseFloat!=z},{parseFloat:z});var Dn=U.parseFloat,Ln=et.indexOf,Nn=[].indexOf,Rn=!!Nn&&1/[1].indexOf(1,-0)<0,ht=mt("indexOf");y({target:"Array",proto:!0,forced:Rn||!ht},{indexOf:function(t){return Rn?Nn.apply(this,arguments)||0:Ln(this,t,1<arguments.length?arguments[1]:void 0)}});function Mn(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Fn+Un).toString(36)}function kn(t){return d(qn,t)&&(Xn||"string"==typeof qn[t])||(Xn&&d(Wn,t)?qn[t]=Wn[t]:qn[t]=Yn("Symbol."+t)),qn[t]}function Vn(t,e){var i;return new(void 0===(i=Gn(t)&&("function"==typeof(i=t.constructor)&&(i===Array||Gn(i.prototype))||l(i)&&null===(i=i[Kn]))?void 0:i)?Array:i)(0===e?0:e)}var zn=S("Array").indexOf,Hn=Array.prototype,jn=function(t){var e=t.indexOf;return t===Hn||t instanceof Array&&e===Hn.indexOf?zn:e},Gn=Array.isArray||function(t){return"Array"==r(t)},Ge="__core-js_shared__",Bn=T[Ge]||function(e,i){try{W(T,e,i)}catch(t){T[e]=i}return i}(Ge,{}),_t=i(function(t){(t.exports=function(t,e){return Bn[t]||(Bn[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:"pure",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),Fn=0,Un=Math.random(),Xn=!!Object.getOwnPropertySymbols&&!n(function(){return!Symbol.sham&&(Tt?38===bt:37<bt&&bt<41)}),xe=Xn&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,qn=_t("wks"),Wn=T.Symbol,Yn=xe?Wn:Wn&&Wn.withoutSetter||Mn,Kn=kn("species"),$n=[].push,xn=function(p){var f=1==p,d=2==p,g=3==p,v=4==p,m=6==p,y=7==p,_=5==p||m;return function(t,e,i,n){for(var r,o,s=b(t),a=C(s),u=E(e,i,3),c=I(a.length),l=0,n=n||Vn,h=f?n(t,c):d||y?n(t,0):void 0;l<c;l++)if((_||l in a)&&(o=u(r=a[l],l,s),p))if(f)h[l]=o;else if(o)switch(p){case 3:return!0;case 5:return r;case 6:return l;case 2:$n.call(h,r)}else switch(p){case 4:return!1;case 7:$n.call(h,r)}return m?-1:g||v?v:h}},z={forEach:xn(0),map:xn(1),filter:xn(2),some:xn(3),every:xn(4),find:xn(5),findIndex:xn(6),filterOut:xn(7)},Zn=kn("species"),et=function(e){return 51<=bt||!n(function(){var t=[];return(t.constructor={})[Zn]=function(){return{foo:1}},1!==t[e](Boolean).foo})},Jn=z.map,ht=et("map");y({target:"Array",proto:!0,forced:!ht},{map:function(t){return Jn(this,t,1<arguments.length?arguments[1]:void 0)}});var Qn=S("Array").map,tr=Array.prototype,er=function(t){var e=t.map;return t===tr||t instanceof Array&&e===tr.map?Qn:e};gt("match",1,function(n,u,c){return[function(t){var e=se(this),i=null==t?void 0:t[n];return void 0!==i?i.call(t,e):new RegExp(t)[n](String(e))},function(t){var e=c(u,t,this);if(e.done)return e.value;var i=pe(t),n=String(this);if(!i.global)return Ji(i,n);for(var r=i.unicode,o=[],s=i.lastIndex=0;null!==(a=Ji(i,n));){var a=String(a[0]);""===(o[s]=a)&&(i.lastIndex=Zi(n,ai(i.lastIndex),r)),s++}return 0===s?null:o}]});function ir(t){return Object(se(t))}function nr(t,e){var i;return new(void 0===(i=or(t)&&("function"==typeof(i=t.constructor)&&(i===Array||or(i.prototype))||ue(i)&&null===(i=i[sr]))?void 0:i)?Array:i)(0===e?0:e)}var rr,or=Array.isArray||function(t){return"Array"==oe(t)},sr=Yi("species"),ar=[].push,Ge=function(p){var f=1==p,d=2==p,g=3==p,v=4==p,m=6==p,y=7==p,_=5==p||m;return function(t,e,i,n){for(var r,o,s=ir(t),a=De(s),u=function(n,r,t){if($i(n),void 0===r)return n;switch(t){case 0:return function(){return n.call(r)};case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,i){return n.call(r,t,e,i)}}return function(){return n.apply(r,arguments)}}(e,i,3),c=ai(a.length),l=0,n=n||nr,h=f?n(t,c):d||y?n(t,0):void 0;l<c;l++)if((_||l in a)&&(o=u(r=a[l],l,s),p))if(f)h[l]=o;else if(o)switch(p){case 3:return!0;case 5:return r;case 6:return l;case 2:ar.call(h,r)}else switch(p){case 4:return!1;case 7:ar.call(h,r)}return m?-1:g||v?v:h}},xn={forEach:Ge(0),map:Ge(1),filter:Ge(2),some:Ge(3),every:Ge(4),find:Ge(5),findIndex:Ge(6),filterOut:Ge(7)},ur=xn.forEach,cr=It("forEach")?[].forEach:function(t){return ur(this,t,1<arguments.length?arguments[1]:void 0)};for(rr in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var lr=Pe[rr],lr=lr&&lr.prototype;if(lr&&lr.forEach!==cr)try{je(lr,"forEach",cr)}catch(t){lr.forEach=cr}}var hr=Math.floor,pr="".replace,fr=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,dr=/\$([$&'`]|\d{1,2})/g,gr=Math.max,vr=Math.min;gt("replace",2,function(r,E,I,t){var b=t.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,T=t.REPLACE_KEEPS_$0,P=b?"$":"$0";return[function(t,e){var i=se(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,i,e):E.call(String(i),t,e)},function(t,e){if(!b&&T||"string"==typeof e&&-1===e.indexOf(P)){var i=I(E,t,this,e);if(i.done)return i.value}var n=pe(t),r=String(this),o="function"==typeof e;o||(e=String(e));var s,a=n.global;a&&(s=n.unicode,n.lastIndex=0);for(var u=[];;){var c=Ji(n,r);if(null===c)break;if(u.push(c),!a)break;""===String(c[0])&&(n.lastIndex=Zi(r,ai(n.lastIndex),s))}for(var l,h="",p=0,f=0;f<u.length;f++){for(var c=u[f],d=String(c[0]),g=gr(vr(si(c.index),r.length),0),v=[],m=1;m<c.length;m++)v.push(void 0===(l=c[m])?l:String(l));var y,_=c.groups,_=o?(y=[d].concat(v,g,r),void 0!==_&&y.push(_),String(e.apply(void 0,y))):function(o,s,a,u,c,t){var l=a+o.length,h=u.length,e=dr;return void 0!==c&&(c=ir(c),e=fr),pr.call(t,e,function(t,e){var i;switch(e.charAt(0)){case"$":return"$";case"&":return o;case"`":return s.slice(0,a);case"'":return s.slice(l);case"<":i=c[e.slice(1,-1)];break;default:var n=+e;if(0==n)return t;if(h<n){var r=hr(n/10);return 0===r?t:r<=h?void 0===u[r-1]?e.charAt(1):u[r-1]+e.charAt(1):t}i=u[n-1]}return void 0===i?"":i})}(d,r,g,v,_,e);p<=g&&(h+=r.slice(p,g)+_,p=g+d.length)}return h+r.slice(p)}]});function mr(t,e,i){var n,r;return Er&&"function"==typeof(n=e.constructor)&&n!==i&&ue(r=n.prototype)&&r!==i.prototype&&Er(t,r),t}var yr,_r,Er=Object.setPrototypeOf||("__proto__"in{}?function(){var i,n=!1,t={};try{(i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),n=t instanceof Array}catch(t){}return function(t,e){return pe(t),function(t){if(!ue(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(e),n?i.call(t,e):t.__proto__=e,t}}():void 0),Ir=Yi("species"),br=He.f,ht=Ei.f,Tr=ci.set,Pr=Yi("match"),Sr=Pe.RegExp,xr=Sr.prototype,Or=/a/g,wr=/a/g,Ar=new Sr(Or)!==Or,Cr=_.UNSUPPORTED_Y;if(Se&&wi("RegExp",!Ar||Cr||ne(function(){return wr[Pr]=!1,Sr(Or)!=Or||Sr(wr)==wr||"/a/i"!=Sr(Or,"i")}))){for(var Dr=function(t,e){var i,n=this instanceof Dr,r=Ki(t),o=void 0===e;if(!n&&r&&t.constructor===Dr&&o)return t;Ar?r&&!o&&(t=t.source):t instanceof Dr&&(o&&(e=zi.call(t)),t=t.source),Cr&&(i=!!e&&-1<e.indexOf("y"))&&(e=e.replace(/y/g,""));n=mr(Ar?new Sr(t,e):Sr(t,e),n?this:xr,Dr);return Cr&&i&&Tr(n,{sticky:i}),n},Lr=ht(Sr),Nr=0;Lr.length>Nr;)!function(e){e in Dr||br(Dr,e,{configurable:!0,get:function(){return Sr[e]},set:function(t){Sr[e]=t}})}(Lr[Nr++]);(xr.constructor=Dr).prototype=xr,li(Pe,"RegExp",Dr)}_r=oi(yr="RegExp"),yr=He.f,Se&&_r&&!_r[Ir]&&yr(_r,Ir,{configurable:!0,get:function(){return this}});var Ge="toString",Rr=RegExp.prototype,Mr=Rr[Ge],It=ne(function(){return"/a/b"!=Mr.call({source:"a",flags:"b"})}),gt=Mr.name!=Ge;(It||gt)&&li(RegExp.prototype,Ge,function(){var t=pe(this),e=String(t.source),i=t.flags;return"/"+e+"/"+String(void 0===i&&t instanceof RegExp&&!("flags"in Rr)?zi.call(t):i)},{unsafe:!0});function kr(t,e,i){(e=o(e))in t?q.f(t,e,g(0,i)):t[e]=i}var _=et("slice"),Vr=kn("species"),zr=[].slice,Hr=Math.max;y({target:"Array",proto:!0,forced:!_},{slice:function(t,e){var i,n,r,o=c(this),s=I(o.length),a=f(t,s),u=f(void 0===e?s:e,s);if(Gn(o)&&((i="function"==typeof(i=o.constructor)&&(i===Array||Gn(i.prototype))||l(i)&&null===(i=i[Vr])?void 0:i)===Array||void 0===i))return zr.call(o,a,u);for(n=new(void 0===i?Array:i)(Hr(u-a,0)),r=0;a<u;a++,r++)a in o&&kr(n,r,o[a]);return n.length=r,n}});function jr(){}function Gr(t){return"<script>"+t+"</"+$r+">"}var Br,Fr=S("Array").slice,Ur=Array.prototype,Xr=function(t){var e=t.slice;return t===Ur||t instanceof Array&&e===Ur.slice?Fr:e},qr=Object.keys||function(t){return ui(t,yi)},Wr=Se?Object.defineProperties:function(t,e){pe(t);for(var i,n=qr(e),r=n.length,o=0;o<r;)He.f(t,i=n[o++],e[i]);return t},Yr=oi("document","documentElement"),Kr="prototype",$r="script",Zr=tt("IE_PROTO"),Jr=function(){try{Br=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t;Jr=Br?function(t){t.write(Gr("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Br):((t=he("iframe")).style.display="none",Yr.appendChild(t),t.src=String("javascript:"),(t=t.contentWindow.document).open(),t.write(Gr("document.F=Object")),t.close(),t.F);for(var e=yi.length;e--;)delete Jr[Kr][yi[e]];return Jr()};ni[Zr]=!0;function Qr(t){var e,i,n,r,o,s,a,u=ce(t,!1);if("string"==typeof u&&2<u.length)if(43===(e=(u=ro(u)).charCodeAt(0))||45===e){if(88===(t=u.charCodeAt(2))||120===t)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+u}for(o=(r=u.slice(2)).length,s=0;s<o;s++)if((a=r.charCodeAt(s))<48||n<a)return NaN;return parseInt(r,i)}return+u}var ht=Object.create||function(t,e){var i;return null!==t?(jr[Kr]=pe(t),i=new jr,jr[Kr]=null,i[Zr]=t):i=Jr(),void 0===e?i:Wr(i,e)},It="[\t\n\v\f\r                　\u2028\u2029\ufeff]",to=RegExp("^"+It+It+"*"),eo=RegExp(It+It+"*$"),gt=function(e){return function(t){t=String(se(t));return 1&e&&(t=t.replace(to,"")),t=2&e?t.replace(eo,""):t}},Ge={start:gt(1),end:gt(2),trim:gt(3)},_=Ei.f,io=Ve.f,no=He.f,ro=Ge.trim,oo="Number",so=Pe[oo],ao=so.prototype,uo=oe(ht(ao))==oo;if(wi(oo,!so(" 0o1")||!so("0b1")||so("+0x1"))){for(var co,lo=function(t){var t=arguments.length<1?0:t,e=this;return e instanceof lo&&(uo?ne(function(){ao.valueOf.call(e)}):oe(e)!=oo)?mr(new so(Qr(t)),e,lo):Qr(t)},ho=Se?_(so):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),po=0;ho.length>po;po++)le(so,co=ho[po])&&!le(lo,co)&&no(lo,co,io(so,co));(lo.prototype=ao).constructor=lo,li(Pe,oo,lo)}function fo(t,e){e=new RegExp("("+e+")+(\\/|\\s)([\\d_\\.]+|\\d_0)","i");e.exec(t)&&(i=e.exec(t)[3].replace(/_/g,".").replace(/;|\)/g,""));var i;return Dn(function(t){t=t.split(".");return 1===t.length?t[0]:[t[0],Xr(t).call(t,1).join("")].join(".")}(i=i||"999"))}function go(){return window.innerWidth<window.innerHeight}function vo(){var t=["750x1498","1125x2244","1242x2496"],e=window.devicePixelRatio||1,e=innerWidth*e+"x"+innerHeight*e;return-1<jn(t).call(t,e)}function mo(t){return(/(iPad|iPhone|iphone|iPod).*?(OS |os |OS)(\d+((_|\.)\d)?((_|\.)\d)?)/.test(t)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)&&!window.MSStream}var yo,_o=/MSIE|Trident|Windows Phone/,Eo=/Windows|MAC|Windows 2000|Windows NT|Mac|OS X|Macintosh/,Io=/Android/,bo=/OS X|Mac/;(tt=yo=yo||{}).ANDROID="android",tt.IOS="ios",tt.IE="ie",tt.UNKNOWN="unknown";var To=null;function Po(e,i){return function(t){return e>=Number(t[i])}}function So(t){var n,e,i,r,o;return!t&&null!==To||(n=t||navigator.userAgent,r=Eo.test(n)&&!mo(n),o={isNaverApp:!!(/NAVER/.test(n)||window.g_inapp&&1===window.g_inapp),type:yo.UNKNOWN,isAndroid:!1,isIOS:!1,isIE:!1,cssPrefix:(i="",{transition:(i=void 0!==document.body.style.webkitTransition?"webkit":i)?i+"Transition":"transition",transform:i?i+"Transform":"transform",transformOrigin:i?i+"TransformOrigin":"transformOrigin",transitionEnd:i?i+"TransitionEnd":"transitionend"}),useCss3d:!0,supportBrowser:function(){return e=n,Ct(i={whale:/Whale/,edge:/Edge/,chrome:/Chrome|CriOS/,safari:/Apple|iPhone|iPad/,firefox:/Firefox/,samsung:/SAMSUNG |SamsungBrowser/}).some(function(t){return i[t].test(e)});var e,i},isUnbackableBrowser:!1,isDeskTop:r,isMobile:!r,isMacOs:bo.test(t)},Io.test(n)?(e=fo(n,"Android"),o=Ni({},o,{version:e,type:yo.ANDROID,isAndroid:!0,supportBrowser:Po(e,"ANDROID"),useDominantColor:6<=e,isLowerAndroidBrowserVersion:e<6})):mo(n)?(e=fo(n,"iPhone OS|CPU OS|Version"),o=Ni({},o,{version:e,type:yo.IOS,isIOS:!0,isTouchHomeButtonIOS:((t=null)===t&&(i=["1125x2436","1242x2688","750x1624"],r=window.devicePixelRatio||1,r=window.screen.width*r+"x"+window.screen.height*r,t=-1<jn(i).call(i,r)),t),supportBrowser:Po(e,"IOS"),useDominantColor:10<=e,isUnbackableBrowser:o.isNaverApp})):_o.test(n)&&(e=fo(n,"MSIE"),o=Ni({},o,{type:yo.IE,supportBrowser:Po(e,"IE"),isIE:!0})),To=o),To}var xo=kn("isConcatSpreadable"),Oo=9007199254740991,wo="Maximum allowed index exceeded",It=51<=bt||!n(function(){var t=[];return t[xo]=!1,t.concat()[0]!==t}),gt=et("concat");y({target:"Array",proto:!0,forced:!It||!gt},{concat:function(t){for(var e,i,n,r=arguments,o=b(this),s=Vn(o,0),a=0,u=-1,c=arguments.length;u<c;u++)if(function(t){if(!l(t))return!1;var e=t[xo];return void 0!==e?!!e:Gn(t)}(n=-1===u?o:r[u])){if(i=I(n.length),Oo<a+i)throw TypeError(wo);for(e=0;e<i;e++,a++)e in n&&kr(s,a,n[e])}else{if(Oo<=a)throw TypeError(wo);kr(s,a++,n)}return s.length=a,s}});function Ao(){}function Co(t){return"<script>"+t+"</"+ko+">"}var Do,Lo=P?Object.defineProperties:function(t,e){v(t);for(var i,n=at(e),r=n.length,o=0;o<r;)q.f(t,i=n[o++],e[i]);return t},No=ft("document","documentElement"),Ro=_t("keys"),Ge=function(t){return Ro[t]||(Ro[t]=Mn(t))},Mo="prototype",ko="script",Vo=Ge("IE_PROTO"),zo=function(){try{Do=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t;zo=Do?function(t){t.write(Co("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Do):((t=a("iframe")).style.display="none",No.appendChild(t),t.src=String("javascript:"),(t=t.contentWindow.document).open(),t.write(Co("document.F=Object")),t.close(),t.F);for(var e=st.length;e--;)delete zo[Mo][st[e]];return zo()};it[Vo]=!0;function Ho(t,e,i,n){n&&n.enumerable?t[e]=i:W(t,e,i)}function jo(t){var e=U.Symbol||(U.Symbol={});d(e,t)||Wo(e,t,{value:qo.f(t)})}var Go=Object.create||function(t,e){var i;return null!==t?(Ao[Mo]=v(t),i=new Ao,Ao[Mo]=null,i[Vo]=t):i=zo(),void 0===e?i:Lo(i,e)},Bo=st.concat("length","prototype"),ht={f:Object.getOwnPropertyNames||function(t){return u(t,Bo)}},Fo=ht.f,Uo={}.toString,Xo="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],_={f:function(t){return Xo&&"[object Window]"==Uo.call(t)?function(t){try{return Fo(t)}catch(t){return Xo.slice()}}(t):Fo(c(t))}},qo={f:kn},Wo=q.f,tt={};tt[kn("toStringTag")]="z";function Yo(t,e,i,n){t&&(t=i?t:t.prototype,d(t,es)||ts(t,es,{configurable:!0,value:e}),n&&!Ko&&W(t,"toString",Qo))}var Ko="[object z]"===String(tt),$o=kn("toStringTag"),Zo="Arguments"==r(function(){return arguments}()),Jo=Ko?r:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),$o))?t:Zo?r(e):"Object"==(t=r(e))&&"function"==typeof e.callee?"Arguments":t},Qo=Ko?{}.toString:function(){return"[object "+Jo(this)+"]"},ts=q.f,es=kn("toStringTag"),is=Function.toString;"function"!=typeof Bn.inspectSource&&(Bn.inspectSource=function(t){return is.call(t)});var ns,rs,os,ss,as,us,cs,ls,hs=Bn.inspectSource,It=T.WeakMap,gt="function"==typeof It&&/native code/.test(hs(It)),tt=T.WeakMap;cs=gt?(ns=Bn.state||(Bn.state=new tt),rs=ns.get,os=ns.has,ss=ns.set,as=function(t,e){return e.facade=t,ss.call(ns,t,e),e},us=function(t){return rs.call(ns,t)||{}},function(t){return os.call(ns,t)}):(ls=Ge("state"),it[ls]=!0,as=function(t,e){return e.facade=t,W(t,ls,e),e},us=function(t){return d(t,ls)?t[ls]:{}},function(t){return d(t,ls)});function ps(t,e){var i=Os[t]=Go(Is[ms]);return ys(i,{type:vs,tag:t,description:e}),P||(i.description=e),i}function fs(e,t){v(e);var i=c(t),t=at(i).concat(ks(i));return ds(t,function(t){P&&!Ms.call(i,t)||Rs(e,t,i[t])}),e}var It={set:as,get:us,has:cs,enforce:function(t){return cs(t)?us(t):as(t,{})},getterFor:function(i){return function(t){var e;if(!l(t)||(e=us(t)).type!==i)throw TypeError("Incompatible receiver, "+i+" required");return e}}},ds=z.forEach,gs=Ge("hidden"),vs="Symbol",ms="prototype",gt=kn("toPrimitive"),ys=It.set,_s=It.getterFor(vs),Es=Object[ms],Is=T.Symbol,bs=ft("JSON","stringify"),Ts=k.f,Ps=q.f,Ss=_.f,xs=O.f,Os=_t("symbols"),ws=_t("op-symbols"),As=_t("string-to-symbol-registry"),Cs=_t("symbol-to-string-registry"),tt=_t("wks"),_t=T.QObject,Ds=!_t||!_t[ms]||!_t[ms].findChild,Ls=P&&n(function(){return 7!=Go(Ps({},"a",{get:function(){return Ps(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=Ts(Es,e);n&&delete Es[e],Ps(t,e,i),n&&t!==Es&&Ps(Es,e,n)}:Ps,Ns=xe?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Is},Rs=function(t,e,i){t===Es&&Rs(ws,e,i),v(t);e=o(e,!0);return v(i),d(Os,e)?(i.enumerable?(d(t,gs)&&t[gs][e]&&(t[gs][e]=!1),i=Go(i,{enumerable:g(0,!1)})):(d(t,gs)||Ps(t,gs,g(1,{})),t[gs][e]=!0),Ls(t,e,i)):Ps(t,e,i)},Ms=function(t){var e=o(t,!0),t=xs.call(this,e);return!(this===Es&&d(Os,e)&&!d(ws,e))&&(!(t||!d(this,e)||!d(Os,e)||d(this,gs)&&this[gs][e])||t)},_t=function(t,e){var i=c(t),t=o(e,!0);if(i!==Es||!d(Os,t)||d(ws,t)){e=Ts(i,t);return!e||!d(Os,t)||d(i,gs)&&i[gs][t]||(e.enumerable=!0),e}},xe=function(t){var t=Ss(c(t)),e=[];return ds(t,function(t){d(Os,t)||d(it,t)||e.push(t)}),e},ks=function(t){var e=t===Es,t=Ss(e?ws:c(t)),i=[];return ds(t,function(t){!d(Os,t)||e&&!d(Es,t)||i.push(Os[t])}),i};Xn||(Ho((Is=function(){if(this instanceof Is)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=Mn(t),i=function(t){this===Es&&i.call(ws,t),d(this,gs)&&d(this[gs],e)&&(this[gs][e]=!1),Ls(this,e,g(1,t))};return P&&Ds&&Ls(Es,e,{configurable:!0,set:i}),ps(e,t)})[ms],"toString",function(){return _s(this).tag}),Ho(Is,"withoutSetter",function(t){return ps(Mn(t),t)}),O.f=Ms,q.f=Rs,k.f=_t,ht.f=_.f=xe,ut.f=ks,qo.f=function(t){return ps(kn(t),t)},P&&Ps(Is[ms],"description",{configurable:!0,get:function(){return _s(this).description}})),y({global:!0,wrap:!0,forced:!Xn,sham:!Xn},{Symbol:Is}),ds(at(tt),function(t){jo(t)}),y({target:vs,stat:!0,forced:!Xn},{for:function(t){var e=String(t);if(d(As,e))return As[e];t=Is(e);return As[e]=t,Cs[t]=e,t},keyFor:function(t){if(!Ns(t))throw TypeError(t+" is not a symbol");if(d(Cs,t))return Cs[t]},useSetter:function(){Ds=!0},useSimple:function(){Ds=!1}}),y({target:"Object",stat:!0,forced:!Xn,sham:!P},{create:function(t,e){return void 0===e?Go(t):fs(Go(t),e)},defineProperty:Rs,defineProperties:fs,getOwnPropertyDescriptor:_t}),y({target:"Object",stat:!0,forced:!Xn},{getOwnPropertyNames:xe,getOwnPropertySymbols:ks}),y({target:"Object",stat:!0,forced:n(function(){ut.f(1)})},{getOwnPropertySymbols:function(t){return ut.f(b(t))}}),bs&&(Hs=!Xn||n(function(){var t=Is();return"[null]"!=bs([t])||"{}"!=bs({a:t})||"{}"!=bs(Object(t))}),y({target:"JSON",stat:!0,forced:Hs},{stringify:function(t,e,i){for(var n,r=arguments,o=[t],s=1;s<arguments.length;)o.push(r[s++]);if((l(n=e)||void 0!==t)&&!Ns(t))return Gn(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Ns(e))return e}),o[1]=e,bs.apply(null,o)}})),Is[ms][gt]||W(Is[ms],gt,Is[ms].valueOf),Yo(Is,vs),it[gs]=!0,jo("asyncIterator"),jo("hasInstance"),jo("isConcatSpreadable"),jo("iterator"),jo("match"),jo("matchAll"),jo("replace"),jo("search"),jo("species"),jo("split"),jo("toPrimitive"),jo("toStringTag"),jo("unscopables"),Yo(T.JSON,"JSON",!0);xe=U.Symbol;jo("asyncDispose"),jo("dispose"),jo("observable"),jo("patternMatch"),jo("replaceAll");var Vs,zs=xe,Hs=function(o){return function(t,e){var i,n=String(s(t)),r=p(e),t=n.length;return r<0||t<=r?o?"":void 0:(e=n.charCodeAt(r))<55296||56319<e||r+1===t||(i=n.charCodeAt(r+1))<56320||57343<i?o?n.charAt(r):e:o?n.slice(r,r+2):i-56320+(e-55296<<10)+65536}},gt={codeAt:Hs(!1),charAt:Hs(!0)},xe=!n(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),js=Ge("IE_PROTO"),Gs=Object.prototype,Bs=xe?Object.getPrototypeOf:function(t){return t=b(t),d(t,js)?t[js]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Gs:null},Fs=kn("iterator"),Hs=!1;[].keys&&("next"in(ta=[].keys())?(_a=Bs(Bs(ta)))!==Object.prototype&&(Vs=_a):Hs=!0);Ge=null==Vs||n(function(){var t={};return Vs[Fs].call(t)!==t});Ge&&(Vs={}),Ge&&!d(Vs,Fs)&&W(Vs,Fs,function(){return this});function Us(){return this}function Xs(){return this}var xe={IteratorPrototype:Vs,BUGGY_SAFARI_ITERATORS:Hs},qs={},Ws=xe.IteratorPrototype,Ys=Object.setPrototypeOf||("__proto__"in{}?function(){var i,n=!1,t={};try{(i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),n=t instanceof Array}catch(t){}return function(t,e){return v(t),function(t){if(!l(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(e),n?i.call(t,e):t.__proto__=e,t}}():void 0),Ks=xe.IteratorPrototype,$s=xe.BUGGY_SAFARI_ITERATORS,Zs=kn("iterator"),Js="values",Qs="entries",ta=function(t,e,i,n,r,o,s){!function(t,e,i){e+=" Iterator";t.prototype=Go(Ws,{next:g(1,i)}),Yo(t,e,!1,!0),qs[e]=Us}(i,e,n);function a(t){if(t===r&&d)return d;if(!$s&&t in p)return p[t];switch(t){case"keys":case Js:case Qs:return function(){return new i(this,t)}}return function(){return new i(this)}}var u,c,l=e+" Iterator",h=!1,p=t.prototype,f=p[Zs]||p["@@iterator"]||r&&p[r],d=!$s&&f||a(r),n="Array"==e&&p.entries||f;if(n&&(t=Bs(n.call(new t)),Ks!==Object.prototype&&t.next&&(Yo(t,l,!0,!0),qs[l]=Xs)),r==Js&&f&&f.name!==Js&&(h=!0,d=function(){return f.call(this)}),s&&p[Zs]!==d&&W(p,Zs,d),qs[e]=d,r)if(u={values:a(Js),keys:o?d:a("keys"),entries:a(Qs)},s)for(c in u)!$s&&!h&&c in p||Ho(p,c,u[c]);else y({target:e,proto:!0,forced:$s||h},u);return u},ea=gt.charAt,ia="String Iterator",na=It.set,ra=It.getterFor(ia);ta(String,"String",function(t){na(this,{type:ia,string:String(t),index:0})},function(){var t=ra(this),e=t.string,i=t.index;return i>=e.length?{value:void 0,done:!0}:(i=ea(e,i),t.index+=i.length,{value:i,done:!1})});var oa="Array Iterator",sa=It.set,aa=It.getterFor(oa);ta(Array,"Array",function(t,e){sa(this,{type:oa,target:c(t),index:0,kind:e})},function(){var t=aa(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?{value:t.target=void 0,done:!0}:"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values"),qs.Arguments=qs.Array;var ua,ca=kn("toStringTag");for(ua in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var la=T[ua],la=la&&la.prototype;la&&Jo(la)!==ca&&W(la,ca,ua),qs[ua]=qs.Array}var ha=qo.f("iterator"),pa=t(i(function(e){function i(t){return e.exports=i="function"==typeof zs&&"symbol"==typeof ha?function(t){return typeof t}:function(t){return t&&"function"==typeof zs&&t.constructor===zs&&t!==zs.prototype?"symbol":typeof t},e.exports.default=e.exports,e.exports.__esModule=!0,i(t)}e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0})),fa=S("Array").concat,da=Array.prototype,ga=function(t){var e=t.concat;return t===da||t instanceof Array&&e===da.concat?fa:e},va=On.trim,ma=T.parseInt,ya=/^[+-]?0[Xx]/,_a=8!==ma(Tn+"08")||22!==ma(Tn+"0x16")?function(t,e){t=va(String(t));return ma(t,e>>>0||(ya.test(t)?16:10))}:ma;y({global:!0,forced:parseInt!=_a},{parseInt:_a});var Ea=U.parseInt;function Ia(t){return Xr([]).call(t)}function ba(t){return t&&t.constructor===Array}function Ta(t){return t&&!t.nodeType&&"object"===pa(t)&&!ba(t)}function Pa(i){for(var t,e=arguments,n=[],r=1;r<arguments.length;r++)n[r-1]=e[r];if(!n.length||1===n.length&&!n[0])return i;var o=n.shift();return Ta(i)&&Ta(o)&&Ct(o).forEach(function(t){var e=o[t];Ta(e)?(i[t]||(i[t]={}),i[t]=Pa(i[t],e)):i[t]=ba(e)?ga(e).call(e):e}),Pa.apply(void 0,ga(t=[i]).call(t,n))}function Sa(t){return t?Number(t.replace(/px/,"")):0}function xa(t,e){return function t(e,i){return null==e?null:0===i.length?e:t(e[i.shift()],i)}(t,e.match(/[^.]+/g)||[])}function Oa(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(t[i],i,t)}function wa(t,e,i,n){var r,o,s=t[e];s&&"function"==typeof s&&(r=i,o=n,t[e]=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(r&&!1===r())return null;var n=s.bind.apply(s,ga(n=[this]).call(n,e))();return o&&o(),n})}var Aa=function(t){return So().cssPrefix[t]||t};function Ca(t){return So().useCss3d?"translate3d(0, "+t+"px, 0)":"translate(0, "+t+"px, 0)"}var Da={display:{show:"block",hide:"none"},"display-inline":{show:"block",hide:"none"},visibility:{show:"visible",hide:"hidden"}};function La(t,e,i){var n=i||"display",r=Da[i]?Da[i].show:"block",i=Da[i]?Da[i].hide:"none",o=e?r:i;t&&(ba(t)?t.forEach(function(t){return t.style[n]=o}):t.style[n]=o)}function Na(t){return La(t,!0),t}function Ra(t){return La(t,!1),t}function Ma(t,e,i){if(void 0===i&&(i=!1),t){if("string"==typeof e){var n=yn.getComputedStyle(t)[Aa(e)];return i?this.getNumValue(n):n}var r=function(e,i){return Ct(i).forEach(function(t){e[Aa(t)]=i[t]})};ba(t)?t.forEach(function(t){return r(t.style,e)}):r(t.style,e)}return t}function ka(t,e,i){var n,r="boolean"==typeof i;return t&&(t.classList?n=t.classList[r&&(i?"add":"remove")||"contains"](e):(n=t.className,r?i&&-1===jn(n).call(n,e)?(t.className=(n+" "+e).replace(/\s{2,}/g," "),n=t.className):i||(t.className=n.replace(e,""),n=t.className):n=new RegExp("\\b"+e+"\\b").test(n))),n}function Va(t,e){return t?0<=jn(t=t.className).call(t,e):null}function za(t,e,i){t&&t.addEventListener(e,i)}function Ha(t,e,i){t&&t.removeEventListener(e,i)}function ja(e,i,n){function r(t){n(t),e.removeEventListener(i,r)}return e.addEventListener(i,r),r}var Ga=null;function Ba(){return Ga=Ga||(_n.documentElement||_n.body.parentNode||_n.body)}function Fa(){var t=Ba(),t={scrollLeft:t.scrollLeft||_n.body.scrollLeft||0,scrollTop:t.scrollTop||_n.body.scrollTop||0};return Ni({},t,{x:t.scrollLeft,y:t.scrollTop})}function Ua(t,e,i){var n=Fa(),r=n.scrollLeft,o=n.scrollTop,s=e.left,a=e.top,n=e.width,e=e.height;return Ma(t,Ni({},i||{},{left:s+r+"px",top:a+o+"px",width:n+"px",height:e+"px"})),t}function Xa(t,e){if(t.closest)return t.closest(e);var i=t;if(!_n.documentElement.contains(t))return null;do{if(Element.prototype.matches.call(i,e))return i}while(null!==(i=i.parentElement||i.parentNode)&&1===i.nodeType);return null}function qa(n,t,e,i){var r,o,s,a;if((e&&("function"==typeof e?o=e:(r=e,i&&(o=i))),r)&&(s=function(t,e,i){return t&&n.style[i]===e},a=!0,Oa(r,function(t,e,i){a=void 0===a?t:s(a,t,e,i)}),a))return void(o&&o());ka(n,t,!0),ja(n,Aa("transitionEnd"),function(){ka(n,t,!1),o&&o()}),r&&Ma(n,Ni({},r))}function Wa(t,e,i,n){function r(t){Xa(t.target,i)&&n(t)}return t&&t.addEventListener(e,r),1}function Ya(t){t.style.setProperty("-webkit-user-select","none","important"),t.style.setProperty("user-select","none","important")}function Ka(t,e){return{x:t.x-e.x,y:t.y-e.y}}Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),i=e.length;0<=--i&&e.item(i)!==this;);return-1<i});function $a(t){return void 0!==t&&(qs.Array===t||iu[eu]===t)}function Za(t){if(null!=t)return t[nu]||t["@@iterator"]||qs[Jo(t)]}function Ja(t){var e=t.return;return void 0!==e&&v(e.call(t)).value}function Qa(t,e){this.stopped=t,this.result=e}function tu(t,e,i){function n(t){return o&&Ja(o),new Qa(!0,t)}function r(t){return p?(v(t),d?g(t[0],t[1],n):g(t[0],t[1])):d?g(t,n):g(t)}var o,s,a,u,c,l,h=i&&i.that,p=!(!i||!i.AS_ENTRIES),f=!(!i||!i.IS_ITERATOR),d=!(!i||!i.INTERRUPTED),g=E(e,h,1+p+d);if(f)o=t;else{if("function"!=typeof(f=Za(t)))throw TypeError("Target is not iterable");if($a(f)){for(s=0,a=I(t.length);s<a;s++)if((u=r(t[s]))&&u instanceof Qa)return u;return new Qa(!1)}o=f.call(t)}for(c=o.next;!(l=c.call(o)).done;){try{u=r(l.value)}catch(t){throw Ja(o),t}if("object"==typeof u&&u&&u instanceof Qa)return u}return new Qa(!1)}var eu=kn("iterator"),iu=Array.prototype,nu=kn("iterator"),ru=function(t,e){var i=this;if(!(i instanceof ru))return new ru(t,e);Ys&&(i=Ys(new Error(void 0),Bs(i))),void 0!==e&&W(i,"message",String(e));e=[];return tu(t,e.push,{that:e}),W(i,"errors",e),i};ru.prototype=Go(Error.prototype,{constructor:g(5,ru),message:g(5,""),name:g(5,"AggregateError")}),y({global:!0},{AggregateError:ru});var ou=T.Promise,su=kn("species"),au=kn("iterator"),uu=!1;try{var cu=0,lu={next:function(){return{done:!!cu++}},return:function(){uu=!0}};lu[au]=function(){return this},Array.from(lu,function(){throw 2})}catch(t){}function hu(t,e){var i;return void 0===(t=v(t).constructor)||null==(i=v(t)[gu])?e:h(i)}function pu(t){var e;Eu.hasOwnProperty(t)&&(e=Eu[t],delete Eu[t],e())}function fu(t){return function(){pu(t)}}var du,Ge=function(t,e){if(!e&&!uu)return!1;var i=!1;try{var n={};n[au]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(t){}return i},gu=kn("species"),Hs=/(iphone|ipod|ipad).*applewebkit/i.test(yt),vu=T.location,xe=T.setImmediate,gt=T.clearImmediate,mu=T.process,ta=T.MessageChannel,yu=T.Dispatch,_u=0,Eu={},Iu="onreadystatechange",On=function(t){pu(t.data)},_a=function(t){T.postMessage(t+"",vu.protocol+"//"+vu.host)};xe&&gt||(xe=function(t){for(var e=arguments,i=[],n=1;n<arguments.length;)i.push(e[n++]);return Eu[++_u]=function(){("function"==typeof t?t:Function(t)).apply(void 0,i)},du(_u),_u},gt=function(t){delete Eu[t]},Tt?du=function(t){mu.nextTick(fu(t))}:yu&&yu.now?du=function(t){yu.now(fu(t))}:ta&&!Hs?(ta=(lu=new ta).port2,lu.port1.onmessage=On,du=E(ta.postMessage,ta,1)):T.addEventListener&&"function"==typeof postMessage&&!T.importScripts&&vu&&"file:"!==vu.protocol&&!n(_a)?(du=_a,T.addEventListener("message",On,!1)):du=Iu in a("script")?function(t){No.appendChild(a("script"))[Iu]=function(){No.removeChild(this),pu(t)}}:function(t){setTimeout(fu(t),0)});var bu,Tu,Pu,Su,xu,Ou,wu,Au,_a={set:xe,clear:gt},On=/web0s(?!.*chrome)/i.test(yt),xe=k.f,Cu=_a.set,gt=T.MutationObserver||T.WebKitMutationObserver,yt=T.document,Du=T.process,k=T.Promise,xe=xe(T,"queueMicrotask"),xe=xe&&xe.value;xe||(bu=function(){var t,e;for(Tt&&(t=Du.domain)&&t.exit();Tu;){e=Tu.fn,Tu=Tu.next;try{e()}catch(t){throw Tu?Su():Pu=void 0,t}}Pu=void 0,t&&t.enter()},Su=Hs||Tt||On||!gt||!yt?k&&k.resolve?(wu=k.resolve(void 0),Au=wu.then,function(){Au.call(wu,bu)}):Tt?function(){Du.nextTick(bu)}:function(){Cu.call(T,bu)}:(xu=!0,Ou=yt.createTextNode(""),new gt(bu).observe(Ou,{characterData:!0}),function(){Ou.data=xu=!xu}));function Lu(t){var i,n;this.promise=new t(function(t,e){if(void 0!==i||void 0!==n)throw TypeError("Bad Promise constructor");i=t,n=e}),this.resolve=h(i),this.reject=h(n)}function Nu(t,e){return v(t),l(e)&&e.constructor===t?e:((0,(t=ku.f(t)).resolve)(e),t.promise)}function Ru(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}var Mu=xe||function(t){t={fn:t,next:void 0};Pu&&(Pu.next=t),Tu||(Tu=t,Su()),Pu=t},ku={f:function(t){return new Lu(t)}},Vu=_a.set,zu=kn("species"),Hu="Promise",ju=It.get,Gu=It.set,Bu=It.getterFor(Hu),Fu=ou,Uu=T.TypeError,Xu=T.document,qu=T.process;ft("fetch");function Wu(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e}function Yu(h,p){var f;h.notified||(h.notified=!0,f=h.reactions,Mu(function(){for(var t=h.value,e=1==h.state,i=0;f.length>i;){var n,r,o,s=f[i++],a=e?s.ok:s.fail,u=s.resolve,c=s.reject,l=s.domain;try{a?(e||(2===h.rejection&&lc(h),h.rejection=1),!0===a?n=t:(l&&l.enter(),n=a(t),l&&(l.exit(),o=!0)),n===s.promise?c(Uu("Promise-chain cycle")):(r=Wu(n))?r.call(n,u,c):u(n)):c(t)}catch(t){l&&!o&&l.exit(),c(t)}}h.reactions=[],h.notified=!1,p&&!h.rejection&&uc(h)}))}function Ku(t,e,i){var n,r;oc?((n=Xu.createEvent("Event")).promise=e,n.reason=i,n.initEvent(t,!1,!0),T.dispatchEvent(n)):n={promise:e,reason:i},!sc&&(r=T["on"+t])?r(n):t===ac&&function(t,e){var i=T.console;i&&i.error&&(1===arguments.length?i.error(t):i.error(t,e))}("Unhandled promise rejection",i)}function $u(e,i,n){return function(t){e(i,t,n)}}function Zu(t,e,i){t.done||(t.done=!0,(t=i?i:t).value=e,t.state=2,Yu(t,!0))}var Ju,Qu,tc,ec,ic,nc=ku.f,rc=nc,oc=!!(Xu&&Xu.createEvent&&T.dispatchEvent),sc="function"==typeof PromiseRejectionEvent,ac="unhandledrejection",xe=F(Hu,function(){if(!(hs(Fu)!==String(Fu))){if(66===bt)return!0;if(!Tt&&!sc)return!0}if(!Fu.prototype.finally)return!0;if(51<=bt&&/native code/.test(Fu))return!1;function t(t){t(function(){},function(){})}var e=Fu.resolve(1);return(e.constructor={})[zu]=t,!(e.then(function(){})instanceof t)}),_a=xe||!Ge(function(t){Fu.all(t).catch(function(){})}),uc=function(r){Vu.call(T,function(){var t,e=r.facade,i=r.value,n=cc(r);if(n&&(t=Ru(function(){Tt?qu.emit("unhandledRejection",i,e):Ku(ac,e,i)}),r.rejection=Tt||cc(r)?2:1,t.error))throw t.value})},cc=function(t){return 1!==t.rejection&&!t.parent},lc=function(e){Vu.call(T,function(){var t=e.facade;Tt?qu.emit("rejectionHandled",t):Ku("rejectionhandled",t,e.value)})},hc=function(i,t,e){if(!i.done){i.done=!0,e&&(i=e);try{if(i.facade===t)throw Uu("Promise can't be resolved itself");var n=Wu(t);n?Mu(function(){var e={done:!1};try{n.call(t,$u(hc,e,i),$u(Zu,e,i))}catch(t){Zu(e,t,i)}}):(i.value=t,i.state=1,Yu(i,!1))}catch(t){Zu({done:!1},t,i)}}};xe&&(Fu=function(t){!function(t,e,i){if(!(t instanceof e))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation")}(this,Fu,Hu),h(t),Ju.call(this);var e=ju(this);try{t($u(hc,e),$u(Zu,e))}catch(t){Zu(e,t)}},(Ju=function(t){Gu(this,{type:Hu,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,i){for(var n in e)i&&i.unsafe&&t[n]?t[n]=e[n]:Ho(t,n,e[n],i);return t}(Fu.prototype,{then:function(t,e){var i=Bu(this),n=nc(hu(this,Fu));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Tt?qu.domain:void 0,i.parent=!0,i.reactions.push(n),0!=i.state&&Yu(i,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Qu=function(){var t=new Ju,e=ju(t);this.promise=t,this.resolve=$u(hc,e),this.reject=$u(Zu,e)},ku.f=nc=function(t){return t===Fu||t===tc?new Qu:rc(t)}),y({global:!0,wrap:!0,forced:xe},{Promise:Fu}),Yo(Fu,Hu,!1,!0),ic=ft(ec=Hu),ec=q.f,P&&ic&&!ic[su]&&ec(ic,su,{configurable:!0,get:function(){return this}}),tc=ft(Hu),y({target:Hu,stat:!0,forced:xe},{reject:function(t){var e=nc(this);return e.reject.call(void 0,t),e.promise}}),y({target:Hu,stat:!0,forced:!0},{resolve:function(t){return Nu(this===tc?Fu:this,t)}}),y({target:Hu,stat:!0,forced:_a},{all:function(t){var a=this,e=nc(a),u=e.resolve,c=e.reject,i=Ru(function(){var n=h(a.resolve),r=[],o=0,s=1;tu(t,function(t){var e=o++,i=!1;r.push(void 0),s++,n.call(a,t).then(function(t){i||(i=!0,r[e]=t,--s||u(r))},c)}),--s||u(r)});return i.error&&c(i.value),e.promise},race:function(t){var i=this,n=nc(i),r=n.reject,e=Ru(function(){var e=h(i.resolve);tu(t,function(t){e.call(i,t).then(n.resolve,r)})});return e.error&&r(e.value),n.promise}}),y({target:"Promise",stat:!0},{allSettled:function(t){var a=this,e=ku.f(a),u=e.resolve,i=e.reject,n=Ru(function(){var n=h(a.resolve),r=[],o=0,s=1;tu(t,function(t){var e=o++,i=!1;r.push(void 0),s++,n.call(a,t).then(function(t){i||(i=!0,r[e]={status:"fulfilled",value:t},--s||u(r))},function(t){i||(i=!0,r[e]={status:"rejected",reason:t},--s||u(r))})}),--s||u(r)});return n.error&&i(n.value),e.promise}});var pc="No one promise resolved";y({target:"Promise",stat:!0},{any:function(t){var u=this,e=ku.f(u),c=e.resolve,l=e.reject,i=Ru(function(){var n=h(u.resolve),r=[],o=0,s=1,a=!1;tu(t,function(t){var e=o++,i=!1;r.push(void 0),s++,n.call(u,t).then(function(t){i||a||(a=!0,c(t))},function(t){i||a||(i=!0,r[e]=t,--s||l(new(ft("AggregateError"))(r,pc)))})}),--s||l(new(ft("AggregateError"))(r,pc))});return i.error&&l(i.value),e.promise}});It=!!ou&&n(function(){ou.prototype.finally.call({then:function(){}},function(){})});y({target:"Promise",proto:!0,real:!0,forced:It},{finally:function(e){var i=hu(this,ft("Promise")),t="function"==typeof e;return this.then(t?function(t){return Nu(i,e()).then(function(){return t})}:e,t?function(t){return Nu(i,e()).then(function(){throw t})}:e)}});var fc=U.Promise,dc=Math.min,gc=[].lastIndexOf,vc=!!gc&&1/[1].lastIndexOf(1,-0)<0,xe=mt("lastIndexOf"),_a=vc||!xe?function(t){if(vc)return gc.apply(this,arguments)||0;var e=c(this),i=I(e.length),n=i-1;for((n=1<arguments.length?dc(n,p(arguments[1])):n)<0&&(n=i+n);0<=n;n--)if(n in e&&e[n]===t)return n||0;return-1}:gc;y({target:"Array",proto:!0,forced:_a!==[].lastIndexOf},{lastIndexOf:_a}),S("Array").lastIndexOf;var It=et("splice"),mc=Math.max,yc=Math.min;y({target:"Array",proto:!0,forced:!It},{splice:function(t,e){var i,n,r,o,s,a,u=arguments,c=b(this),l=I(c.length),h=f(t,l),t=arguments.length;if(0===t?i=n=0:n=1===t?(i=0,l-h):(i=t-2,yc(mc(p(e),0),l-h)),9007199254740991<l+i-n)throw TypeError("Maximum allowed length exceeded");for(r=Vn(c,n),o=0;o<n;o++)(s=h+o)in c&&kr(r,o,c[s]);if(i<(r.length=n)){for(o=h;o<l-n;o++)a=o+i,(s=o+n)in c?c[a]=c[s]:delete c[a];for(o=l;l-n+i<o;o--)delete c[o-1]}else if(n<i)for(o=l-n;h<o;o--)a=o+i-1,(s=o+n-1)in c?c[a]=c[s]:delete c[a];for(o=0;o<i;o++)c[o+h]=u[o+2];return c.length=l-n+i,r}});var _c=S("Array").splice,Ec=Array.prototype,Ic=function(t){var e=t.splice;return t===Ec||t instanceof Array&&e===Ec.splice?_c:e};function bc(t){return"string"==typeof t?{itemType:zt.IMAGE,thumbUrl:t,orgUrl:t,vIndexThumbUrl:t,hIndexThumbUrl:t,selector:"img[src='"+t+"']",imgType:""}:{selector:t.selector||"img[src*='"+t.thumbUrl+"']:not(.civ__img)",itemType:t.itemType,orgUrl:t.orgUrl||t.thumbUrl,vIndexThumbUrl:t.vIndexThumbUrl||t.thumbUrl,hIndexThumbUrl:t.hIndexThumbUrl||t.thumbUrl,imgType:t.imgType?t.imgType.toLowerCase():""}}function Tc(t,n){return er(t=void 0===t?[]:t).call(t,function(t){return"string"==typeof t?bc(t):t.itemType===zt.VIDEO?Ni({},t,bc(t),{videoData:(e=t.videoData,i=n,{type:e.type||"normal",provider:e.provider,url:e.url||"",vodKey:e.vodKey||"",vodId:e.vodId||"",serviceId:i||"",autoPlay:e.autoPlay||!1})}):Ni({},t,bc(t));var e,i})}function Pc(t,e){return ba(t)&&-1!==jn(t).call(t,e)||e===t}var Sc,xc=(Li(Oc,Sc=Hi),Oc.prototype.getReadonly=function(){var t=this;return{get:this.get.bind(this),getComputedIndex:this.getComputedIndex.bind(this),getIndexByUrl:this.getIndexByUrl.bind(this),getCurrent:this.getCurrent.bind(this),getLength:function(){return t.length},isFirst:this.isFirst.bind(this),isLast:this.isLast.bind(this)}},Oc.prototype.setIndex=function(t,e){if(t<0||t>this.data.length-1)return this.index;var i=Number(this.index);return i===t||e?-1:(this.index=t,this.trigger(Rt.INDEX_CHANGE,{oldIndex:i,newIndex:t,dataSet:this.dataSet}),this.index)},Oc.prototype.getComputedIndex=function(){return this.index<0?0:this.index},Oc.prototype.getNotComputedIndex=function(){return this.index},Oc.prototype.movePrev=function(t){return this.setIndex(this.index-1,t)},Oc.prototype.moveNext=function(t){return this.setIndex(this.index+1,t)},Oc.prototype.isFirst=function(){return 0===this.index},Oc.prototype.isLast=function(){return this.index+1===this.length},Oc.prototype.add=function(t,e){var i=Tc(t||[],this.vodServiceId);this._insertIndex=e,0<this.data.length?Ic(t=this.data).apply(t,ga(t=[e,0]).call(t,i)):this.data=i,this.trigger(Rt.DATA_CHANGE,{dataList:i,insertIndex:e})},Object.defineProperty(Oc.prototype,"insertIndex",{get:function(){return this._insertIndex},enumerable:!0,configurable:!0}),Oc.prototype.clearInsertIndex=function(){this._insertIndex=0},Oc.prototype.get=function(t){return this.data[t]||null},Oc.prototype.getIndexByUrl=function(t){for(var e=0;e<this.data.length;e++){if(Pc(this.data[e].thumbUrl,t))return e;if(Pc(this.data[e].orgUrl,t))return e;if(Pc(this.data[e].vIndexThumbUrl,t))return e;if(Pc(this.data[e].hIndexThumbUrl,t))return e}return-1},Oc.prototype.set=function(t,e,i){e=Tc([e],this.vodServiceId);this.data[t]=e[0],i||this.trigger(Rt.DATA_CHANGE)},Oc.prototype.remove=function(t){var e;t?Ic(e=this.data).call(e,t,1):(this.data=[],this.index=-1),this.index>=this.data.length&&this.setIndex(this.data.length-1),this.trigger(Rt.DATA_CHANGE)},Oc.prototype.getData=function(){return this.data},Oc.prototype.getCurrent=function(){return this.get(this.index)},Object.defineProperty(Oc.prototype,"length",{get:function(){return this.data.length},enumerable:!0,configurable:!0}),Object.defineProperty(Oc.prototype,"dataSet",{get:function(){var t=this.getComputedIndex();return{prev:this.data[t-1]||null,current:this.data[t],next:this.data[t+1]||null}},enumerable:!0,configurable:!0}),Oc.prototype.resetIndex=function(){this.index=-1},Oc.prototype.setDominantColor=function(e,i){this.data.forEach(function(t){t.thumbUrl===e&&(t.dominantColor=i.join("|"))})},Oc);function Oc(t,e){var i,n=Sc.call(this)||this;return n.events=["add","setat","removeat","indexChanged"],n.data=[],n.index=-1,n.vodServiceId="",n._insertIndex=0,e&&(i=e.vodServiceId,e=e.loadImageTimeout,n.vodServiceId=i,Oc.loadImageTimeout=e||2e3),n.add(t,0),n}var wc=function(t){var e="string"==typeof t,u=e?new Image:t,c=e?t:u.getAttribute("data-src");return new fc(function(t,e){function i(){clearTimeout(o),u.removeAttribute("data-src"),a(),t(c)}function n(){clearTimeout(o),a(),e(c)}function r(t){t.addEventListener("load",i),t.addEventListener("error",n)}var o,s=xc.loadImageTimeout,a=function(){u.removeEventListener("load",i),u.removeEventListener("error",n)};null!==c&&(r(u),u.src=c,o=setTimeout(function(){var t=new Image;r(t),t.src=c,u.src=t.src},s))})},Ac=function(){var t=So(),e=t.isAndroid,t=t.version;if(e&&t<5)return!1;t=document.createElement("canvas");return t.width=t.height=1,!!t.toDataURL&&5===jn(t=t.toDataURL("image/webp")).call(t,"image/webp")}();function Cc(t){var e;return ba(t)?2!==(e=Xr(t).call(t)).length||Ac?e.shift():e.pop():t}var Dc,Lc=(Li(Nc,Dc=Hi),Nc.start=function(t,e,i){return wc(Nc.loadingSrc=t).then(function(t){Nc.loadingSrc=null,e(t)}).catch(function(){Nc.loadingSrc=null,i&&i()})},Nc.getCurrentImageSrc=function(){return Nc.loadingSrc},Nc.loadingSrc=null,Nc);function Nc(){return null!==Dc&&Dc.apply(this,arguments)||this}var Rc,xe=(Li(Mc,Rc=Hi),Mc.prototype.activate=function(){this.bindEvent()},Mc.prototype.deactivate=function(){this.unBindEvent()},Mc.prototype.bindEvent=function(){this.isEventBind=!0},Mc.prototype.unBindEvent=function(){this.isEventBind=!1},Mc.prototype.destroy=function(){this.unBindEvent()},Mc.prototype._isActivePlugin=function(t,e){e=!(!t||e&&!1===e.activate);return this.freezeLayout=!e,this.visibility=e,this.isActiveLayout=e},Mc.applyStyle=function(t,e,i,n){(i=void 0===i?!1:i)?qa(n,e,t):Ma(n,t)},Mc.prototype.isVisiblity=function(){return this.visibility},Mc.prototype.getEventMap=function(){return this.eventNameMap},Mc.prototype.getLayoutId=function(){if(!this.layoutId)throw new Error("LayerId not defined. LayerId is Requerd!!!");return this.layoutId},Mc.prototype.refresh=function(t){this._dummyData=t},Mc);function Mc(){var t=Rc.call(this)||this;return t.visibility=!0,t.eventNameMap=null,t.publishEventMap=null,t.freezeLayout=!1,t.notInstalled=!1,t.isActiveLayout=!0,t.isEventBind=!1,t._dummyData=null,wa(t,"activate",function(){return!(t.freezeLayout=!1)}),wa(t,"deactivate",function(){return t.freezeLayout=!0}),t}var kc,Vc=(Li(zc,kc=xe),zc.prototype.initialize=function(t){t=t.querySelector(Gt.HEADER);return this.layoutId=Mt.HEADER,this.el=t,this.visibility=!0,t},zc.prototype.defineCustomEvent=function(){this.eventNameMap=null,this.publishEventMap=null},zc.prototype.updateBgColor=function(t,e){void 0===e&&(e=!1);t=t.join(",");zc.applyStyle({backgroundImage:"linear-gradient(to bottom, rgba("+t+", 0.5), rgba("+t+", 0))"},Vt.BACKGROUND_TWEEN,e,this.el)},zc);function zc(){return null!==kc&&kc.apply(this,arguments)||this}var Hc,jc=(Li(Gc,Hc=xe),Gc.prototype.initialize=function(t){this.layoutId=Mt.BACKGROUND,this.el=t,this.visibility=!0},Gc.prototype.defineCustomEvent=function(){this.eventNameMap=null,this.publishEventMap=null},Gc.prototype.updateBgColor=function(t,e){void 0===e&&(e=!1);t={backgroundColor:"rgba("+t.join(",")+", 1)"};Gc.applyStyle(t,Vt.BACKGROUND_TWEEN,e,this.el)},Gc);function Gc(){return null!==Hc&&Hc.apply(this,arguments)||this}var Bc=Yi("species"),_a=function(e){return 51<=Qi||!ne(function(){var t=[];return(t.constructor={})[Bc]=function(){return{foo:1}},1!==t[e](Boolean).foo})},Fc=xn.map;Et({target:"Array",proto:!0,forced:!_a("map")},{map:function(t){return Fc(this,t,1<arguments.length?arguments[1]:void 0)}});var Uc=xn.filter;function Xc(t){t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation())}function qc(t,e,i){void 0!==t.removeEventListener?t.removeEventListener(e,i):t.off(e,i)}Et({target:"Array",proto:!0,forced:!_a("filter")},{filter:function(t){return Uc(this,t,1<arguments.length?arguments[1]:void 0)}});var Wc,Yc=(Kc.fromEvent=function(t,e){return new Kc(t).fromEvent(e)},Kc.prototype.subscribe=function(t,e){return this.onNext=t,this.onComplete=e,this.validationEvent(this.subscribedType,this.onEventHandler,!0),this.validationEvent(this.takeUntilType,this.onStreamComplete),this},Kc.prototype.unsubscribe=function(){this.onComplete=null,this.onStreamComplete(null)},Kc.prototype.fromEvent=function(t){return this.subscribedType=t,this},Kc.prototype.takeUntil=function(t){return this.takeUntilType=t,this},Kc.prototype.map=function(t){return this.appendOperator("map",t)},Kc.prototype.filter=function(t){return this.appendOperator("filter",t)},Kc.prototype.validationEvent=function(t,e,i){if(void 0===i&&(i=!1),!t&&i)throw new Error("구독할 이벤트 타입이 정의되지 않았습니다.");i=this.target,t=t,e=e,void 0!==i.addEventListener?i.addEventListener(t,e):i.on(t,e)},Kc.prototype.appendOperator=function(t,e){return this.operators.push({type:t,functor:e}),this},Kc);function Kc(t){var o=this;this.operators=[],this.onStreamComplete=function(t){o.onNext=null,o.operators=[],o.onComplete&&o.onComplete(t),qc(o.target,o.subscribedType,o.onEventHandler),qc(o.target,o.takeUntilType,o.onStreamComplete)},this.onEventHandler=function(t){if(o.onNext){for(var e=t,i=0,n=o.operators;i<n.length;i++){var r=n[i];switch(r.type){case"map":e=r.functor(e);break;case"filter":if(!r.functor(e))return}}o.onNext(e)}},this.target=t}function $c(n,r){var o;return function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];clearTimeout(o),o=window.setTimeout(function(){n.apply(this,e)},r)}}function Zc(n,r){var o=!1;return function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];o||(n.apply(this,e),o=!0,setTimeout(function(){return o=!1},r))}}(It=Wc=Wc||{})[It.ESC=27]="ESC",It[It.LEFT=37]="LEFT",It[It.RIGHT=39]="RIGHT",It[It.UP=38]="UP",It[It.DOWN=40]="DOWN",It[It.PLUS=107]="PLUS",It[It.PLUS_E=187]="PLUS_E",It[It.MIUNS=109]="MIUNS",It[It.MINUS_E=189]="MINUS_E",It[It.SPACE=32]="SPACE",It[It.ENTER=13]="ENTER";var Jc,xn=(Li(Qc,Jc=xe),Qc.prototype.initialize=function(){return this.layoutId=Mt.EXCEPTION,this.element=document.createElement("div"),this.visibility=!1,this.element},Qc.prototype.defineCustomEvent=function(){this.eventNameMap=Xt},Qc.prototype.refresh=function(){var t=this.visibility;this.initialize(),this.visibility=t},Qc.prototype.hide=function(t){void 0===t&&(t=!1),this.visibility&&(Ra(this.element),this.appendTarget&&(Ha(this.element.querySelector(Gt.RELOAD_BTN),"click",this.onClickReload),this.element&&(this.appendTarget.removeChild(this.element),this.element.innerHTML=""),this.trigger(Xt.HIDE,{closeViewer:t})),this.appendTarget=!1,this.visibility=!1)},Qc.prototype.deactivate=function(){this.hide(!0)},Qc);function Qc(){var e=null!==Jc&&Jc.apply(this,arguments)||this;return e.appendTarget=!1,e.onClickReload=function(t){Xc(t),e.trigger(Xt.REFRESH)},e}var tl,el=(Li(il,tl=xe),il.prototype.initialize=function(t){t=t.querySelector(Gt.FOOTER);this.layoutId=Mt.FOOTTER,t||(this.freezeLayout=!0),this.el=t,this.visibility=!0},il.prototype.defineCustomEvent=function(){this.eventNameMap=null,this.publishEventMap=null},il.prototype.isHided=function(){return!!this.freezeLayout||Va(this.el,Vt.HIDE)},il.prototype.updateBgColor=function(t,e){var i;void 0===e&&(e=!1),this.freezeLayout||(t={backgroundColor:i="rgba("+t.join(",")+", 0.5)"},this.isHided()?this.el.setAttribute("data-bg",i):il.applyStyle(t,Vt.BACKGROUND_TWEEN,e,this.el))},il);function il(){return null!==tl&&tl.apply(this,arguments)||this}var nl,rl=(Li(ol,nl=xe),ol.prototype.initialize=function(t){var e=Vt.TOAST,i=Vt.HIDE,n=_n.createElement("div");this.layoutId=Mt.TOAST,n.className=e+" "+i,t.appendChild(n),this.elBase=t,this.el=n},ol.prototype.defineCustomEvent=function(){this.eventNameMap=null,this.publishEventMap=null},ol.prototype.render=function(t){t?this.el.innerHTML=t||"":this.hide()},ol.prototype.show=function(t){this.visibility=!0,t&&this.render(t),this.timer=window.setTimeout(this.hide.bind(this),Ut.TOAST_EXPOSE_TIME),ka(this.el,Vt.HIDE,!1)},ol.prototype.hide=function(){ka(this.el,Vt.HIDE,!0),this.visibility=!1,null!==this.timer&&(window.clearTimeout(this.timer),this.timer=null)},ol.prototype.toggle=function(){ka(this.el,Vt.HIDE)?this.show():this.hide()},ol);function ol(){var t=null!==nl&&nl.apply(this,arguments)||this;return t.timer=null,t}var sl=z.filter,Et=et("filter");y({target:"Array",proto:!0,forced:!Et},{filter:function(t){return sl(this,t,1<arguments.length?arguments[1]:void 0)}});function al(){return bl.Date.now()}var ul=S("Array").filter,cl=Array.prototype,ll=function(t){var e=t.filter;return t===cl||t instanceof Array&&e===cl.filter?ul:e},hl=e(vt),pl=t(i(function(t,e){var i;i=function(i){return o={},n.m=r=[function(t,e,i){var n,r=i(1),i=(n=r)&&n.__esModule?n:{default:n};t.exports=i.default},function(t,e,i){e.__esModule=!0;var n,r=Object.assign||function(t){for(var e=arguments,i=1;i<arguments.length;i++){var n,r=e[i];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=i(2),a=(n=s)&&n.__esModule?n:{default:n},u=i(3);"function"!=typeof Object.create&&(Object.create=function(t,e){if("object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");function i(){}return i.prototype=t,new i});var c,l=!!window.IntersectionObserver,h=function(){var t=document.createElement("div");if(!t.getElementsByClassName)return!1;var e=t.getElementsByClassName("dummy");return t.innerHTML="<span class='dummy'></span>",1===e.length}(),a=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(p,c=a.default),p.prototype.refresh=function(){return h?(this._targets=this._wrapper.getElementsByClassName(this.options.targetClass),this.refresh=function(){return this._refreshObserver(),this}):this.refresh=function(){var t=this._wrapper.querySelectorAll("."+this.options.targetClass);this._targets=[];for(var e=0;e<t.length;e++)this._targets.push(t[e]);return this._refreshObserver(),this},this.refresh()},p.prototype.check=function(){var t=this,e=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1];return"number"!=typeof e&&(i=e,e=-1),void 0===e&&(e=-1),void 0===i&&(i=!1),clearTimeout(this._timer),e<0?(this._check(i),this._checkAfter()):this._timer=setTimeout(function(){t._check(i),t._checkAfter(),t._timer=null},e),this},p.prototype.getVisibleElements=function(){for(var t=this._targets,e=[],i=0;i<t.length;i++){var n=t[i];n&&!0===n.__VISIBLE__&&e.push(n)}return e},p.prototype._getWrapperRect=function(){return this._wrapper.getBoundingClientRect()},p.prototype._reviseElements=function(){var i=this;return this._reviseElements=h?function(){return!0}:function(t,e){return!!(0,u.hasClass)(t,i.options.targetClass)||(t.__VISIBLE__=null,i._targets.splice(e,1),!1)},this._reviseElements.apply(this,arguments)},p.prototype._check=function(t){for(var e,i=parseInt(this.options.expandSize,10),n=void 0,r=void 0,o=void 0,s=this._getAreaRect(),a=s.top-i,u=s.left-i,c=s.bottom+i,l=s.right+i,n=this._targets.length-1;r=this._targets[n];n--)0===(e=r.getBoundingClientRect()).width&&0===e.height||this._reviseElements(r,n)&&(o=t?!(e.top<a||e.bottom>c||e.right>l||e.left<u):!(e.bottom<a||c<e.top||e.right<u||l<e.left),r.__AFTER__=o)},p.prototype.checkObserve=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;return this._timer&&(clearTimeout(this._timer),this._timer=0),e<0?this._checkAfter():this._timer=setTimeout(function(){t._checkAfter(),t._timer=null},e),this},p.prototype._checkAfter=function(){for(var t=this._targets,e=t.length,i=[],n=[],r=0;r<e;++r){var o=t[r],s=o.__VISIBLE__,a=o.__AFTER__;s!==a&&((a?i:n).push(o),o.__VISIBLE__=a)}0===i.length&&0===n.length||this.trigger("change",{visible:i,invisible:n,isTrusted:!0})},p.prototype.observe=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!l)return this._addObserveEvent(t),this;var i=void 0===t.delay?-1:t.delay,n=!!t.containment;this._observeCallback=function(t){t.forEach(function(t){t.target.__AFTER__=n?1<=t.intersectionRatio:t.isIntersecting}),e._checkAfter(i)},this._observer&&this.unobserve(),this._observer=new IntersectionObserver(this._observeCallback,{root:1===this._wrapper.nodeType?this._wrapper:null,rootMargin:this.options.expandSize+"px",threshold:n?[0,1]:[0]});for(var r=this._observer,o=this._targets,s=o.length,a=0;a<s;++a)r.observe(o[a]);return this},p.prototype.unobserve=function(){return this._observeCallback&&(l?this._observer&&this._observer.disconnect():((0,u.removeEvent)(this._wrapper,"scroll",this._observeCallback),(0,u.removeEvent)(this._wrapper,"resize",this._observeCallback)),this._observer=null,this._observeCallback=null),this},p.prototype._refreshObserver=function(){if(this._observer){this._observer.disconnect();for(var t=this._targets,e=t.length,i=0;i<e;++i)this._observer.observe(t[i])}},p.prototype._addObserveEvent=function(){var e,i,n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._observeCallback||(e=void 0===t.delay?-1:t.delay,i=!!t.containment,this._observeCallback=function(t){n._check(i),n.checkObserve(e)},(0,u.addEvent)(this._wrapper,"scroll",this._observeCallback),(0,u.addEvent)(this._wrapper,"resize",this._observeCallback),this._observeCallback())},p.prototype.destroy=function(){this.off(),this.unobserve(),this._targets=[],this._wrapper=null,this._timer=null},p);function p(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,c.call(this));return i.options={targetClass:"check_visible",expandSize:0},r(i.options,e),i._wrapper=(0,u.$)(t)||document,i._wrapper.nodeType&&1===i._wrapper.nodeType?i._getAreaRect=i._getWrapperRect:i._getAreaRect=u.getWindowRect,i._targets=[],i._timer=null,i.refresh(),i}a.VERSION="2.2.0",e.default=a,t.exports=e.default},function(t,e){t.exports=i},function(t,e,i){e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.toArray=u,e.$=function e(t){var i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];var n=void 0;if(void 0===t)return;{var r;"string"==typeof t?(r=t.match(/^<([a-z]+)\s*([^>]*)>/),n=r?((r=document.createElement("div")).innerHTML=t,u(r.childNodes)):u(document.querySelectorAll(t)),i||(n=1<=n.length?n[0]:void 0)):t!==window&&(!t.nodeName||1!==t.nodeType&&9!==t.nodeType)?"jQuery"in window&&t instanceof jQuery||t.constructor.prototype.jquery?n=i?t.toArray():t.get(0):Array.isArray(t)&&(n=t.map(function(t){return e(t)}),i||(n=1<=n.length?n[0]:void 0)):n=t}return n},e.getWindowRect=function(){return{top:0,left:0,bottom:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,right:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}},e.hasClass=function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},e.addEvent=function(t,e,i,n){{var r;s?(r=n||!1,"object"===(void 0===n?"undefined":o(n))&&(r=!!a&&n),t.addEventListener(e,i,r)):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i}},e.removeEvent=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null};var s=!!("addEventListener"in document),a=function(){var t=!1;try{s&&Object.defineProperty&&document.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(t){}return t}();function u(t){var e=[];if(t)for(var i=0,n=t.length;i<n;i++)e.push(t[i]);return e}}],n.c=o,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0);function n(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var r,o},t.exports=i(hl)})),fl="\x3c!-- [D] 슬라이드 이미지에 따라서 배경색상 변경 [ 기본값 : rgba(27, 27, 30, 1) / #1b1b1e ]--\x3e\n\x3c!-- [D] "+kt+'--dimmed 클래스 토글--\x3e\n<div class="'+kt+'" style="background-color:#1b1b1e; display:none">\n\x3c!-- oo --\x3e\n\n    \x3c!-- 상단영역 --\x3e\n    \x3c!-- [D] '+kt+'__is-closed 클래스 토글 --\x3e\n    <header class="'+kt+"__header _"+kt+"_hud "+kt+'__is-closed __imv_header"> \x3c!-- HEADER.parent --\x3e\n    <div class="'+kt+'__header__btn_wrap"> \x3c!-- HEADER.el --\x3e        \n    \n        <a class="'+kt+"__header__btn "+kt+'__header__btn--close" href="#" role="button" >\n            닫기<i class="'+kt+'__icon"></i>\n        </a>\n\n        <div class="'+kt+'__shared_button">\n            <a class="'+kt+"__header__btn "+kt+'__header__btn--share naver-splugin" href="#" role="button" style="display:none">\n                공유<i class="civ__icon"></i>\n            </a>\n            <span class="'+kt+"__viewer_custom_buttons "+kt+'__header__btn--share" style="display:inline-block;"></span>\n        </div>\n    </div>\n\n\n    <a class="'+kt+"__header__number "+kt+"__header_number_btn "+kt+'__open" href="javascript:void(0);" role="button"> \n        \x3c!-- INDEX --\x3e\n        <div style="opacity: 1;">\n            <strong class="'+kt+'__current"></strong> / <span class="'+kt+'__length"></span>\n            <i class="'+kt+"__icon "+kt+'_arrow_icon "></i>\n        </div>\n    </a>\n    </header>\n\n    \x3c!-- [D] '+kt+'__is-hidden 클레스 토글 --\x3e\n    <div class="'+kt+'__content __imv_panel">\n        \x3c!-- [D] index모드 '+kt+"__panel--index 클래스 토글 --\x3e\n        \x3c!-- [D] vr일때 "+kt+'__panel--360 클래스 토글 --\x3e\n        <div class="'+kt+'__panel">\n                <div class="'+kt+'__img_wrap">\n                    <img class="'+kt+'__img">\n                </div>\n                <div class="civ__video_wrap">\n                    <div class="civ__buttons">\n                        <div class="civ__play_button"></div>\n                        <div class="civ__pause_button"></div>\n                    </div>\n                        <div class="civ__video"></div>\n                </div>\n                <div class="'+kt+'__placeholder--loading" style="display: none;">\n                    <span class="'+kt+'__dot __imv_dot"></span>\n                    <span class="'+kt+"__dot "+kt+'__dot1 __imv_dot __imv_dot1"></span>\n                    <span class="'+kt+"__dot "+kt+'__dot2 __imv_dot __imv_dot2"></span>\n                </div>\n        </div>\n        <div class="'+kt+'__panel">\n                <div class="'+kt+'__img_wrap">\n                    <img class="'+kt+'__img">\n                </div>\n                <div class="civ__video_wrap">\n                    <div class="civ__buttons">\n                        <div class="civ__play_button"></div>\n                        <div class="civ__pause_button"></div>\n                    </div>\n                        <div class="civ__video"></div>\n                </div>\n                <div class="'+kt+'__placeholder--loading __imv__placeholder--loading" style="display: none;">\n                    <span class="'+kt+'__dot __imv_dot"></span>\n                    <span class="'+kt+"__dot "+kt+'__dot1 __imv_dot __imv_dot1"></span>\n                    <span class="'+kt+"__dot "+kt+'__dot2 __imv_dot __imv_dot2"></span>\n                </div>\n        </div>\n        <div class="'+kt+'__panel">\n                <div class="'+kt+'__img_wrap">\n                    <img class="'+kt+'__img">\n                </div>\n                <div class="civ__video_wrap">\n                    <div class="civ__buttons">\n                        <div class="civ__play_button"></div>\n                        <div class="civ__pause_button"></div>\n                    </div>\n                        <div class="civ__video"></div>\n                </div>\n                <div class="'+kt+'__placeholder--loading" style="display: none;">\n                    <span class="'+kt+'__dot __imv_dot"></span>\n                    <span class="'+kt+"__dot "+kt+'__dot1 __imv_dot __imv_dot1"></span>\n                    <span class="'+kt+"__dot "+kt+'__dot2 __imv_dot __imv_dot2"></span>\n                </div>\n        </div>\n    </div>\n\n    \x3c!-- [D] link가 있을경우 추가--\x3e\n    <div class="'+kt+"__url_wrap "+kt+'__is-hidden"> \x3c!-- LINK.el --\x3e\n        <a class="'+kt+'__url_link" role="button" href="#" target="_blank"></a>\n    </div>\n\n    \x3c!-- 하단영역 --\x3e\n    <div class="'+kt+'__bottom">\n        \x3c!-- [D] '+kt+'__is-closed 클래스 토글 --\x3e\n        <section class="'+kt+"__caption "+kt+'__is-closed">        \n        <div class="'+kt+'__caption_inner">\n            <div class="'+kt+'__caption_desc"></div>\n            <a href="#" class="'+kt+"__caption_inner "+kt+'__caption_link">\n            <div class="'+kt+'__meta">\n                <div class="'+kt+'__caption_category"></div>\n                <div class="'+kt+'__caption_title"></div>\n            </div>\n            </a>\n        </div>\n        </section>        \n        \x3c!-- [D] '+kt+'__is-closed 클래스 토글 --\x3e\n        <section class="'+kt+"__index "+kt+'__is-closed">\n            <ul class="'+kt+'__thumbs"></ul>\n        </section>\n        \x3c!-- [D] '+kt+'__is-closed 클래스 토글 --\x3e\n        \x3c!-- [D] 캡션 섹션 바로 위 위치하도록 bottom값을 조정해주세요 --\x3e\n        <div class="'+kt+"__control_wrap "+kt+'__video_toolbar" style="display:none; bottom: 0px;">\n            <div class="'+kt+'__control_box">\n                <div class="'+kt+'__progress_container">\n                <div class="'+kt+"__progress_bar "+kt+'__video_toolbar_progress_container"">\n                \x3c!-- [D] aria-value, aria-valuetext를 현재 영상을 시청한 시간만큼 수정하고 퍼센트로 표현해주세요 --\x3e\n                    <div class="'+kt+'__progress_baseline" aria-label="영상 탐색 슬라이더" aria-valuemin="0" aria-valuemin="100" aria-valuenow="HH시간 MM분 SS초 n% 재생 중" aria-valuetext="HH시간 MM분 SS초 n% 재생 중">\n                    \x3c!-- [D] 전체 영상 길이에서 현재까지 시청한 영상 시간만큼 scaleX를 수정해주세요(값 : 0.0 ~ 1.0) --\x3e\n                    <div class="'+kt+"__progress_play "+kt+'__video_toolbar_progressbar" style="transform: scaleX(0);"></div>\n                    \x3c!-- [D] 전체 영상 길이에서 현재까지 로딩된 영상 시간만큼 scaleX를 수정해주세요(값 : 0.0 ~ 1.0) --\x3e\n                    <div class="'+kt+"__progress_load "+kt+'__video_toolbar_loadbar" style="transform: scaleX(0);"></div>\n                    </div>\n                    \x3c!-- [D] 현재 시청 중인 시간 위치로 translateX를 수정해주세요(px단위) --\x3e\n                    <div style="position:relative; margin-top: -15px;">\n                        <div class="'+kt+"__progress_btn_area "+kt+'__video_toolbar_progress_btn">\n                            <a role="button" class="'+kt+'__progress_btn" aria-label="동영상 탐색">\n                                <div class="'+kt+'__progress_btn_dot"></div>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n                <div class="'+kt+'__time_display">\n                    \x3c!-- [D] 현재 영상을 시청 시간으로 수정해주세요 --\x3e\n                    <span class="'+kt+"__time_current "+kt+'__video_toolbar_current_time" aria-label="HH시간 MM분 SS초 재생 중"></span>\n                    \x3c!-- [D] 영상 전체 시간으로 수정해주세요 --\x3e\n                    <span class="'+kt+"__time_duration "+kt+'__video_toolbar_duration_time" aria-label="동영상 길이 HH시간 MM분 SS초"></span>\n                </div>\n                </div>\n                <div class="'+kt+'__control_btns">\n                    <div class="'+kt+'__play_area">\n                        \x3c!-- [D] 현재 display: block인 아이콘의 aria-label을 표시해주세요 --\x3e\n                        <button class="'+kt+'__control_btn" aria-label="재생">\n                            \x3c!-- [D] 재생/일시정지마다 하위 아이콘에 display:none을 번갈아가며 적용해주세요  --\x3e\n                            <span class="'+kt+"__icon--play "+kt+'__video_toolbar_play" aria-label="재생" style="display: none;">\n                            </span>\n                            <span class="'+kt+"__icon--pause "+kt+'__video_toolbar_pause" aria-label="일시정지" style="display: none;">\n                            </span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    \x3c!-- [D] '+kt+'__is-closed 클래스 토글 --\x3e        \n    <div class="'+kt+"__toast "+kt+'__is-closed"></div>\n\n    <div style="position:absolute;top:0px;width:100%;z-index:23" class="'+kt+'__viewer_custom_top"></div>    \n    <div style="position:absolute;top:0px;left:0px;width:0px; height:100%;  z-index:23" class="'+kt+'__viewer_custom_left"></div>\n    <div style="position:absolute;top:0px;right:0px;width:0px; height:100%; z-index:23" class="'+kt+'__viewer_custom_right"></div> \n    <div style="position:absolute;bottom:0px;width:100%;z-index:23" class="'+kt+'__viewer_custom_bottom"></div>    \n\n    \n    <div class="'+kt+'__footer_layout"></div>\n\n    \x3c!-- 더보기 메뉴 영역은 추후 구현예정--\x3e\n    \x3c!-- [D] '+kt+'__is-closed 클래스 토글  --\x3e\n    <section class="'+kt+"__menu--more "+kt+'__is-closed">\n        <ul class="'+kt+'__list">\n            \x3c!-- <li><a class="'+kt+'__link" href="#" role="button">원본 저장</a></li>\n            <li><a class="'+kt+'__link" href="#" role="button">신고하기</a></li> --\x3e\n        </ul>\n        <button class="'+kt+'__btn" type="button">닫기</button>\n    </section>\n\n    \x3c!-- 동적으로 변경되는 캡션 높이를 미리 잡아두기 위한 영역 --\x3e\n    <div class="'+kt+'__HiddenCaption"></div>    \n</div>\n',dl='\n    <div class="'+kt+'" style="background-color:#1b1b1e; display:none">\n    <div class="'+kt+'__content">\n    <div class="'+kt+'__placeholder--browser">\n        <div class="'+kt+'__error_area">\n            <i class="'+kt+'__icon--cation">경고</i>\n            <p class="'+kt+'__text">사용 중인 브라우저는 뷰어 기능을<br>지원하지 않습니다.</p>\n            <a href="#" role="button" class="'+Vt.NOT_SUPPORT_CLOSE+'">닫기</a>\n        </div>\n    </div>\n    <div>\n    </div>\n    ',gl=NaN,vl="[object Symbol]",ml=/^\s+|\s+$/g,yl=/^[-+]0x[0-9a-f]+$/i,_l=/^0b[01]+$/i,El=/^0o[0-7]+$/i,Il=parseInt,_a="object"==typeof nt&&nt&&nt.Object===Object&&nt,It="object"==typeof self&&self&&self.Object===Object&&self,bl=_a||It||Function("return this")(),Tl=Object.prototype.toString,Pl=Math.max,Sl=Math.min;function xl(t){var e=typeof t;return t&&("object"==e||"function"==e)}function Ol(t){if("number"==typeof t)return t;if("symbol"==typeof(e=t)||!!(i=e)&&"object"==typeof i&&Tl.call(e)==vl)return gl;var e,i;if("string"!=typeof(t=xl(t)?xl(n="function"==typeof t.valueOf?t.valueOf():t)?n+"":n:t))return 0===t?t:+t;t=t.replace(ml,"");var n=_l.test(t);return n||El.test(t)?Il(t.slice(2),n?2:8):yl.test(t)?gl:+t}var wl=function(n,i,t){var r,o,s,a,u,c,l=0,h=!1,p=!1,e=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function f(t){var e=r,i=o;return r=o=void 0,l=t,a=n.apply(i,e)}function d(t){var e=t-c;return void 0===c||i<=e||e<0||p&&s<=t-l}function g(){var t,e=al();if(d(e))return v(e);u=setTimeout(g,(e=i-((t=e)-c),p?Sl(e,s-(t-l)):e))}function v(t){return u=void 0,e&&r?f(t):(r=o=void 0,a)}function m(){var t=al(),e=d(t);if(r=arguments,o=this,c=t,e){if(void 0===u)return l=e=c,u=setTimeout(g,i),h?f(e):a;if(p)return u=setTimeout(g,i),f(c)}return void 0===u&&(u=setTimeout(g,i)),a}return i=Ol(i)||0,xl(t)&&(h=!!t.leading,p="maxWait"in t,s=p?Pl(Ol(t.maxWait)||0,i):s,e="trailing"in t?!!t.trailing:e),m.cancel=function(){void 0!==u&&clearTimeout(u),r=c=o=u=void(l=0)},m.flush=function(){return void 0===u?a:v(al())},m},z=function(r){return function(t,e,i){var n=i.value;if("function"!=typeof n)throw new TypeError("@boundFreeze decorator can only be applied to methods not: "+pa(n));return i.value=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(!this.freezeLayout||this.freezeLayout!==r)return n.apply(this,e)},i}};function Al(t,e,i){var n=i.value;if("function"!=typeof n)throw new TypeError("@excuteByActive decorator can only be applied to methods not: "+pa(n));return i.value=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if("boolean"!=typeof this.isActiveLayout||!1!==this.isActiveLayout)return n.apply(this,e)},i}function Cl(t,e,i){var n=i.value;if("function"!=typeof n)throw new TypeError("@oneBindEvent decorator can only be applied to methods not: "+pa(n));return i.value=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(!this.isEventBind)return this.isEventBind=!0,n.apply(this,e)},i}function Dl(t,e,i){var n=i.value;if("function"!=typeof n)throw new TypeError("@oneBindEvent decorator can only be applied to methods not: "+pa(n));return i.value=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];return this.isEventBind=!1,n.apply(this,e)},i}var Ll,Nl=(Li(Rl,Ll=xe),Rl.prototype.initialize=function(t,e){this.layoutId=Mt.H_IMAGE_INDEX;var i=(this.elBase=t).querySelector(Gt.H_IMAGE_INDEX);!1!==this._isActivePlugin(i,e)?(e=Pa({},{visibleAreaClsss:null,useHoverShow:!1,scrollPagingMode:!1,scrollUnit:0},e),this.el=i,this.visibility=!Va(i,Vt.HIDE),this.element=t.querySelector(Gt.H_IMAGE_INDEX),this.scrollArea=t.querySelector(Gt.H_IMAGE_INDEX_SCROLL),this.prevButton=t.querySelector(Gt.H_IMAGE_INDEX_PREV_BTN),this.nextButton=t.querySelector(Gt.H_IMAGE_INDEX_NEXT_BTN),this._visibleChecker=new pl(this.scrollArea,{targetClass:Vt.INDEX_THUMB_IMAGE}),this._visibleAreaClsss=e.visibleAreaClsss,this._useHoverShow=e.useHoverShow,this._scrollPagingMode=e.scrollPagingMode,this._scrollUnit=e.scrollUnit,this.updateVisibleWidth(),this.bindEvents(),this.visibility&&this.show()):Ra(i)},Rl.prototype.defineCustomEvent=function(){this.eventNameMap=qt},Rl.prototype.activate=function(){this._activated||(Na(this.element),this.refresh(),this._activated=!0,this._isChange=!1)},Rl.prototype.deactivate=function(){this._activated&&(Ra(this.element),ka(this.element,Vt.HIDE,!0),this.visibility&&(this.visibility=!1,this.trigger(qt.HIDE)),this.refreshBottomPadding(),this._currentIndex=-1,this.visibility=!1,this._activated=!1)},Rl.prototype.show=function(){var t=this._isChange,e=this.element,i=this._useHoverShow;if(!this.visibility&&!t){if(this.visibility=!0,Na(e),this.trigger(qt.SHOW),!0===i)return this.hoverShow(),void this.setElementSize();this.transitionShow()}},Rl.prototype.transitionShow=function(){var t=this;qa(this.element,Vt.HIDE,function(){t.setElementSize(),t._visibleChecker.check(),t.scrollTo(t.currentIndex),t.updateBgColor(t.bgColor,!0),t._isChange=!1,t.refreshBottomPadding()}),ka(this.element,Vt.HIDE,!1),this._isChange=!0},Rl.prototype.hide=function(){this.visibility&&!this._isChange&&(this.visibility=!1,this.trigger(qt.HIDE),this._useHoverShow?this.hoverHide():this.transitionHide())},Rl.prototype.unvisible=function(){this.visibility=!1,Ra(this.el)},Rl.prototype.visible=function(){this.visibility=!0,Na(this.el)},Rl.prototype.transitionHide=function(){var e=this;ja(this.element,Aa("transitionEnd"),function(){var t;0<=jn(t=e.element.className).call(t,Vt.HIDE)&&Ra(e.element),e._isChange=!1,e.trigger(qt.HIDED)}),ka(this.element,Vt.HIDE,!0),this._isChange=!0},Rl.prototype.toggle=function(t){var e;e=this.visibility,(void 0!==(t=t)?t:!e)?this.show():this.hide()},Rl.prototype.refresh=function(){var t;this.visibility&&this.elBase&&((t=this.elBase.querySelector(Gt.H_IMAGE_INDEX_SCROLL_WRAPPER))&&t.removeAttribute("style"),this._isLoadStyleValue=!1,this.setElementSize(),this._visibleChecker.check(),this.scrollTo(this.currentIndex),this.refreshBottomPadding(),this.trigger(qt.REFRESH))},Rl.prototype.refreshBottomPadding=function(){var t=So(),e=t.isNaverApp,t=t.isTouchHomeButtonIOS;this.visibility&&go()&&t&&(e||vo())?Ma(this.element,{bottom:Ut.IPHONE_X_INDEX_PADDING+"px"}):!1===this._useHoverShow&&Ma(this.element,{bottom:0})},Rl.prototype.getElement=function(){return this.element},Object.defineProperty(Rl.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(t){t<0||!1===this.isActiveLayout||(this._currentIndex=t,this.calcPaging(),this.scrollTo(t))},enumerable:!0,configurable:!0}),Object.defineProperty(Rl.prototype,"itemDataList",{get:function(){return this._itemDataList},set:function(t){!1!==this.isActiveLayout&&(this._itemDataList=t||null,this.scrollArea.removeAttribute("style"),this._itemDataList&&this._itemDataList.length?(this.scrollArea.innerHTML=(t=this._itemDataList,er(t).call(t,function(t,e){var i=t.imgType,t=Cc(t.hIndexThumbUrl);return'\n      <li class="'+kt+"__thumb "+kt+"__thumb--default __imv_thumb--default "+(i?kt+"__thumb--"+i:"")+' thumb-item" data-index="'+e+'">\n        <a href="#" class="'+kt+'__thumb-link" dragable="false" style="pointer-events:none !important">\n            <img data-src="'+t+'" class="'+kt+'__thumb-img thumb __imv_thumb_image" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="" width="100%" height="100%">\n        </a>\n        <div class="'+kt+'__placeholder--loading __imv_placeholder--loading">\n            <span class="'+kt+'__dot __imv_dot"></span>\n            <span class="'+kt+"__dot "+kt+'__dot1 __imv_dot __imv_dot1"></span>\n            <span class="'+kt+"__dot "+kt+'__dot2 __imv_dot __imv_dot2"></span>\n        </div>\n      </li>'}).join("")),this.currentIndex=this._currentIndex,this.calcPaging()):(this.scrollArea.innerHTML="",this.currentIndex=0),this._visibleChecker.refresh(),this._visibleChecker.check(),this._isLoadStyleValue=!1,this.setElementSize())},enumerable:!0,configurable:!0}),Rl.prototype.appendListData=function(t){var e;!t&&0===t.length||(t=ga(e=this._itemDataList).call(e,t),this.itemDataList=t)},Rl.prototype.calcPaging=function(){var t,e,i;!1!==this._scrollPagingMode&&(e=(t=this._itemDataList?this._itemDataList.length:0)/this._scrollUnit,i=this.currentIndex+1,this._scrollTotalPage=Math.floor(e+(0<t%this._scrollUnit?1:0)),this._scrollPage=Math.floor(i/this._scrollUnit+(0<i%this._scrollUnit?1:0)),this._scrollPage=0===this._scrollPage?1:this._scrollPage,this.displayScrollBtn())},Rl.getBgChangeElement=function(){var t=document.querySelectorAll(Gt.INDEX_THUMB_IMAGE);return t?ll(t=Ia(t)).call(t,function(t){return t.classList.contains(Vt.H_IMAGE_INDEX_FAIL)}):[]},Rl.prototype.focusImage=function(t){this._scrollPagingMode&&this.moveScrollPage(),this.selectImage(t)},Rl.prototype.selectImage=function(t){void 0===t&&(t=this._currentIndex);var e=Vt.H_IMAGE_INDEX_FOCUS,i=this.scrollArea,n=i.querySelector("li."+e),t=i.querySelector("li:nth-child("+(t+1)+")");n&&ka(n,e,!1),t&&ka(t,e,!0)},Rl.prototype.scrollTo=function(t,e){var i;void 0===e&&(e=!0),null!==this.itemDataList&&(this._scrollPagingMode?(i=t+1,i=Math.floor(i/this._scrollUnit+(0<i%this._scrollUnit?1:0)),this._scrollPage=i,this.moveScrollPage()):(i=this.getScrollOffset(t),this.scrollArea.scrollLeft=i-this._scrollAreaWidth/2+this._itemWidth/2),e&&this.focusImage(t))},Rl.prototype.moveScrollPage=function(t){var e,i,n,r;void 0===t&&(t=!1),null===this.itemDataList||this._scrollTotalPage<=1||(r=this._scrollPage-1,e=this.itemDataList.length-1,i=this.scrollArea.parentElement.offsetWidth,n=r*this._scrollUnit,n=this._scrollPage===this._scrollTotalPage?e:n,r=this.getScrollOffset(n),0===n?r=0:n===e&&(r=r+this._scrollAreaGap+this._itemWidth-i),this.checkScrollEnd(),this.displayScrollBtn(),this._visibleChecker.check(),t?qa(this.scrollArea,"__dummy",{left:"-"+r+"px",transition:"left 200ms ease 0ms"}):this.scrollArea.style.left="-"+r+"px")},Rl.prototype.displayScrollBtn=function(){var t=1!==this._scrollPage&&1!==this._scrollTotalPage?1:.15,e=this._scrollPage!==this._scrollTotalPage?1:.15,i=1===this._scrollTotalPage,n=i||e<1?"default":"pointer";Ma(this.prevButton,{opacity:i?0:t,cursor:i||t<1?"default":"pointer"}),Ma(this.nextButton,{opacity:i?0:e,cursor:n})},Rl.prototype.getScrollOffset=function(t){return t*this._itemWidth},Rl.prototype.setElementSize=function(){var t=this.scrollArea.querySelector("li:nth-child(1)"),e=this.elBase.querySelector(Gt.H_IMAGE_INDEX_SCROLL_WRAPPER);if(t&&!1!==this.visibility&&!this._isLoadStyleValue){var i=t.offsetWidth,n=window.getComputedStyle(t),r=window.getComputedStyle(this.scrollArea),o=Sa(n.marginLeft)+Sa(n.marginRight),t=Sa(n.paddingLeft)+Sa(n.paddingRight),n=Sa(r.marginLeft)+Sa(r.marginRight),r=Sa(r.paddingLeft)+Sa(r.paddingRight);if(this._itemWidth=i+o,this._itemGap=t+o,this._scrollAreaWidth=this.scrollArea.offsetWidth,this._scrollAreaGap=n+r,e){r=e.offsetWidth;if(0===this._scrollAreaWidth||0===r)return;this._scrollAreaWidth<r&&Ma(e,{width:this._scrollAreaWidth+"px"})}this._isLoadStyleValue=!0}},Rl.prototype.updateVisibleWidth=function(){var t=(this._visibleAreaClsss?this.elBase.querySelector(this._visibleAreaClsss):Ba()).offsetWidth;this._visibleChecker.options.expandSize=t,this._scrollAreaWidth=-1,this._itemWidth=-1,this._isLoadStyleValue=!1},Rl.prototype.updateBgColor=function(e,i){this.visibility?Rl.getBgChangeElement().forEach(function(t){i&&qa(t,Vt.BACKGROUND_TWEEN),Ma(t,{backgroundColor:"rgb("+e.join(",")+")"})}):this.bgColor=e},Rl.prototype.destroy=function(){this.hide(),this.unbindEvents()},Rl.prototype.bindEvents=function(){var t=this.scrollArea;this._useHoverShow&&(za(this.el,"mouseenter",this.onMouseenter),za(this.el,"mouseleave",this.onMouseleave)),this._scrollPagingMode&&(za(this.prevButton,"click",this.onClickPrevBtn),za(this.nextButton,"click",this.onClickNextBtn)),Wa(t,"click","li",this.onClickImage),za(t,"scroll",this.onIndexScroll),this._visibleChecker&&this._visibleChecker.on("change",this.onVisibleChange)},Rl.prototype.unbindEvents=function(){var t=this.scrollArea;this._useHoverShow&&(Ha(this.el,"mouseenter",this.onMouseenter),Ha(this.el,"mouseleave",this.onMouseleave)),this._scrollPagingMode&&(Ha(this.prevButton,"click",this.onClickPrevBtn),Ha(this.nextButton,"click",this.onClickNextBtn)),Ha(t,"click",this.onClickImage),Ha(t,"scroll",this.onIndexScroll),this._visibleChecker&&this._visibleChecker.off("change",this.onVisibleChange)},Rl.prototype.reloadFailedImage=function(){this.scrollArea.querySelectorAll(Gt.H_IMAGE_INDEX_FAIL).forEach(this.imageLoadHandler)},Rl.imgAfterLoadHandler=function(t,e){var i,n,r=t.querySelector("img");r&&(i=r.naturalHeight,n=r.naturalWidth,ka(r,Vt.H_IMAGE_INDEX_LONG,n<i)),e&&ka(t,Vt.H_IMAGE_INDEX_FAIL,!0),ka(t,Vt.H_IMAGE_INDEX_LOADING,!1),ka(t,Vt.H_IMAGE_INDEX_DEFAULT,!1),ka(t,Vt.H_IMAGE_INDEX_LOADED,!e)},Ri([Al],Rl.prototype,"show",null),Ri([Al],Rl.prototype,"hide",null),Ri([Al],Rl.prototype,"unvisible",null),Ri([Al],Rl.prototype,"visible",null),Ri([Al],Rl.prototype,"refresh",null),Ri([Al],Rl.prototype,"refreshBottomPadding",null),Ri([Al],Rl.prototype,"appendListData",null),Ri([Al],Rl.prototype,"focusImage",null),Ri([Al],Rl.prototype,"selectImage",null),Ri([Al],Rl.prototype,"scrollTo",null),Ri([Al],Rl.prototype,"moveScrollPage",null),Ri([Al],Rl.prototype,"updateVisibleWidth",null),Ri([Al],Rl.prototype,"updateBgColor",null),Rl);function Rl(){var i=null!==Ll&&Ll.apply(this,arguments)||this;return i._currentIndex=-1,i._activated=!0,i._itemDataList=null,i._itemWidth=0,i._scrollAreaWidth=0,i._isChange=!1,i._visibleAreaClsss=null,i._useHoverShow=!1,i._scrollPagingMode=!1,i._scrollUnit=0,i._scrollPage=0,i._scrollTotalPage=0,i._itemGap=0,i._scrollAreaGap=0,i._isLoadStyleValue=!1,i.hoverShow=function(){var t=i.element;ka(t,Vt.IS_HOVER,!0),ka(t,Vt.HIDE,!1)},i.hoverHide=function(){var t=i.element;ka(t,Vt.IS_HOVER,!1),ka(t,Vt.HIDE,!0)},i.checkScrollEnd=wl(function(){var t,e;(i._scrollPagingMode?i._scrollPage===i._scrollTotalPage:(t=i._scrollAreaWidth+i._scrollAreaGap+i.scrollArea.scrollLeft,e=(i._itemWidth+i._itemGap)*i._itemDataList.length,0<i.scrollArea.scrollLeft&&e<=t))&&i.trigger(qt.REACH_END_ITEM,{totalLength:i._itemDataList.length,lastIndex:i._itemDataList.length-1})},100),i.onClickPrevBtn=function(t){Xc(t),1!==i._scrollPage&&(--i._scrollPage,i.moveScrollPage(!0),i.trigger(qt.PREV_CLICK))},i.onClickNextBtn=function(t){Xc(t),i._scrollPage!==i._scrollTotalPage&&(++i._scrollPage,i.moveScrollPage(!0),i.trigger(qt.NEXT_CLICK))},i.onMouseenter=function(){i.show()},i.onMouseleave=function(){i.hide()},i.onIndexScroll=function(){i._visibleChecker.check(),i.checkScrollEnd()},i.onClickImage=function(t){Xc(t);t=Xa(t.target,"li"),t=Ea(t.getAttribute("data-index"),10);i.trigger(qt.CLICK,{listIndex:t}),i._currentIndex=t,i.reloadFailedImage(),i.focusImage(t)},i.onVisibleChange=function(t){ll(t=t.visible).call(t,function(t){return Va(t,Vt.H_IMAGE_INDEX_DEFAULT)}).forEach(i.imageLoadHandler)},i.imageLoadHandler=function(t){var e=t.querySelector("img");e.getAttribute("data-src")?(ka(t,Vt.H_IMAGE_INDEX_FAIL,!1),ka(t,Vt.H_IMAGE_INDEX_LOADING,!0),wc(e).then(function(){Rl.imgAfterLoadHandler(t,!1)}).catch(function(){Rl.imgAfterLoadHandler(t,!0)})):Rl.imgAfterLoadHandler(t,!1)},i}et={};et[Yi("toStringTag")]="z";var Et="[object z]"===String(et),Ml=Yi("toStringTag"),kl="Arguments"==oe(function(){return arguments}()),Vl=Et?oe:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ml))?t:kl?oe(e):"Object"==(t=oe(e))&&"function"==typeof e.callee?"Arguments":t};function zl(t){return void 0===t}Et||li(Object.prototype,"toString",Et?{}.toString:function(){return"[object "+Vl(this)+"]"},{unsafe:!0});var Hl=function(){function t(){this.options={},this._eventHandler={}}var e=t.prototype;return e.trigger=function(t){for(var e=arguments,i=this,n=[],r=1;r<arguments.length;r++)n[r-1]=e[r];if(!(0<(a=this._eventHandler[t]||[]).length))return!0;var o=n[0]||{},s=n.slice(1),a=a.concat(),u=!1;o.eventType=t,o.stop=function(){u=!0},o.currentTarget=this;var c=[o];return 1<=s.length&&(c=c.concat(s)),a.forEach(function(t){t.apply(i,c)}),!u},e.once=function(n,r){var o,s=this;if("object"==typeof n&&zl(r)){var t,e=n;for(t in e)this.once(t,e[t]);return this}return"string"==typeof n&&"function"==typeof r&&this.on(n,o=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];r.apply(s,e),s.off(n,o)}),this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"==typeof t&&zl(e)){var i,n=t;for(i in n)this.on(i,n[i]);return this}var r;return"string"==typeof t&&"function"==typeof e&&(zl(r=this._eventHandler[t])&&(this._eventHandler[t]=[],r=this._eventHandler[t]),r.push(e)),this},e.off=function(t,e){var i,n;if(zl(t))return this._eventHandler={},this;if(zl(e)){if("string"==typeof t)return delete this._eventHandler[t],this;var r,o=t;for(r in o)this.off(r,o[r]);return this}var s=this._eventHandler[t];if(s){var a=0;try{for(var u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),c=u.next();!c.done;c=u.next()){if(c.value===e){s.splice(a,1);break}a++}}catch(t){i={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}}return this},t.VERSION="2.2.2",t}(),jl=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var i=this.keys,n=this.values,r=i.indexOf(t),r=-1===r?i.length:r;i[r]=t,n[r]=e},t}(),Gl=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),Bl="function"==typeof Map,Fl=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}();var Ul=function(){function t(t,e,i,n,r,o,s,a){this.prevList=t,this.list=e,this.added=i,this.removed=n,this.changed=r,this.maintained=o,this.changedBeforeAdded=s,this.fixed=a}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t,i,r,o,t=(t=this.changedBeforeAdded,i=this.fixed,r=[],o=[],t.forEach(function(t){var e=t[0],i=t[1],t=new Fl;r[e]=t,o[i]=t}),r.forEach(function(t,e){t.connect(r[e-1])}),t.filter(function(t,e){return!i[e]}).map(function(t,e){var i=t[0],n=t[1];if(i===n)return[0,0];t=r[i],i=o[n-1],n=t.getIndex();return t.disconnect(),i?t.connect(i,i.next):t.connect(void 0,r[0]),[n,t.getIndex()]})),s=this.changed,a=[];this.cacheOrdered=t.filter(function(t,e){var i=t[0],n=t[1],t=s[e],e=t[0],t=t[1];if(i!==n)return a.push([e,t]),!0}),this.cachePureChanged=a},t}();function Xl(t,e,i){var n=Bl?Map:i?Gl:jl,r=i||function(t){return t},o=[],s=[],a=[],i=t.map(r),r=e.map(r),u=new n,c=new n,l=[],h=[],p={},f=[],d=0,g=0;return i.forEach(function(t,e){u.set(t,e)}),r.forEach(function(t,e){c.set(t,e)}),i.forEach(function(t,e){t=c.get(t);void 0===t?(++g,s.push(e)):p[t]=g}),r.forEach(function(t,e){t=u.get(t);void 0===t?(o.push(e),++d):(a.push([t,e]),g=p[e]||0,l.push([t-g,e-d]),h.push(e===t),t!==e&&f.push([t,e]))}),s.reverse(),new Ul(t,e,o,s,f,a,l,h)}function ql(t){return void 0===t}var vt=function(){function t(){this.options={},this._eventHandler={}}var e=t.prototype;return e.trigger=function(t){for(var e=arguments,i=this,n=[],r=1;r<arguments.length;r++)n[r-1]=e[r];if(!(0<(a=this._eventHandler[t]||[]).length))return!0;var o=n[0]||{},s=n.slice(1),a=a.concat(),u=!1;o.eventType=t,o.stop=function(){u=!0},o.currentTarget=this;var c=[o];return 1<=s.length&&(c=c.concat(s)),a.forEach(function(t){t.apply(i,c)}),!u},e.once=function(n,r){var o,s=this;if("object"==typeof n&&ql(r)){var t,e=n;for(t in e)this.once(t,e[t]);return this}return"string"==typeof n&&"function"==typeof r&&this.on(n,o=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];r.apply(s,e),s.off(n,o)}),this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"==typeof t&&ql(e)){var i,n=t;for(i in n)this.on(i,n[i]);return this}var r;return"string"==typeof t&&"function"==typeof e&&(ql(r=this._eventHandler[t])&&(this._eventHandler[t]=[],r=this._eventHandler[t]),r.push(e)),this},e.off=function(t,e){var i,n;if(ql(t))return this._eventHandler={},this;if(ql(e)){if("string"==typeof t)return delete this._eventHandler[t],this;var r,o=t;for(r in o)this.off(r,o[r]);return this}var s=this._eventHandler[t];if(s){var a=0;try{for(var u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),c=u.next();!c.done;c=u.next()){if(c.value===e){s.splice(a,1);break}a++}}catch(t){i={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}}return this},t.VERSION="2.2.2",t}(),Wl=function(t,e){return(Wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};function Yl(t,e){function i(){this.constructor=t}Wl(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Kl=function(){return(Kl=Object.assign||function(t){for(var e,i=arguments,n=1,r=arguments.length;n<r;n++)for(var o in e=i[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var _a="undefined"!=typeof window,It=_a?window.navigator.userAgent:"",$l=_a&&!!("getComputedStyle"in window),Zl=/MSIE|Trident|Windows Phone|Edge/.test(It),Jl=_a&&!!("addEventListener"in document),Ql="width",th="height";function eh(t,e){return t.getAttribute(e)||""}function ih(t){return[].slice.call(t)}function nh(t){return"loading"in t&&"lazy"===t.getAttribute("loading")}function rh(t,e,i){Jl?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i}function oh(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null}function sh(t,e){var i=t["client"+e]||t["offset"+e];return parseFloat(i||(t=t,(($l?window.getComputedStyle(t):t.currentStyle)||{})[e.toLowerCase()]))||0}function ah(t,e,i){var n=ih(t.querySelectorAll(function(){for(var t=arguments,e=0,i=0,n=arguments.length;i<n;i++)e+=t[i].length;for(var r=Array(e),o=0,i=0;i<n;i++)for(var s=arguments[i],a=0,u=s.length;a<u;a++,o++)r[o]=s[a];return r}(["["+i+"skip] ["+i+"width]"],e.map(function(t){return["["+i+"skip] "+t,t+"["+i+"skip]","["+i+"width] "+t].join(", ")})).join(", ")));return ih(t.querySelectorAll("["+i+"width], "+e.join(", "))).filter(function(t){return-1===n.indexOf(t)})}var uh=[];function ch(t,e){uh.length||rh(window,"resize",hh),t.__PREFIX__=e,uh.push(t),lh(t)}function lh(t,e){void 0===e&&(e="data-");var i,n=t.__PREFIX__||e,r=parseInt(eh(t,""+n+Ql),10)||0,e=parseInt(eh(t,""+n+th),10)||0;eh(t,n+"fixed")===th?(i=sh(t,"Height")||e,t.style[Ql]=r/e*i+"px"):(i=sh(t,"Width")||r,t.style[th]=e/r*i+"px")}function hh(){uh.forEach(function(t){lh(t)})}var et=function(o){function t(t,e){void 0===e&&(e={});var i,n,r=o.call(this)||this;return r.isReady=!1,r.isPreReady=!1,r.hasDataSize=!1,r.hasLoading=!1,r.isSkip=!1,r.onCheck=function(t){r.clear(),t&&"error"===t.type&&r.onError(r.element);t=!r.hasDataSize&&!r.hasLoading;r.onReady(t)},r.options=Kl({prefix:"data-"},e),r.element=t,r.hasDataSize=(i=t,e=r.options.prefix,!!i.getAttribute((e=void 0===e?"data-":e)+"width")),r.hasLoading=nh(t),r.isSkip=!!r.element.getAttribute((n=void 0===n?"data-":n)+"skip"),r}Yl(t,o);var e=t.prototype;return e.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&ch(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},e.addEvents=function(){var e=this,i=this.element;this.constructor.EVENTS.forEach(function(t){rh(i,t,e.onCheck)})},e.clear=function(){var e=this,i=this.element;this.constructor.EVENTS.forEach(function(t){oh(i,t,e.onCheck)}),this.removeAutoSizer()},e.destroy=function(){this.clear(),this.off()},e.removeAutoSizer=function(){var t,e,i;this.hasDataSize&&(i=this.options.prefix,t=this.element,e=i,(i=uh.indexOf(t))<0||(e=eh(t,e+"fixed"),delete t.__PREFIX__,t.style[e===th?Ql:th]="",uh.splice(i,1),uh.length||oh(window,"resize",hh)))},e.onError=function(t){this.trigger("error",{element:this.element,target:t})},e.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},e.onReady=function(t){this.isReady||(t&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:t,hasLoading:this.hasLoading,isSkip:this.isSkip}))},e.onAlreadyError=function(t){var e=this;setTimeout(function(){e.onError(t)})},e.onAlreadyPreReady=function(){var t=this;setTimeout(function(){t.onPreReady()})},e.onAlreadyReady=function(t){var e=this;setTimeout(function(){e.onReady(t)})},t.EVENTS=[],t}(vt),ph=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Yl(e,t);var i=e.prototype;return i.setHasLoading=function(t){this.hasLoading=t},i.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(ch(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},i.checkElement=function(){return!0},i.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},i.onAlreadyPreReady=function(){t.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},e.EVENTS=[],e}(et),Et=function(i){function t(t){void 0===t&&(t={});var e=i.call(this)||this;return e.readyCount=0,e.preReadyCount=0,e.totalCount=0,e.totalErrorCount=0,e.isPreReadyOver=!0,e.elementInfos=[],e.options=Kl({loaders:{},prefix:"data-"},t),e}Yl(t,i);var e=t.prototype;return e.check=function(t){var o=this,i=this.options.prefix;this.clear(),this.elementInfos=ih(t).map(function(t,r){var e=o.getLoader(t,{prefix:i});return e.check(),e.on("error",function(t){o.onError(r,t.target)}).on("preReady",function(t){var e=o.elementInfos[r];e.hasLoading=t.hasLoading,e.isSkip=t.isSkip;t=o.checkPreReady(r);o.onPreReadyElement(r),t&&o.onPreReady()}).on("ready",function(t){var e=t.withPreReady,i=t.hasLoading,n=t.isSkip,t=o.elementInfos[r];t.hasLoading=i,t.isSkip=n;t=e&&o.checkPreReady(r),n=o.checkReady(r);e&&o.onPreReadyElement(r),o.onReadyElement(r),t&&o.onPreReady(),n&&o.onReady()}),{loader:e,element:t,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}});t=this.elementInfos.length;return(this.totalCount=t)||setTimeout(function(){o.onPreReady(),o.onReady()}),this},e.getTotalCount=function(){return this.totalCount},e.isPreReady=function(){return this.elementInfos.every(function(t){return t.isPreReady})},e.isReady=function(){return this.elementInfos.every(function(t){return t.isReady})},e.hasError=function(){return 0<this.totalErrorCount},e.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach(function(t){!t.isReady&&t.loader&&t.loader.destroy()}),this.elementInfos=[]},e.destroy=function(){this.clear(),this.off()},e.getLoader=function(e,t){var i=this,n=e.tagName.toLowerCase(),r=this.options.loaders,o=Object.keys(r);if(r[n])return new r[n](e,t);var s=new ph(e,t),a=ih(e.querySelectorAll(o.join(", ")));s.setHasLoading(a.some(nh));var u=!1,c=this.clone().on("error",function(t){s.onError(t.target)}).on("ready",function(){s.onReady(u)});return s.on("requestChildren",function(){var t=ah(e,o,i.options.prefix);c.check(t).on("preReady",function(t){(u=t.isReady)||s.onPreReady()})}).on("reqeustReadyChildren",function(){c.check(a)}).on("requestDestroy",function(){c.destroy()}),s},e.clone=function(){return new t(Kl({},this.options))},e.checkPreReady=function(t){return this.elementInfos[t].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},e.checkReady=function(t){return this.elementInfos[t].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},e.onError=function(t,e){var i=this.elementInfos[t];i.hasError=!0,this.trigger("error",{element:i.element,index:t,target:e,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount})},e.onPreReadyElement=function(t){var e=this.elementInfos[t];this.trigger("preReadyElement",{element:e.element,index:t,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:e.hasLoading,isSkip:e.isSkip})},e.onPreReady=function(){this.isPreReadyOver=!0,this.trigger("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()})},e.onReadyElement=function(t){var e=this.elementInfos[t];this.trigger("readyElement",{index:t,element:e.element,hasError:e.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:e.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:e.isSkip})},e.onReady=function(){this.trigger("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount})},e.getErrorCount=function(){return this.elementInfos.filter(function(t){return t.hasError}).length},e.hasLoading=function(){return this.elementInfos.some(function(t){return t.hasLoading})},t}(vt),fh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yl(e,t),e.prototype.checkElement=function(){var t=this.element,e=t.getAttribute("src");return t.complete&&e?(t.naturalWidth||this.onAlreadyError(t),!1):(this.addEvents(),Zl&&t.setAttribute("src",e),!0)},e.EVENTS=["load","error"],e}(et),dh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yl(e,t),e.prototype.checkElement=function(){var t=this.element;return!(1<=t.readyState)&&(t.error?(this.onAlreadyError(t),!1):(this.addEvents(),!0))},e.EVENTS=["loadedmetadata","error"],e}(et),gh=function(e){function t(t){return e.call(this,Kl({loaders:{img:fh,video:dh}},t=void 0===t?{}:t))||this}return Yl(t,e),t}(Et),vh=function(t,e){return(vh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var mh=function(){return(mh=Object.assign||function(t){for(var e,i=arguments,n=1,r=arguments.length;n<r;n++)for(var o in e=i[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},yh="undefined"==typeof window?{document:{},navigator:{userAgent:""}}:window,_h=yh.document,It=yh.navigator.userAgent,Eh=!!("getComputedStyle"in yh),Ih=!!("addEventListener"in _h),bh=function(){var t=!1;try{Ih&&Object.defineProperty&&_h.addEventListener("test",function(){},Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(t){}return t}();/MSIE|Trident|Windows Phone|Edge/.test(It);var Th=/iPhone|iPad/.test(It),Ph=/Android 2\./.test(It),Sh="_eg-infinitegrid-container_",xh="_eg-infinitegrid-ignore_",Oh="_INFINITEGRID_TRANSITION",wh="vertical",Ah="horizontal",Ch=-1e5,Dh="data-groupkey",Lh={itemSelector:"*",isOverflowScroll:!1,threshold:100,isEqualSize:!1,isConstantSize:!1,useRecycle:!0,horizontal:!1,transitionDuration:0,useFit:!0,attributePrefix:"data-",renderExternal:!1,resizeDebounce:100,maxResizeDebounce:0,percentage:!1},Nh={horizontal:!1,margin:0},_a=It.toLowerCase();/mobi|ios|android/.test(_a);var vt="start",et="center",Et="end",It="justify",_a=/applewebkit\/([\d|.]*)/g.exec(_a),_a=_a&&parseInt(_a[1],10)||0,Rh=_a&&_a<537,Mh=["content","groupKey","itemKey","orgSize","mounted","prevRect","rect","size"],kh=(_a=function(){var t,e={transitionend:"",webkitTransitionEnd:"-webkit-",MSTransitionEnd:"-ms-",oTransitionEnd:"-o-",mozTransitionEnd:"-moz-"};for(t in e){var i=e[t];if("on"+t.toLowerCase()in yh)return[i+"transform",i+"transition",t]}return[]}())[0],Vh=_a[1],zh=_a[2];function Hh(t){var e=[];if(t)for(var i=t.length,n=0;n<i;n++)e.push(t[n]);return e}function jh(t){return t.match(/^<([A-z]+)\s*([^>]*)>/)}function Gh(t,e){if(void 0===e&&(e=!1),"string"!=typeof t)return Qh(t)?n=t:(i=t,"function"==typeof yh.jQuery&&i instanceof yh.jQuery||i.constructor.prototype.jquery&&i.toArray?n=e?Gh(t.toArray(),!0):Gh(t.get(0),!1):Array.isArray(t)?(n=t.map(function(t){return Gh(t)}),e||(n=1<=n.length?n[0]:void 0)):n=!t.nodeName||1!==t.nodeType&&9!==t.nodeType?[].slice.call(n):t),n;var i,n=jh(t)?((i=_h.createElement("div")).innerHTML=t,i.childNodes):_h.querySelectorAll(t);return e?Hh(n):n&&n[0]}function Bh(t,e,i,n){Ih?t.addEventListener(e,i,"object"==typeof n?!!bh&&n:n||!1):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i}function Fh(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null}function Uh(t){return(Eh?yh.getComputedStyle(t):t.currentStyle)||{}}function Xh(t,e,i){if(Qh(t))return yh["inner"+e]||_h.body["client"+e];if(9===t.nodeType){var n=t.documentElement,r=t.body;return Math.max(r["scroll"+e],n["scroll"+e],r["offset"+e],n["offset"+e],n["client"+e])}n=0;if(n=i?(i=t.getBoundingClientRect(),"Width"===e?i.right-i.left:i.bottom-i.top):t["client"+e]||t["offset"+e])return n;e=Uh(t)[e.toLowerCase()];return~e.indexOf("px")&&parseFloat(e)||0}function qh(t){return Xh(t,"Width",!1)}function Wh(t){return Xh(t,"Height",!1)}function Yh(t){return Xh(t,"Width",!0)}function Kh(t){return Xh(t,"Height",!0)}function $h(t){return{width:Yh(t),height:Kh(t)}}var Zh={vertical:{startPos1:"top",endPos1:"bottom",size1:"height",startPos2:"left",endPos2:"right",size2:"width"},horizontal:{startPos1:"left",endPos1:"right",size1:"width",startPos2:"top",endPos2:"bottom",size2:"height"}};function Jh(i){for(var t=arguments,e=[],n=1;n<arguments.length;n++)e[n-1]=t[n];return e.forEach(function(t){for(var e in t)i[e]=t[e]}),i}function Qh(t){return t===yh}function tp(t,e){for(var i=t.length-1;0<=i;--i)t[i]=e;return t}function ep(t){return void 0===t}var ip=function(){function n(){this._groups=[],this._groupKeys={}}var t=n.prototype;return n.toItems=function(t,e){return t.map(function(t){return{el:t=t,groupKey:e,mounted:!1,needUpdate:!0,content:t?t.outerHTML:"",rect:{top:Ch,left:Ch}}})},n.pluck=function(t,i){return t.reduce(function(t,e){return t.concat(e[i])},[])},t.clear=function(){this._groups=[],this._groupKeys={}},t.getStatus=function(t,e){var i=this._groups,t=Math.max(this.indexOf(t),0),e=this.indexOf(e)+1||i.length;return{_data:i.slice(t,e).map(function(t){var e=t.items.map(function(e){var i={};return Mh.forEach(function(t){t in e&&(i[t]=e[t])}),i}),t=Jh({},t);return t.items=e,t})}},t.setStatus=function(t){var i=this,t=t._data;this.clear(),t.forEach(function(t,e){i.insertGroup(t,e)})},t.size=function(){return this._groups.length},t.fit=function(i,t){var n,e=this._groups;e.length&&(n=t?"left":"top",0!==i&&e.forEach(function(t){var e=t.items,t=t.outlines;e.forEach(function(t){t.rect[n]-=i}),t.start=t.start.map(function(t){return t-i}),t.end=t.end.map(function(t){return t-i})}))},t.pluck=function(t,e,i){i=ep(e)?this._groups:this.sliceGroups(e,(ep(i)?e:i)+1);return n.pluck(i,t)},t.getOutline=function(t,e){t=this._groups[t];return t?t.outlines[e]:[]},t.getEdgeIndex=function(t,e,i){for(var n="start"===t?"min":"max",r=-1,o="start"===t?1/0:-1/0,s=e;s<=i;s++){var a=Math[n].apply(Math,this.getOutline(s,t));("start"===t&&a<o||"end"===t&&o<a)&&(o=a,r=s)}return r},t.getEdgeValue=function(t,e,i){i=this.getGroup(this.getEdgeIndex(t,e,i));if(i){i=i.outlines[t];if(i.length)return Math["start"===t?"min":"max"].apply(Math,i)}return 0},t.clearOutlines=function(i,n){void 0===i&&(i=-1),void 0===n&&(n=-1),this.getGroups().forEach(function(t,e){i<=e&&e<=n||(t.items.forEach(function(t){t.rect.top=Ch,t.rect.left=Ch}),t.outlines.start=[],t.outlines.end=[])})},t.getMaxEdgeValue=function(){for(var t=this._groups,e=t.length-1;0<=e;--e){var i=t[e].outlines.end;if(i.length)return Math.max.apply(Math,i)}return 0},t.prependGroup=function(t){return this.insertGroup(t,0)},t.appendGroup=function(t){return this.insertGroup(t,this._groups.length)},t.insertGroup=function(t,i){var n=this;if(i<0)return this.appendGroup(t);var e=t.items||[],t=mh(mh({outlines:{start:[],end:[]}},t),{items:[]});return this._groups.splice(i,0,t),this._groupKeys[t.groupKey]=t,e.forEach(function(t,e){n.insert(t,i,e)}),t},t.sync=function(t){var n,r,e=this,i=this._groups,o=this._groupKeys,s=(n=[],r={},t.forEach(function(t){var e=t.groupKey,i=r[e];i||(r[e]=i={groupKey:e,items:[]},n.push(i)),i.items.push(t)}),n),a=Xl(i,s,function(t){return t.groupKey}),u=a.removed,c=a.added,t=a.maintained;u.forEach(function(t){t=i[t];t&&delete o[t.groupKey]});var l=[];return t.forEach(function(t){t=t[0];l.push(i[t])}),this._groups=l,c.forEach(function(t){e.insertGroup(s[t],t)}),t.reverse().forEach(function(t){t=t[1];e.syncItems(t,s[t].items)}),a},t.insert=function(t,e,i){void 0===i&&(i=-1);var n=t.groupKey,r=this._groups,o=this._groupKeys,e=(-1<(e=void 0===e?-1:e)?r[e]:o[n])||this.insertGroup({groupKey:n},e);if(!e)return null;t=mh({content:"",mounted:!1,needUpdate:!0,rect:{top:Ch,left:Ch}},t),e=e.items;return-1===i?e.push(t):e.splice(i,0,t),t},t.removeGroup=function(t){t=this._groups.splice(t,1)[0];return t?(delete this._groupKeys[t.groupKey],t):null},t.remove=function(t,e){var i=this.getGroup(t),n=null,r=[];return i?{items:r=i.items.splice(e,1),group:n=!i.items.length?this.removeGroup(t):n}:{items:r,group:n}},t.indexOf=function(t){if(void 0===t)return-1;for(var e=""+("object"==typeof t?t.groupKey:t),i=this._groups,n=i.length,r=0;r<n;++r)if(e==""+i[r].groupKey)return r;return-1},t.indexesOfElement=function(t){var e=t.getAttribute(Dh),e=this.indexOf({groupKey:e}),i=-1;if(-1<e)for(var n=this.getGroup(e),r=n.items.length,o=0;o<r;o++)if(n.items[o].el===t){i=o;break}return{groupIndex:e,itemIndex:i}},t.sliceGroups=function(t,e){return this._groups.slice(t,e)},t.getGroups=function(){return this._groups},t.getGroupByKey=function(t){return this._groupKeys[t]},t.getGroup=function(t){return this._groups[t]},t.syncItems=function(e,i){var n,t,r,o,s,a=this;i.length?(t=(o=Xl(n=this.getGroup(e).items,i,function(t){return t.itemKey})).added,r=o.maintained,o=this._groups[e],s=[],r.forEach(function(t){var e=t[0],t=t[1],e=n[e];Jh(e,i[t]),s.push(e)}),o.items=s,t.forEach(function(t){a.insert(i[t],e,t)})):this.removeGroup(e)},n}();function np(t){t[Vh+"-property"]="",t[Vh+"-duration"]="",t[kh]=""}var rp=function(){function i(t,e){this.options={isEqualSize:!1,isConstantSize:!1,horizontal:!1,container:!1,percentage:!1},this._size={container:-1,view:-1,viewport:-1,item:null},this._orgStyle={},this._isSizePercentage=!1,this._isPosPercentage=!1,Jh(this.options,e),this._init(t),this.resize()}var t=i.prototype;return i.removeItems=function(t){t.forEach(function(t){t.el&&(i.removeElement(t.el),t.el=null)})},i.removeElement=function(t){var e=t&&t.parentNode;e&&e.removeChild(t)},i.createElements=function(t){var i;!t.length||(t=t.filter(function(t){return!t.el})).length&&(i=Gh(t.map(function(t){return t.content.replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")}).join(""),!0),t.forEach(function(t,e){t.el=i[e]}))},t.getStatus=function(){return{cssText:this.container.style.cssText,_size:Jh({},this._size)}},t.setStatus=function(t){this.container.style.cssText=t.cssText,Jh(this._size,t._size)},t.updateSize=function(t){var e=this.options,i=e.isEqualSize,n=e.isConstantSize,r=this._size;return t.map(function(t){return t.el&&(i&&!r.item&&(r.item=$h(t.el)),t.size=i&&Jh({},r.item)||n&&t.orgSize&&t.orgSize.width&&Jh({},t.orgSize)||$h(t.el),t.orgSize&&t.orgSize.width&&t.orgSize.height||(t.orgSize=Jh({},t.size))),t})},t.createAndInsert=function(t,e){i.createElements(t),this.renderItems(t),this._insert(t,e)},t.renderItems=function(t,e){var i=this;t.forEach(function(t){i.renderItem(t,t.rect,e)})},t.renderItem=function(e,t,i){var n,r,o,s,a,u,c,l,h=this;e.el&&(n=e.el,r=e.prevRect,o=n.style,n.setAttribute(Dh,""+e.groupKey),o.position="absolute",this._render(["width","height"],t,o),i&&Vh&&r?(function(t,e,i,n){if(e)return i.left===n.left&&i.top===n.top||(t[Vh+"-property"]=kh+",width,height",t[Vh+"-duration"]=e+"s",t[kh]="translate("+(i.left-n.left)+"px,"+(i.top-n.top)+"px)");np(t)}(o,i,t,r),n[Oh]||(n[Oh]=!0,u=function(){var t=e.rect;np(o),h._render(["left","top"],t,o),e.prevRect=t,n[Oh]=!1},Bh(s=n,a=zh,l=function(t){Fh(s,a,l),u(t)},c))):(this._render(["left","top"],t,o),e.prevRect=t))},t.getViewSize=function(){return this._size.view},t.getViewportSize=function(){return this._size.viewport},t.getContainerSize=function(){return this._size.container},t.setContainerSize=function(t){this._size.container=t,this.container.style[this.options.horizontal?"width":"height"]=t+"px"},t.resize=function(){var t=this.options.horizontal,e=this.view,i=this._calcSize();if(0!==i){var n=i!==this._size.viewport;return n&&(this._size={view:-1,container:-1,viewport:i,item:null}),this._size.view=(t?qh:Wh)(e),n}},t.isNeededResize=function(){return this._calcSize()!==this._size.viewport},t.clear=function(){this.container.innerHTML="",this.container.style[this.options.horizontal?"width":"height"]="",this._size={item:null,viewport:-1,container:-1,view:-1}},t.destroy=function(){this.clear();var t,e=this.options.container;for(t in this._orgStyle)this[e?"view":"container"].style[t]=this._orgStyle[t];e&&this.container.parentNode.removeChild(this.container)},t._init=function(t){var e=Gh(t),i=Uh(e),n=this.options,r=n.container,t=n.horizontal,n=n.percentage;n&&(this._isSizePercentage=!0===n||-1<n.indexOf("size"),this._isPosPercentage=!0===n||-1<n.indexOf("position")),"static"===i.position&&(this._orgStyle.position=e.style.position,e.style.position="relative"),r?(t=t?["X","Y"]:["Y","X"],this._orgStyle.overflowX=e.style.overflowX,this._orgStyle.overflowY=e.style.overflowY,e.style["overflow"+t[0]]="scroll",e.style["overflow"+t[1]]="hidden",this.view=e,this.container=!0===r?function(t){var e=t.querySelector("."+Sh);if(e)return e.style.position="relative",e.style.height="100%",e;var i=_h.createElement("div");i.className=Sh,i.style.position="relative",i.style.height="100%";for(var n=t.children,r=n.length,o=0;o<r;o++)i.appendChild(n[0]);return t.appendChild(i),i}(this.view):r):(this.view=yh,this.container=e)},t._insert=function(t,e,i){var n=this,r=this.container,o=_h.createDocumentFragment();t.forEach(function(t){i&&n.renderItem(t,i),e?o.appendChild(t.el):o.insertBefore(t.el,o.firstChild)}),e?r.appendChild(o):r.insertBefore(o,r.firstChild)},t._calcSize=function(){return(this.options.horizontal?Wh:qh)(this.container)},t._render=function(t,e,i){var n=this._isSizePercentage,r=this._isPosPercentage,o=this.getViewportSize(),s=this.options.horizontal;t.forEach(function(t){t in e&&(i[t]=s&&(n&&"height"===t||r&&"top"===t)||!s&&(n&&"width"===t||r&&"left"===t)?e[t]/o*100+"%":e[t]+"px")})},i}();var op=function(){function t(t,e){this.options=Jh({useRecycle:!0,threshold:100,append:function(){},prepend:function(){},recycle:function(){}},e),this._itemManager=t,this.clear()}var e=t.prototype;return e.setSize=function(t){this._status.size=t},e.sync=function(t){var e=this._status,i=e.startCursor,n=e.endCursor,r=this._itemManager,o=r.sliceGroups(i,n+1),s=ip.pluck(o,"items"),a=r.sync(t),u=function(t,e){for(var i=t.length,n=0;n<i;++n)if(e(t[n]))return t[n];return null}(o,function(t){t=t.groupKey;return r.getGroupByKey(t)}),c=function(t,e){for(var i=t.length-1;0<=i;--i)if(e(t[i]))return t[i];return null}(o,function(t){t=t.groupKey;return r.getGroupByKey(t)}),t=u?r.indexOf(u):-1,o=c?r.indexOf(c):-1;return-1<t&&-1<o?(u=Math.min(t,o),c=Math.max(t,o),t=u,o=c):-1<o?t=o:-1<t&&(o=t),e.startCursor=t,e.endCursor=o,0<a.removed.length?"relayout":0<Xl(s,r.pluck("items",i,n),function(t){return t.itemKey}).removed.length?"layout":""},e.recycle=function(s,t){var e,a,u,i,n,r,o;this.options.useRecycle&&"number"==typeof s&&(e=(i=this._status).startCursor,r=i.endCursor,o=i.size,-1!==e&&-1!==r&&(a=s+o,n=this.options,u=n.threshold,i=n.recycle,n=(o=this._itemManager.sliceGroups(e,r+1).map(function(t){return i=u,n=s,r=a,o=(e=t).items,e=(t=e.outlines).start,t=t.end,0!==e.length&&0!==t.length&&o.length&&o[0].el?(e=Math.min.apply(Math,e),t=Math.max.apply(Math,t),r+i<e?1:t<n-i?-1:0):2;var e,i,n,r,o})).length,r=t?0:o.lastIndexOf(0),o=t?o.indexOf(0)-1:o.length-1,t||-1===r||(r+=1),r<0||o<0||o<r||n<=o-r+1||(r=e+r,o=e+o,t?this.setCursor("start",o+1):this.setCursor("end",r-1),i({start:r,end:o}))))},e.scroll=function(n){var r,t,e,i,o,s,a,u=this.getCursors(),c=u[0],l=u[1],h=this._itemManager;"number"==typeof n&&-1!==c&&-1!==l&&h.size()&&(a=this._status.size,s=this.options,r=s.threshold,t=s.append,e=s.prepend,i=h.getGroups(),o=n+a,u=Math.max.apply(Math,i[c].outlines.start),s=Math.min.apply(Math,i[l].outlines.end),a=(h=i.map(function(t,e){var i=t.outlines,t=i.start,i=i.end;if(!t.length||!i.length)return!1;t=Math.min.apply(Math,t),i=Math.max.apply(Math,i);return t-r<=o&&n<=i+r})).indexOf(!0),h=h.lastIndexOf(!0),~a&&a<c?e({cache:i.slice(a,Math.min(c,h+1))}):l<h?t({cache:i.slice(Math.max(a,l+1),h+1)}):(l=i.slice(l+1,l+2),c=i.slice(c-1,c),u=n<=u+r,s-r<=o&&(!u||l.length||!c.length)?t({cache:l}):u&&e({cache:c})))},e.setCursor=function(t,e){var i=this._status,n=this._itemManager,r=n.size();if(!this.options.useRecycle){if(i.startCursor=0,n.getOutline(r-1,"end").length)return void(i.endCursor=r-1);if("end"!==t)return}"start"===t?i.startCursor=e:i.endCursor=Math.min(r-1,e),i.startCursor=Math.max(0,i.startCursor)},e.setStatus=function(t){this._status=Jh(this._status,t)},e.getStatus=function(t,e){var i=this._status,n=i.startCursor,r=i.endCursor,i=i.size,t=Math.max(this._itemManager.indexOf(t),0),e=(this._itemManager.indexOf(e)+1||this._itemManager.size())-1,n=Math.max(n-t,~n?0:-1);return{startCursor:n,endCursor:Math.max(Math.min(r-t,e-t),n),size:i}},e.getEdgeOutline=function(t){var e=this._status,i=e.startCursor,e=e.endCursor;return-1===i||-1===e?[]:this._itemManager.getOutline("start"===t?i:e,t)},e.getEdgeValue=function(t){var e=this.getEdgeOutline(t);return e.length?Math["start"===t?"min":"max"].apply(Math,e):0},e.getVisibleItems=function(){var t=this._status,e=t.startCursor,t=t.endCursor;return this._itemManager.pluck("items",e,t)},e.getCursors=function(){var t=this._status;return[t.startCursor,t.endCursor]},e.getCursor=function(t){return this._status["start"===t?"startCursor":"endCursor"]},e.getVisibleData=function(){var t=this._status,e=t.startCursor,t=t.endCursor;return this._itemManager.sliceGroups(e,t+1)},e.remove=function(t,e){var i=this._status,n=this._itemManager,r=i.startCursor,o=i.endCursor,e=n.remove(t,e);return e.group&&(t<r&&this.setCursor("start",r-1),t<=o&&this.setCursor("end",o-1)),n.size()||(i.startCursor=-1,i.endCursor=-1),e},e.clear=function(){this._status={startCursor:-1,endCursor:-1,size:-1}},t}();function sp(t,e){return~t.indexOf(e)}var ap,up=function(){function t(t,e,i,n){this._infinite=t,this._itemManager=e,this._renderer=i,this.options=n}var e=t.prototype;return e.setLayout=function(t){this._layout=t},e.render=function(i,t,n,e){var r=this;void 0===n&&(n=ip.pluck(t,"items"));var o=e?t:t.reverse(),s=[],a=[],u=n.map(function(t){return t.el}),t=this.options.attributePrefix,t=new gh({prefix:t});return(this.im=t).check(u),t.on("preReady",function(){r._itemManager&&r._preReady(i,o,n,e)}).on("error",function(t){var e=t.target,t=t.index;r._itemManager&&r._error(i,a,s,e,n,t)}).on("readyElement",function(t){n[t.index].needUpdate=!1,t.hasLoading&&t.isPreReadyOver&&r._readyElement(i,n[t.index])}).on("ready",function(){r._itemManager&&r._ready(i,a,s,n)}),i},e.destroy=function(){this.im&&this.im.destroy()},e._preReady=function(t,e,i,n){var r=this,o=this._infinite,s=this._layout,a=this._itemManager,u=n?"end":"start",c=a.indexOf(e[0]),c=a.getGroup(c+(n?-1:1)),l=c?c.outlines[u]:[0];this._renderer.updateSize(i),e.forEach(function(t){var i=t.outlines[n?"start":"end"];if(!(!l.length||l.length!==i.length||!l.every(function(t,e){return t===i[e]})))return l=t.outlines[n?"end":"start"],void r._renderer.renderItems(t.items);var e=t.items,e=s[n?"append":"prepend"](e,l,!0);Jh(t,e),r._renderer.renderItems(e.items),l=e.outlines[n?"end":"start"]});u=Math.max(o.getCursor("start"),0),i=Math.max(o.getCursor("end"),0),o=a.indexOf(e[0].groupKey),a=a.indexOf(e[e.length-1].groupKey);(a=(i+1<o||a<u-1?!1:!0)?n?(o=u,Math.max(i,a)):(o=Math.max(Math.min(u,o),0),i):a)<o&&(i=o,o=a,a=i),t.trigger("renderComplete",{start:o,end:a}),t.trigger("layoutComplete",{items:ip.pluck(e,"items"),isAppend:!!n})},e._error=function(t,i,n,r,e,o){function s(){var t;sp(i,p)||(i.push(p),-1!==(t=n.indexOf(o))&&n.splice(t,1))}function a(){r!==p?sp(i,p)||(r.parentNode.removeChild(r),h.content=p.outerHTML,sp(n,o)||n.push(o)):s()}function u(t){var e;sp(i,p)||(t&&(jh(t)||"object"==typeof t?((e=r.parentNode).insertBefore(Gh(t),r),e.removeChild(r),h.content=p.outerHTML):r instanceof HTMLImageElement&&(r.src=t,r.getAttribute(f+"width")&&(r.removeAttribute(f+"width"),r.removeAttribute(f+"height")))),h.content=p.outerHTML,sp(n,o)||n.push(o))}function c(t){sp(i,p)||(p.innerHTML=t,h.content=p.outerHTML,sp(n,o)||n.push(o))}var l=this._itemManager,h=e[o],p=h.el,f=this.options.attributePrefix,l=l.pluck("items").indexOf(h);r instanceof HTMLImageElement&&t.trigger("imageError",{target:r,element:p,items:e,item:h,itemIndex:o,replace:u,replaceItem:c,remove:a,removeItem:s,totalIndex:l}),t.trigger("contentError",{target:r,element:p,items:e,item:h,itemIndex:o,replace:u,replaceItem:c,remove:a,removeItem:s,totalIndex:l})},e._readyElement=function(t,e){t.trigger("readyElement",{item:e})},e._ready=function(t,e,i,n){var r,o=this,s=this.options.attributePrefix,a=e.length,u=i.length;a||u?(r=i.map(function(t){return n[t]}),u?new gh({prefix:s}).check(r.map(function(t){return t.el})).on("ready",function(){o._renderer.updateSize(r),t.trigger("ready",{remove:e,layout:!0})}):t.trigger("ready",{remove:e,layout:!0})):t.trigger("ready",{remove:[]})},t}(),cp=function(){function t(t,e){var n=this;void 0===e&&(e={}),this._resizeTimer=0,this._maxResizeDebounceTimer=0,this._containerOffset=0,this._isScrollIssue=Th,this._prevPos=null,this._onCheck=function(){var t=n.getScrollPos(),e=n.getOrgScrollPos();n.setScrollPos(e);var i=n.getScrollPos();null===t||n._isScrollIssue&&0===e||t===i?e&&(n._isScrollIssue=!1):(n._isScrollIssue=!1,n.options.check({isForward:t<i,scrollPos:i,orgScrollPos:e,horizontal:n.options.horizontal}))},this._onResize=function(){var t=n.options,e=t.resizeDebounce,i=t.maxResizeDebounce,t=function(){clearTimeout(n._resizeTimer),clearTimeout(n._maxResizeDebounceTimer),n._maxResizeDebounceTimer=0,n._resizeTimer=0,n.resize(),n.options.resize()};!n._maxResizeDebounceTimer&&e<=i&&(n._maxResizeDebounceTimer=yh.setTimeout(t,i)),n._resizeTimer&&(clearTimeout(n._resizeTimer),n._resizeTimer=0),n._resizeTimer=yh.setTimeout(t,e)},Jh(this.options={container:t,resize:function(){},check:function(){},isOverflowScroll:!1,horizontal:!1,resizeDebounce:100,maxResizeDebounce:0},e),this._view=t,this.attachEvent(),this.resize(),this.setScrollPos()}var e=t.prototype;return e.getStatus=function(){return{_prevPos:this._prevPos,scrollPos:this.getOrgScrollPos()}},e.setStatus=function(t,e){void 0===e&&(e=!0),this._prevPos=t._prevPos,e&&this.scrollTo(t.scrollPos)},e.scrollBy=function(t){var e,i=this.options.horizontal?[t,0]:[0,t];e=this._view,t=i[0],i=i[1],Qh(e)?e.scrollBy(t,i):(e.scrollLeft+=t,e.scrollTop+=i),this.setScrollPos()},e.scrollTo=function(t){var e,i=this.options.horizontal?[t,0]:[0,t];e=this._view,t=i[0],i=i[1],Qh(e)?e.scroll(t,i):(e.scrollLeft=t,e.scrollTop=i)},e.getScrollPos=function(){return this._prevPos},e.setScrollPos=function(t){void 0===t&&(t=this.getOrgScrollPos()),this._prevPos=t-this.getContainerOffset()},e.attachEvent=function(){Bh(this._view,"scroll",this._onCheck),Bh(yh,"resize",this._onResize)},e.getOrgScrollPos=function(){return t=this._view,e=this.options.horizontal,i="scroll"+((e=void 0===e?!1:e)?"Left":"Top"),Qh(t)?yh[e?"pageXOffset":"pageYOffset"]||_h.body[i]||_h.documentElement[i]:t[i];var t,e,i},e.reset=function(){this._prevPos=null},e.getContainerOffset=function(){return this._containerOffset},e.resize=function(){this._containerOffset=this.options.isOverflowScroll?0:this._getOffset()},e.detachEvent=function(){Fh(this._view,"scroll",this._onCheck),Fh(yh,"resize",this._onResize)},e.destroy=function(){this.detachEvent(),this.reset()},e._getOffset=function(){var t=this.options,e=t.container,t=t.horizontal;return e.getBoundingClientRect()[t?"left":"top"]+this.getOrgScrollPos()},t}(),lp=function(p){function t(){this.constructor=e}var e;function i(t,e){var i=p.call(this)||this;i._loadingBar={},i._requestGroups=[],Jh(i.options=mh({},Lh),e),Rh&&(i.options.useFit=!1),Ph&&(i.options.isOverflowScroll=!1),i._reset();var n=i.options,r=n.isOverflowScroll,o=n.isEqualSize,s=n.isConstantSize,a=n.horizontal,u=n.threshold,c=n.useRecycle,l=n.attributePrefix,h=n.resizeDebounce,e=n.maxResizeDebounce,n=n.percentage;return i._itemManager=new ip,i._renderer=new rp(t,{isEqualSize:o,isConstantSize:s,horizontal:a,container:r,percentage:n}),i._watcher=new cp(i._renderer.view,{resizeDebounce:h,maxResizeDebounce:e,isOverflowScroll:r,horizontal:a,container:i._renderer.container,resize:function(){return i._onResize()},check:function(t){return i._onCheck(t)}}),i._infinite=new op(i._itemManager,{useRecycle:c,threshold:u,append:function(t){return i._requestAppend(t)},prepend:function(t){return i._requestPrepend(t)},recycle:function(t){return i._recycle([t])}}),i._renderManager=new up(i._infinite,i._itemManager,i._renderer,{attributePrefix:l,isEqualSize:o,isConstantSize:s,horizontal:a}),i}vh(e=i,n=p),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t);var n=i.prototype;return n.append=function(t,e){return this._layout&&this._insert({elements:t,isAppend:!0,groupKey:e}),this},n.prepend=function(t,e){return this._layout&&this._insert({elements:t,isAppend:!1,groupKey:e}),this},n.setLayout=function(t,e){void 0===e&&(e={});var i=this.options.horizontal;return"function"==typeof t?this._layout=new t(Jh(e,{horizontal:i})):(t.options.horizontal=i,this._layout=t),this._renderManager.setLayout(this._layout),this._renderer.resize(),this._setSize(this._renderer.getViewportSize()),this},n.getItems=function(t){return(t=void 0===t?!1:t)?this._itemManager.pluck("items"):this._infinite.getVisibleItems()},n.getRenderingItems=function(){var t=this.getItems(),e={};t.forEach(function(t){e[t.itemKey]=!0});var i=ip.pluck(this._requestGroups,"items").filter(function(t){return!e[t.itemKey]&&(e[t.itemKey]=!0)});return t.concat(i)},n.beforeSync=function(t){return this._infinite.sync(t)},n.sync=function(n){var r=this,t=this._itemManager,e=this._infinite,i=this.getRenderingItems();i.forEach(function(t,e){var i=t.el!==n[e];t.el=n[e],i&&r._renderer.renderItem(t,t.rect)}),this._isProcessing()||((i=i.filter(function(t){return t.needUpdate||!t.orgSize||!t.orgSize.width})).length?this._postLayout({fromCache:!1,groups:e.getVisibleData(),newItems:i,isAppend:!0,isTrusted:!1}):t.size()?e.getCursor("start")<0?(t=t.getGroup(0),this._postLayout({groups:[t],hasChildren:!1,fromCache:!1,isAppend:!0})):this._infinite.scroll(this._watcher.getScrollPos()):this._requestAppend({}))},n.layout=function(t){if(void 0===t&&(t=!0),!this._layout)return this;var e=this._renderer,i=this._itemManager,n=this._infinite,r=e.resize(),o=this.getItems(),s=this.options,a=s.isEqualSize,u=s.isConstantSize,s=s.transitionDuration,a=t&&(a||u);if(this._watcher.resize(),t&&r&&this._setSize(e.getViewportSize()),!o.length)return this._firstLayout();u=n.getCursors(),e=u[0],n=u[1],u=!a&&t&&r?i.sliceGroups(e,n+1):i.getGroups();return this._relayout(t,u,r?o:[]),a?this._fit():t&&r&&i.clearOutlines(e,n),this._renderer.renderItems(o,s),t&&this._watcher.setScrollPos(),this._onLayoutComplete({items:o,isAppend:!0,fromCache:!0,isTrusted:!1,useRecycle:!1,isLayout:!0}),this},n.removeByIndex=function(t,e,i){void 0===i&&(i=!0);t=this._infinite.remove(t,e),e=t.items,t=t.group;return e.forEach(function(t){rp.removeElement(t.el)}),e.length?(i&&this.layout(!!t),e):[]},n.remove=function(t,e){void 0===e&&(e=!0);var i=this._itemManager.indexesOfElement(t),t=i.groupIndex,i=i.itemIndex;return this.removeByIndex(t,i,e)},n.getGroupKeys=function(t){return(t?this._itemManager.getGroups():this._infinite.getVisibleData()).map(function(t){return t.groupKey})},n.getStatus=function(t,e){return{_status:Jh({},this._status),_itemManager:this._itemManager.getStatus(t,e),_renderer:this._renderer.getStatus(),_watcher:this._watcher.getStatus(),_infinite:this._infinite.getStatus(t,e)}},n.setStatus=function(t,e,i){if(void 0===e&&(e=!0),!t)return this;var n=t._status,r=t._renderer,o=t._itemManager,s=t._watcher,a=t._infinite;if(!(n&&r&&o&&s&&a))return this;var u=this.options.renderExternal,c=this._itemManager,l=this._renderer,h=this._watcher,t=this._infinite;h.detachEvent(),Jh(this._status,n),this._status.processingStatus=0,c.setStatus(o),l.setStatus(r),t.setStatus(a);r=this.getItems(),a=r.length;u?(r.forEach(function(t,e){t.el=i[e]}),this._renderer.renderItems(r)):l.createAndInsert(r,!0);u=l.isNeededResize();h.setStatus(s,e),h.attachEvent();e=this.options,h=e.isConstantSize,e=e.isEqualSize;return a?u?(l.resize(),this._setSize(l.getViewportSize()),h?this.layout(!0):(this._itemManager.clearOutlines(),this._postLayout({fromCache:!0,groups:e?c.getGroups():t.getVisibleData(),items:r,newItems:r,isAppend:!0,isTrusted:!1}))):this.layout(!1):this._requestAppend({cache:[]}),this},n.clear=function(){return this._itemManager.clear(),this._renderer.clear(),this._infinite.clear(),this._reset(),this._appendLoadingBar(),this},n.setLoadingBar=function(t){var e="object"==typeof(t=void 0===t?{}:t)?t:{append:t,prepend:t};this._status.loadingSize=0,this._status.loadingStyle={};var i,n,r,o=this._loadingBar,s=!1;for(i in e){var a=Gh(e[i]);o[i]!==a&&(o[i]=a,s=!0),r=xh,((n=a).classList?n.classList.contains(r):n.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)")))||(r=xh,(a=a).classList?a.classList.add(r):a.className+=" "+r)}return s&&this._renderLoading(),this._appendLoadingBar(),this},n.isProcessing=function(){return this._isProcessing()||this.isLoading()},n.isLoading=function(){return 0<this._getLoadingStatus()},n.getLoadingBar=function(t){return void 0===t&&(t=2!==this._getLoadingStatus()),this._loadingBar[t?"append":"prepend"]},n.startLoading=function(t,e){var i=this;if(void 0===e&&(e={display:"block"}),this.isLoading())return this;var n=t?"append":"prepend";if(this._process(t?1:2),!this._loadingBar[n])return this;n=function(){i._renderLoading(e),i._status.loadingStyle=e,t?i._setContainerSize(i._getEdgeValue("end")+i._status.loadingSize):i._fit()};return this.options.renderExternal?this.trigger("render",{next:n}):n(),this},n.endLoading=function(t){if(void 0===t&&(t={display:"none"}),!this.isLoading())return this;var e=1===this._getLoadingStatus(),i=this._loadingBar[e?"append":"prepend"],n=this._status,r=n.loadingSize;if(this._process(3,!1),n.loadingSize=0,n.loadingStyle={},i){var o,s=Jh(((n={})[this.options.horizontal?"left":"top"]=-r+"px",n),t);for(o in s)i.style[o]=s[o];e?this._setContainerSize(this._getEdgeValue("end")):this._fitItems(r),this.options.renderExternal&&this.trigger("render",{next:function(){}})}return this.options.useRecycle&&!this.isProcessing()&&this._infinite.recycle(this._watcher.getScrollPos(),e),this},n.getItem=function(t,e){if("object"!=typeof(t=void 0===t?0:t)){var i=this._itemManager.getGroup(t);return i&&i.items[e||0]}if(t)for(var n=this.getItems(),r=n.length,o=0;o<r;++o)if(n[o].el===t)return n[o]},n.updateItem=function(t,e){e=this.getItem(t,e);return this._updateItem(e)&&this.layout(!1),this},n.updateItems=function(){var e=this;return this.getItems().forEach(function(t){e._updateItem(t)}),this.layout(!1),this},n.moveTo=function(t,r){var o=this;if(void 0===r&&(r=0),this.isProcessing())return this;var e=this._itemManager.getGroup(t);if(!e)return this;var i=this._infinite,n=e.outlines,s=e.items,a=s[r],u=n.start&&0===n.start.length,c=i.getCursors(),l=c[0],h=c[1],p=l<=t&&t<=h,i=this.options,c=i.useRecycle,f=i.horizontal;if(!p&&c&&u)return this._postCache({isAppend:d=h<t||t<l-1,cache:[e],isTrusted:!1}).on("renderComplete",function(t){var e=t.start,i=t.end,n=o._itemManager;n&&(t=s[r].rect[f?"left":"top"],n.clearOutlines(e,i),o._scrollTo(t),o._setScrollPos(t))}),this;a=a?a.rect[f?"left":"top"]:Math.max.apply(Math,n.start),n=Math.min.apply(Math,n.start);n<0&&(this._fitItems(n,0),a-=n);var d=l<t;return p||d?this._scrollTo(a):this._postLayout({fromCache:!0,groups:[e],items:s,newItems:[],isAppend:d,isTrusted:!1}).on("renderComplete",function(t){var e=t.start,i=t.end,n=o._itemManager;n&&(t=s[r].rect[f?"left":"top"],p||n.clearOutlines(e,i),o._scrollTo(t),o._setScrollPos(t))}),this},n.destroy=function(){this._infinite.clear(),this._watcher.destroy(),this._reset(),this._itemManager.clear(),this._renderer.destroy(),this._renderManager.destroy()},n._relayout=function(t,e,i){var n=this._renderer,r=n.options,o=r.isEqualSize,s=r.isConstantSize,r=e.filter(function(t){t=t.items[0];return t.orgSize&&-1e4<t.rect.top});if(!r.length)return[];e=r[0].outlines.start;t&&(e=[e.length?Math.min.apply(Math,e):0],!s&&i.length&&(n.updateSize(i),o&&i[0].size&&ip.pluck(r,"items").forEach(function(t){t.size=Jh({},i[0].size)}))),this._layout.layout(r,e)},n._setContainerSize=function(t){this._renderer.setContainerSize(Math.max(this._itemManager.getMaxEdgeValue(),t))},n._appendLoadingBar=function(){if(!this.options.renderExternal){var t,e=this._loadingBar,i=this._renderer.container;for(t in e)i.appendChild(e[t])}},n._setSize=function(t){this._infinite.setSize(this._renderer.getViewSize()),this._layout.setSize(t)},n._fitItems=function(t,e){void 0===e&&(e=0),0<t&&this._watcher.scrollBy(-t),this._itemManager.fit(t,this.options.horizontal),this._renderer.renderItems(this.getItems()),this._setContainerSize(this._getEdgeValue("end")||e),t<0&&this._watcher.scrollBy(-t)},n._fit=function(t){void 0===t&&(t=this.options.useFit);var e=this._getEdgeValue("start"),i=2===this._getLoadingStatus()&&this._status.loadingSize||0,n=this.options,r=n.isConstantSize,o=n.isEqualSize;if(!n.useRecycle||!t||r||o)e<i&&this._fitItems(e-i,i),e=0;else{if(0===e&&!i)return 0;this._fitItems(e-i,i)}return this.isLoading()&&this._renderLoading(),e},n._getEdgeValue=function(t){return this._infinite.getEdgeValue(t)},n._isProcessing=function(){return 0<(4&this._status.processingStatus)},n._getLoadingStatus=function(){return 3&this._status.processingStatus},n._process=function(t,e){(e=void 0===e?!0:e)?this._status.processingStatus|=t:this._status.processingStatus-=this._status.processingStatus&t},n._insert=function(t){var e=t.elements,i=t.isAppend,n=t.hasChildren,t=t.groupKey,t=void 0===t?this._getRandomKey():t;this._isProcessing()||0===e.length||(e=ip.toItems(Gh(e,!0),t),this._insertItems({items:e,isAppend:i,hasChildren:n,groupKey:t}))},n._insertItems=function(t){var e=t.items,i=t.isAppend,n=t.hasChildren,r=t.groupKey,o=void 0===r?this._getRandomKey():r;e.length&&(t=this._itemManager[i?"appendGroup":"prependGroup"]({groupKey:o,items:e}),i||(e=(o=(r=this._infinite).getCursors())[0],o=o[1],r.setCursor("start",e+1),r.setCursor("end",o+1)),this._postLayout({fromCache:!1,groups:[t],items:t.items,newItems:t.items,isAppend:i,hasChildren:n,isTrusted:!1}))},n._recycle=function(t){var i=this,e=this.options,n=e.useRecycle,r=e.renderExternal;if(!n)return!1;var o=!1;return t.forEach(function(t){var e=t.start,t=t.end;-1===e||-1===t||t<e||(t=i._itemManager.pluck("items",e,t),o=o||t.some(function(t){return t.mounted}),t.forEach(function(t){t.mounted=!1}),r||rp.removeItems(t))}),o&&(this._requestGroups=[],this.trigger("render",{next:function(){}})),o},n._renderLoading=function(t){if(void 0===t&&(t=this._status.loadingStyle),this.isLoading()){var e=1===this._getLoadingStatus(),i=this._loadingBar[e?"append":"prepend"];if(i){var n,r=Jh({position:"absolute"},t);for(n in r)i.style[n]=r[n];this._status.loadingSize=(this.options.horizontal?Yh:Kh)(i);t=this.options.horizontal?"left":"top";t in r||(e=e?this._getEdgeValue("end"):this._getEdgeValue("start")-this._status.loadingSize,i.style[t]=e+"px")}}},n._updateItem=function(t){return!(!t||!t.el)&&(t.content=t.el.outerHTML,this.options.isEqualSize||((e=t).orgSize=null,e.size=null),this._renderer.updateSize([t]),!0);var e},n._setScrollPos=function(t){this._watcher.setScrollPos(this._watcher.getContainerOffset()+t)},n._scrollTo=function(t){this._watcher.scrollTo(this._watcher.getContainerOffset()+t)},n._postCache=function(t){var e=t.cache,i=t.isAppend,n=t.isTrusted,r=void 0===n||n,o=this.options.isConstantSize,t=ip.pluck(e,"items"),s=!0,n=t.filter(function(t){return t.orgSize&&t.orgSize.width?!o&&t.rect.top<-1e4:!(s=!1)});return this._postLayout({fromCache:s,groups:e,items:t,newItems:n,isAppend:i,isTrusted:r})},n._postLayout=function(t){var i=this,e=t.fromCache,n=t.groups,r=t.items,o=void 0===r?ip.pluck(n,"items"):r,s=t.newItems,a=t.isAppend,u=t.hasChildren,c=t.isTrusted;if(this._process(4),n.length){var r=this.options.renderExternal,t=this._renderer,l=new Hl,h=function(){o.forEach(function(t){t.mounted=!0}),i._renderManager.render(l,n,s,a).on("imageError",function(t){i.trigger("imageError",t)}).on("contentError",function(t){i.trigger("contentError",t)}).on("renderComplete",function(t){var e=t.start,t=t.end;i._setCursor(e,t)}).on("layoutComplete",function(t){t=t.items;i._process(4,!1),i._onLayoutComplete({items:t,isAppend:a,fromCache:e,isTrusted:c,useRecycle:!1})}).on("readyElement",function(t){i._updateItem(t.item)&&i.layout(!1)}).on("ready",function(t){var e=t.remove,t=t.layout;e.forEach(function(t){return i.remove(t,!1)}),t?i.layout(!1):!i.isProcessing()&&i.options.useRecycle&&(t=i._watcher.getScrollPos(),i._infinite.recycle(t,a))})};if(!u){if(r)return o.every(function(t){return t.mounted})?h():(this._requestGroups=n,this.trigger("render",{next:function(){u||i._renderer.renderItems(o),h()}})),l;t.createAndInsert(o,a)}return h(),l}},n._requestAppend=function(t){var e=this,t=t.cache;this._isProcessing()||(t&&t.length?this._postCache({cache:t,isAppend:!0}):this.trigger("append",{isTrusted:!0,groupKey:this.getGroupKeys().pop()||"",startLoading:function(t){e.startLoading(!0,t)},endLoading:function(t){e.endLoading(t)}}))},n._requestPrepend=function(t){var e=this,t=t.cache;this._fit(this.options.useFit||!t||!t.length),this._isProcessing()||(t&&t.length?this._postCache({cache:t,isAppend:!1}):this.trigger("prepend",{isTrusted:!0,groupKey:this.getGroupKeys().shift(),startLoading:function(t){e.startLoading(!1,t)},endLoading:function(t){e.endLoading(t)}}))},n._onResize=function(){this.layout(!0)},n._setCursor=function(t,e){var i=this._infinite,n=i.getCursors(),r=n[0],n=n[1];i.setCursor("start",t),i.setCursor("end",e),this._recycle([{start:r,end:t-1},{start:e+1,end:n}])||(this._requestGroups=[],this.trigger("render",{next:function(){}}))},n._onCheck=function(t){var e=t.isForward,i=t.scrollPos,n=t.horizontal,t=t.orgScrollPos;this.trigger("change",{isForward:e,horizontal:n,scrollPos:i,orgScrollPos:t}),this._infinite.scroll(i)},n._onLayoutComplete=function(t){var e=this,i=t.items,n=t.isAppend,r=t.isTrusted,o=void 0!==r&&r,s=t.useRecycle,a=void 0===s?this.options.useRecycle:s,u=t.fromCache,c=void 0!==u&&u,r=t.isLayout,s=void 0!==r&&r,u=this._renderer.getViewSize();n?this.isLoading()&&this._renderLoading():this._fit();t=this._watcher,r=t.getScrollPos();s||!a||this.isLoading()||this._infinite.recycle(r,n);a=this._getEdgeValue("end");n&&(this._setContainerSize(a+this._status.loadingSize||0),"number"==typeof r&&0<r&&(Th||this._scrollTo(r))),this.trigger("layoutComplete",{target:i.concat(),isAppend:!!n,isTrusted:o,fromCache:c,isLayout:s,isScroll:u<t.getContainerOffset()+a,scrollPos:r,orgScrollPos:t.getOrgScrollPos(),size:a,endLoading:function(t){e.endLoading(t)}}),this._infinite.scroll(r)},n._firstLayout=function(){var t=this._renderer,e=this._infinite,i=this._itemManager,n=this.options.attributePrefix,r=Hh(t.container.children).filter(function(t){return-1===t.className.indexOf(xh)}),o=0<r.length;if(i.size())o&&i.pluck("items").forEach(function(t,e){t.el=r[e]});else{if(!o)return t.getContainerSize()&&t.setContainerSize(0),this._requestAppend({}),this;var s=""+this._getRandomKey();r.forEach(function(t){var e=t.getAttribute(n+"groupkey");s=e="string"!=typeof e?s:e,i.insert({groupKey:e,el:t})})}t=i.getGroups();return e.setCursor("start",0),e.setCursor("end",t.length-1),this._postLayout({groups:t,hasChildren:o,fromCache:!1,isAppend:!0}),this},n._getRandomKey=function(){for(var t=this._itemManager;;){var e=(new Date).getTime()+Math.floor(1e3*Math.random());if(!t.getGroupByKey(e))return e}},n._reset=function(){this._status={processingStatus:0,loadingSize:0,loadingStyle:{}}},i.VERSION="3.8.1",i}(Hl),hp=vt,pp=et,fp=Et,dp=It,gp=function(){function t(t){this.options=Jh({},Nh,{margin:0,horizontal:!1,align:hp,itemSize:0},t=void 0===t?{}:t),this._size=0,this._columnSize=0,this._columnLength=0,this._style=(t=this.options.horizontal,Zh[t?Ah:wh])}var e=t.prototype;return e.append=function(t,e,i){return this._insert(t,e,!0,i)},e.prepend=function(t,e,i){return this._insert(t,e,!1,i)},e.layout=function(t,e){var i=this;void 0===e&&(e=[]);var n,r=(t=void 0===t?[]:t).length&&t[0].items.length&&t[0].items[0];return this.checkColumn(r),n=e.length!==this._columnLength?(r=0===e.length?0:Math.min.apply(Math,e),tp(new Array(this._columnLength),r)):e.slice(),t.forEach(function(t){var e=t.items,e=i._layout(e,n,!0);t.outlines=e,n=e.end}),this},e.setSize=function(t){return this._size=t,this},e.checkColumn=function(t){var e=this.options,i=e.itemSize,n=e.margin,e=e.horizontal,e=Math.floor(i||t&&t.size[e?"height":"width"]||0)||0;(this._columnSize=e)?this._columnLength=Math.max(Math.floor((this._size+n)/(e+n)),1):this._columnLength=1},e._layout=function(t,e,i){for(var n=t.length,r=this.options.margin,o=this.options.align,s=this._style,a=s.size1,u=s.size2,c=s.startPos1,l=s.startPos2,h=this._columnSize,p=this._columnLength,f=this._size,d=f-(h+r)*p+r,g=i?"min":"max",v=i?"indexOf":"lastIndexOf",s=e.slice(),m=e.slice(),y=0;y<n;++y){var _,E,I=Math[g].apply(Math,m)||0,b=m[v](I),T=t[i?y:n-1-y],P=T.size;P&&(E=P[a],_=P[u],I=(P=i?I:I-r-E)+E+r,E=(h+r)*(b=-1===b?0:b),o===pp?E+=d/2:o===fp?E+=d+h-_:o===dp&&(p<=1?E+=d/2:E=(f-h)/(p-1)*b),T.rect=((_={})[c]=P,_[l]=E,_),m[T.column=b]=i?I:P)}return i||t.sort(function(t,e){var i=t.rect[c],n=t.rect[l],t=e.rect[c],e=e.rect[l];return i-t||n-e}),{start:i?s:m,end:i?m:s}},e._insert=function(t,e,i,n){void 0===t&&(t=[]),void 0===e&&(e=[]);var r=n?t:t.map(function(t){return Jh({},t)}),n=e;return this._columnLength||this.checkColumn(t[0]),e.length!==this._columnLength&&(n=tp(new Array(this._columnLength),e.length&&Math[i?"min":"max"].apply(Math,e)||0)),{items:r,outlines:this._layout(r,n,i)}},t}();function vp(){var i=null!==ap&&ap.apply(this,arguments)||this;return i.itemList=[],i.currentDisplayIndex=0,i.loadImageCount=0,i.itemMargin=null,i.scrollTopPos=0,i.ghostRightValue=244,i.isPlayToggleAnimation=!1,i.focusIndex=-1,i.successLoadImageCount=0,i.isIE=!1,i.totalAllItemCount=0,i.insertIndex=0,i.isRenderList=!0,i.endToggle=wl(function(){Ha(i.elContentsWraper,Aa("transitionEnd"),i.endToggle),i.isPlayToggleAnimation=!1,i.visibility&&!1===i.isInitDrawList?i.renderList():(i.resizeIndex(),i.trigger(Qt),i.trigger(Jt,{isOpen:i.visibility}))},200),i.checkScrollEnd=wl(function(){var t=i.elIndexList.offsetHeight;i.scrollTopPos+t<i.elIndexList.childNodes[1].offsetHeight-10||i.trigger(Zt,{totalLength:i.itemList.length,lastIndex:i.itemList.length-1})},200),i.outScreen=function(t){i.endGhostDrag(t)},i.clickItem=function(t){var e=t.target,e=Number(e.getAttribute("data-index"));Xc(t),i.focusImage(e),i.trigger(Kt,{listIndex:e})},i.isReloadItemHeight=!1,i.startGhostDrag=function(t){Xc(t),i.trigger(te),i.preClientX=t.clientX,i.elMoveGhost.style.opacity="1",i.elMoveGhost.style.zIndex="10",za(i.elBase,"mousemove",i.moveGhostDrag),za(i.elBase,"mouseup",i.endGhostDrag),za(i.elBase,"mouseleave",i.outScreen)},i.moveGhostDrag=function(t){Xc(t);t=t.clientX-i.preClientX,t=i.ghostRightValue+-1*t;241<=t||t<=80||(i.elMoveGhost.style.right=+t+"px")},i.endGhostDrag=function(t){Xc(t);t=Sa(i.elMoveGhost.style.right);i.elMoveGhost.style.opacity="0",i.elMoveGhost.style.zIndex="1",t=Math.min(t,241),t=Math.max(t,80),i.elMoveGhost.style.right=t-3+"px",ka(i.elBase,Vt.V_INDEX_OPEN_ANIMATION,!0),i.elIndexBase.style.width=t+"px",i.elContentsWraper.style.right=t+"px",i.elNavigatorRoot.style.right=t+"px",Ha(i.elBase,"mousemove",i.moveGhostDrag),Ha(i.elBase,"mouseup",i.endGhostDrag),Ha(i.elBase,"mouseleave",i.outScreen),i.isReloadItemHeight=!0,i.ghostRightValue=t,qa(i.elBase,"__dummy",function(){i.resizeIndex(),i.trigger(ee),i.trigger(Qt)})},i.resizeIndexList=Zc(function(){i.resizeIndex()},200),i}Li(vp,ap=xe),vp.prototype.initialize=function(t,e){this.elBase=t,this.elContentsWraper=t.querySelector(Gt.FLICK_WRAPPER),this.elNavigatorRoot=document.querySelector(Gt.NAVI_ROOT),this.elIndexBase=t.querySelector(Gt.V_IMAGE_INDEX),this.elHeader=t.querySelector(Gt.V_INDEX_HEADER),this.elException=t.querySelector(Gt.V_INDEX_EXCEPTION),this.isIE=So().isIE,!1!==this._isActivePlugin(this.elIndexBase,e)?(this.elContentsWraper.style.transform="none",this.elTotalCount=t.querySelector(Gt.V_INDEX_TOTLAL),this.elCurruntCount=t.querySelector(Gt.V_INDEX_CURRENT),this.elIndexList=t.querySelector(Gt.V_INDEX_LIST),this.elMoveGhost=t.querySelector(Gt.V_INDEX_MOVE_GHOST),this.itemTemplate=e.itemTemplate,this.loadingTemplate=e.loadingTemplate,this.totalAllItemCount=e.totalAllItemCount,this.createScroller(),this.deactivate()):Ra(this.elIndexBase)},vp.prototype.defineCustomEvent=function(){var t;this.eventNameMap=((t={})[Wt]=Wt,t[Yt]=Yt,t[Qt]=Qt,t[Jt]=Jt,t[Kt]=Kt,t[te]=te,t[ee]=ee,t[$t]=$t,t[Zt]=Zt,t)},vp.prototype.createScroller=function(){var i=this;this.infinityScroll=new lp(this.elIndexList,{itemSelector:Gt.V_INDEX_ITEM,isOverflowScroll:!0}),this.layout=new gp({align:"center",margin:2}),this.infinityScroll.setLayout(this.layout),this.infinityScroll.on("layoutComplete",function(){i.afterResize()}).on("change",function(t){var e=t.scrollPos,t=t.isForward;i.scrollTopPos=e,t&&i.checkScrollEnd()})},vp.prototype.show=function(t){this.toggle(!0,t),this.trigger(Wt)},vp.prototype.hide=function(t){this.toggle(!1,t),this.infinityScroll.clear(),this.trigger(Yt)},vp.prototype.refresh=function(){this.refreshScroll()},vp.prototype.activate=function(){this.initSideIndex(),this.bindEvent()},vp.prototype.deactivate=function(){this.unbindEvent(),this.rollbackSideIndex(),this.hide(!1),this.focusIndex=-1},vp.prototype.initSideIndex=function(){Na(this.elMoveGhost)},vp.prototype.rollbackSideIndex=function(){Ra(this.elMoveGhost)},vp.prototype.toggle=function(t,e,i){var n;t&&this.freezeLayout||(n=!this.visibility,t=(n=void 0!==t?t:n)?this.ghostRightValue:0,this.focusIndex="number"==typeof i?i:this.currentIndex,this.elContentsWraper.style.right=t+"px",this.elNavigatorRoot.style.right=t+"px",this.isIE&&(t=this.elBase.getBoundingClientRect().top,Ma(this.elIndexBase,{position:"fixed",top:t+"px"})),ka(this.elBase,Vt.V_INDEX_OPEN_ANIMATION,e),ka(this.elBase,Vt.V_INDEX_OPEN,n),za(this.elContentsWraper,Aa("transitionEnd"),this.endToggle),this.visibility=n,!1===(this.isPlayToggleAnimation=e)&&this.visibility&&this.endToggle())},vp.prototype.resizeIndex=function(){this.visibility&&(this.isReloadItemHeight&&(this.refreshIndexItemHeight(),this.isReloadItemHeight=!1),this.refreshScroll())},vp.prototype.forcusSelect=function(){this.scrollTopPos=this.elIndexList.scrollTop,0<=this.focusIndex&&(this.currentIndex=this.focusIndex,this.focusIndex=-1)},vp.prototype.afterResize=function(){var t=this;this.refreshIndexLeft("2px"),this.refreshIndexImageTop("0").then(function(){setTimeout(t.refreshIndexImageTop.bind(t,"50%"),0)});var e=this.elIndexBase.querySelector(Gt.V_INDEX_LOADING);e&&e.parentNode.removeChild(e),setTimeout(function(){t.forcusSelect()},500)},Object.defineProperty(vp.prototype,"isInitDrawList",{get:function(){return 0<this.elIndexList.querySelectorAll(Gt.V_INDEX_ITEM).length},enumerable:!0,configurable:!0}),vp.prototype.setFullScreen=function(t){(t?Na:Ra)(this.elMoveGhost)},vp.prototype.refreshScroll=function(){!1===this.visibility||!1===this.isInitDrawList||this.isPlayToggleAnimation||!1===this.isActiveLayout||0<this.loadImageCount||(this.focusImage(this.currentDisplayIndex),this.infinityScroll.updateItems(),this.infinityScroll.layout(!0))},vp.prototype.refreshIndexItemHeight=function(){var i=this;this.getLoopIndexFn(Gt.V_INDEX_ITEM+" "+Gt.V_INDEX_ITEM_LINK)(function(t){var e=t.querySelector("img");i.setItemHeight(t,e)})},vp.prototype.refreshIndexImageTop=function(i){var e=this;return new fc(function(t){e.getLoopIndexFn(Gt.V_INDEX_ITEM+" img")(function(t){var e;t.parentElement.classList.contains(Xr(e=Gt.V_ITEM_TALL).call(e,1))&&(t.style.top=i)}),t(i)})},vp.prototype.refreshIndexLeft=function(e){this.getLoopIndexFn(""+Gt.V_INDEX_ITEM)(function(t){t.style.left=e})},vp.prototype.getLoopIndexFn=function(t){var i=Ia(this.elIndexList.querySelectorAll(t));return function(e){i.forEach(function(t){e(t)})}},vp.prototype.focusImage=function(t){var e,i=this.elIndexList.querySelector(Gt.V_INDEX_ITEM_INDEX+t);!1===this.isInitDrawList||this.isPlayToggleAnimation||!1===this.isActiveLayout||0<this.loadImageCount||!i||(e=this.elIndexList.querySelector(Gt.V_INDEX_FOCUS),i=i.querySelector(Gt.V_INDEX_ITEM_LINK),ka(e,Vt.V_INDEX_FOCUS,!1),ka(i,Vt.V_INDEX_FOCUS,!0),this.scrollToIndex(t),this.currentDisplayIndex=t,this.updateCounter(),t===this.itemList.length-1&&this.trigger(Zt,{totalLength:this.itemList.length,lastIndex:this.itemList.length-1}))},vp.prototype.isLoading=function(){return 0<this.loadImageCount},vp.prototype.setItemDataList=function(t,e){void 0===t&&(t=0),!1!==this.isActiveLayout&&(this.itemList=e,t>=this.insertIndex?(this.insertIndex=t+1,this.isRenderList=!0):this.isRenderList=!this.isInitDrawList,e&&0!==e.length?this.visibility&&this.isInitDrawList&&this.renderList():this.infinityScroll.clear())},vp.prototype.renderList=function(){try{var t;if(!this.isRenderList)return;var e=this.insertIndex-1<0||!this.isInitDrawList?0:this.insertIndex-1,i=Xr(t=this.itemList).call(t,e,this.itemList.length-1),n=this.getListHtml(e,i),r=this.elIndexList.offsetHeight;this.successLoadImageCount=0,this.loadImageCount=i.length,this.infinityScroll.append(n),this.loadingTemplate&&this.infinityScroll.setLoadingBar({prepend:this.loadingTemplate(r)}),this.updateCounter(),this.thumbImageLoad()}catch(t){this.showExceptionList()}},vp.prototype.showExceptionList=function(){Ra(this.elHeader),Ra(this.elIndexList),Na(this.elException)},vp.prototype.updateCounter=function(){this.elTotalCount.innerHTML=(0<this.totalAllItemCount?this.totalAllItemCount:this.itemList.length).toString(),this.elCurruntCount.innerHTML=this.currentIndex.toString()},Object.defineProperty(vp.prototype,"currentIndex",{get:function(){return this.currentDisplayIndex+1},set:function(t){this.visibility&&this.focusImage(t),this.currentDisplayIndex=t,this.updateCounter()},enumerable:!0,configurable:!0}),vp.prototype.scrollToIndex=function(t){this.infinityScroll.getItem(0,t);var e=document.getElementById("side_vr_list_"+t),i=Sa(e.parentElement.style.top),n=this.elIndexList.offsetHeight,r=this.scrollTopPos+n,o=i,t=e.offsetHeight,i=o-n+e.offsetHeight+100,e=o-100;o>this.scrollTopPos&&o<r?o+t>this.elIndexList.scrollTop+n&&(this.elIndexList.scrollTop=o-n+t+100):o<this.scrollTopPos?this.elIndexList.scrollTop=e:r<o&&(this.elIndexList.scrollTop=i)},vp.prototype.countLoadImage=function(t){t&&this.successLoadImageCount++,this.loadImageCount--,0===this.loadImageCount&&(0!==this.successLoadImageCount?(this.isReloadItemHeight=!0,this.refreshScroll(),this.trigger(Qt)):this.showExceptionList())},vp.prototype.getListHtml=function(t,e){var i=this,n=t,r=[];return e.forEach(function(t){t={thumbUrl:Cc(t.vIndexThumbUrl),title:t.caption,index:n,imgType:t.imgType};r.push(i.itemTemplate(t)),n++}),r},vp.prototype.thumbImageLoad=function(){var e=this;this.elIndexList.querySelectorAll("img:not("+Gt.THUMB_IMG_LOAD_COMPLTE+")").forEach(function(t){wc(t).then(function(){e.imgLoadSuccessHandler(t)}).catch(function(){wc(t).then(function(){e.imgLoadSuccessHandler(t)}).catch(function(){e.imgLoadFailHandler(t)})})})},vp.prototype.imgLoadSuccessHandler=function(t){var e=t.getAttribute("data-index"),i=this.elIndexList.querySelector(Gt.V_INDEX_ITEM_INDEX+e),n=i.querySelector(Gt.V_INDEX_ITEM_SIZE),r=i.querySelector(Gt.V_INDEX_ITEM_LINK),o=i.querySelector(Gt.V_INDEX_LOAD_ITEM),e=vp.getThumbnailClass(t);Na(n),ka(t,Vt.THUMB_IMG_LOAD_COMPLTE,!0),ka(o,Vt.V_ITEM_LOADING,!1),null!==e&&ka(n,e,!0),this.computedItemContentsMargin(i),this.setItemHeight(r,t),this.countLoadImage(!0)},vp.prototype.computedItemContentsMargin=function(t){null===this.itemMargin&&(t=window.getComputedStyle(t),this.itemMargin=0,this.itemMargin+=Sa(t.marginTop),this.itemMargin+=Sa(t.marginBottom),this.itemMargin+=Sa(t.paddingTop),this.itemMargin+=Sa(t.paddingBottom))},vp.getThumbnailClass=function(t){var e,i=t.naturalWidth,n=t.naturalHeight,t=null;return n<i?(e=Math.floor(n/9),16<=Math.floor(i/e)&&(t=Vt.V_ITEM_WIDE)):i<n&&(e=Math.floor(n/4),4<=Math.floor(n/e)&&(t=Vt.V_ITEM_TALL)),t},vp.prototype.setItemHeight=function(t,e){var i=this.ghostRightValue-3,n=e.naturalWidth,r=e.naturalHeight,e=n/i;e<=1||((i=(n=i/2)*3)<(e=r/e)?e=i:e<n&&(e=n),e-=this.itemMargin,t.style.height=e+"px")},vp.prototype.imgLoadFailHandler=function(t){var e=t.getAttribute("data-index"),i=this.elIndexList.querySelector(Gt.V_INDEX_ITEM_INDEX+e),e=i.querySelector(Gt.V_INDEX_LOAD_ITEM),i=i.querySelector(Gt.V_INDEX_FAIL_ITEM);ka(t,Vt.THUMB_IMG_LOAD_COMPLTE,!0),Ra(e),Na(i),this.countLoadImage(!1)},vp.prototype.bindEvent=function(){Wa(this.elIndexList,"click",""+Gt.V_INDEX_ITEM_LINK,this.clickItem),za(this.elIndexBase,"click",Xc),za(this.elMoveGhost,"click",Xc),za(this.elMoveGhost,"mousedown",this.startGhostDrag)},vp.prototype.unbindEvent=function(){Ha(this.elIndexList,"click",this.clickItem),Ha(this.elIndexBase,"click",Xc),Ha(this.elMoveGhost,"click",Xc),Ha(this.elMoveGhost,"mousedown",this.startGhostDrag)},Ri([Al],vp.prototype,"show",null),Ri([Al],vp.prototype,"hide",null),Ri([Al],vp.prototype,"refresh",null),Ri([Al],vp.prototype,"rollbackSideIndex",null),Ri([Al],vp.prototype,"toggle",null),Ri([Al,z(!1)],vp.prototype,"focusImage",null),Ri([Al,z(!1)],vp.prototype,"isLoading",null),Ri([Al],vp.prototype,"updateCounter",null),Ri([Al],vp.prototype,"scrollToIndex",null),Ri([Cl],vp.prototype,"bindEvent",null),Ri([Dl],vp.prototype,"unbindEvent",null);var mp,yp=(Li(_p,mp=xe),_p.prototype.initialize=function(t,e){this.layoutId=Mt.GHOST_IMAGE,this.classNames=Pa({default:Vt.GHOST_IMAGE,buildIn:Vt.BUILD_IN,buildOut:Vt.BUILD_OUT},e?e.classNameOptions:{});var i=document.createElement("img"),n=e.elParent;i.className=this.classNames.default,this.element=i,n.appendChild(i),this._options=e},_p.prototype.defineCustomEvent=function(){this.publishEventMap=null},_p.prototype.getElement=function(){return this.element},_p.prototype.flip=function(t,e,i){var n=this;void 0===i&&(i=function(){});var r=this.element,o=this.elementRect,s=e.className,a=o.left-t.left,u=o.top-t.top,e=o.width/t.width,o=o.height/t.height,c=So().useCss3d?{transform:"translate3d("+a+"px, "+u+"px, 0px) scale3d("+e+", "+o+", 1)",display:"block"}:{transform:"translateX("+a+"px) translateY("+u+"px) scaleX("+e+") scaleY("+o+")",willChange:"transform",display:"block"},l=this.flipAnimation.bind(this,r,s,i);requestAnimationFrame(function(){r.className=n.classNames.default,Ua(r,t,c),requestAnimationFrame(l)})},_p.prototype.flipAnimation=function(t,e,i){var n=this,r=Aa("transitionEnd");t.classList.add(e),Ma(t,{transform:""}),r&&(this.translateHandler=ja(t,r,function(){t.classList.remove(e),i(),setTimeout(n.hide,100)}))},_p.prototype.prepare=function(t,e,i){(i=void 0===i?!1:i)&&Ua(this.element,t,{display:"block"});i=this.element;this.elementRect=t,e&&(i.setAttribute("data-src",e),wc(i))},_p.prototype.show=function(t,e){this.flip(t,{className:this.classNames.buildIn},e)},_p.prototype.buildOut=function(t,e,i){void 0===i&&(i={className:this.classNames.buildOut}),this.flip(t,i,e)},_p.prototype.destroy=function(){this.unBindEvent(),this.element&&this.element.parentNode.removeChild(this.element)},_p);function _p(){var e=null!==mp&&mp.apply(this,arguments)||this;return e.hide=function(){var t=Aa("transitionEnd");Ma(e.element,{visibility:"none",left:"-10000px",top:"-10000px"}),e.element.removeAttribute("src"),Ha(e.element,t,e.translateHandler)},e}var Ep,Ip=(Li(bp,Ep=xe),bp.prototype.initialize=function(t,e){void 0===e&&(e={}),this.el=t.querySelector(Gt.CAPTION),!1!==this._isActivePlugin(this.el,e)?(this.elLink=t.querySelector(Gt.CAPTION_LINK),this.layoutId=Mt.CAPTION,this.visibility=!0,this.activate()):this.hide()},bp.prototype.defineCustomEvent=function(){this.eventNameMap={}},bp.prototype.refresh=function(t){if(!t||!t.caption||!this.isActiveLayout)return this._isCaptionEmpty=!0,void this.hide();var e=t.caption,i=Gt.CAPTION_DESC,n=Gt.CAPTION_SVCNAME,t=Gt.CAPTION_TITLE;e&&(this.setText(i,xa(e,"desc")),this.setText(n,xa(e,"svcName")),this.setText(t,xa(e,"title")),t=xa(e,"link"),this.elLink&&this.elLink.setAttribute("href",t||"javascript:void(0);"),this._isCaptionEmpty=!e.desc&&!e.svcName&&!e.title,this._isCaptionEmpty&&this.hide(),this.toggleCaptionDesc(xa(e,"desc")))},bp.prototype.setText=function(t,e){t=this.el.querySelector(t);t&&(t.innerHTML=(e=void 0===(e=e||"")?"":e).replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;"))},bp.prototype.toggleCaptionDesc=function(t){var e=this.el.querySelector(Gt.CAPTION_DESC),i=document.querySelector(".civ__HiddenCaption");i&&(i.innerHTML=t,i=i.clientHeight,Ea(e.style.height,10)!==i&&0<i?e.style.height=i+"px":""!==t&&(!i||i<=0)&&(e.style.height="26px"))},Object.defineProperty(bp.prototype,"isCaptionEmpty",{get:function(){return this._isCaptionEmpty},enumerable:!0,configurable:!0}),bp.prototype.show=function(){this._isCaptionEmpty||(this.isVlisible=!0,Na(this.el),ka(this.el,Vt.HIDE,!1),this.updateBg(this.el.parentElement))},bp.prototype.hide=function(){this.isVlisible=!1,ka(this.el,Vt.HIDE,!0),Ra(this.el)},bp.prototype.updateBg=function(t){var e=t.getAttribute("data-bg");e&&(Ma(t,{backgroundColor:e}),t.removeAttribute("data-bg"))},bp.prototype.resize=function(){var t=this.el.querySelector(Gt.CAPTION_DESC);this.toggleCaptionDesc(t.innerText)},bp.prototype.getHeight=function(){return this.el.offsetHeight},bp.prototype.isVisiblity=function(){return this.isVlisible},Ri([Al],bp.prototype,"refresh",null),Ri([Al],bp.prototype,"show",null),Ri([Al],bp.prototype,"hide",null),Ri([Al],bp.prototype,"updateBg",null),Ri([Al],bp.prototype,"resize",null),bp);function bp(){var t=null!==Ep&&Ep.apply(this,arguments)||this;return t.isVlisible=!0,t._isCaptionEmpty=!0,t}var Tp,et=(Li(Pp,Tp=xe),Pp.prototype.activate=function(){this.bindEvent(),Ma(this.el,{opacity:"1",pointerEvents:""}),!1===this.visibility&&this.show&&this.show()},Pp.prototype.deactivate=function(){this.unbindEvent(),Ma(this.el,{opacity:"0.2",pointerEvents:"none"}),!0===this.visibility&&this.hide&&this.hide()},Pp);function Pp(){return null!==Tp&&Tp.apply(this,arguments)||this}var Sp,xp=(Li(Op,Sp=et),Op.prototype.initialize=function(t){t=t.querySelector(Gt.CLOSE_BUTTON);this.el=t,this.visibility=!0,this.bindEvent()},Op.prototype.defineCustomEvent=function(){var t;this.eventNameMap=((t={})[Rt.CLOSE]=Rt.CLOSE,t)},Op.prototype.bindEvent=function(){za(this.el,"click",this.onClick)},Op.prototype.unbindEvent=function(){Ha(this.el,"click",this.onClick)},Ri([Cl],Op.prototype,"bindEvent",null),Ri([Dl],Op.prototype,"unbindEvent",null),Op);function Op(){var e=null!==Sp&&Sp.apply(this,arguments)||this;return e.onClick=function(t){Xc(t),e.trigger(Rt.CLOSE)},e}var wp,Ap=(Li(Cp,wp=et),Cp.prototype.initialize=function(t){var e=this._options,i=t.querySelector(Gt.SHARE_BTN_AREA),n=i.querySelector(Gt.SHARE_BUTTON),t=e.render?e.render():null;i&&("string"==typeof t&&(i.innerHTML=t,t=i.firstChild),t&&"object"===pa(t)&&t.tagName?i.appendChild(t):n&&(Na(n),t=n),e.initialize(t),this.el=t,this.activate())},Cp.prototype.defineCustomEvent=function(){this.eventNameMap={}},Cp.prototype.bindEvent=function(){za(this.el,"click",this.onClick)},Cp.prototype.unbindEvent=function(){Ha(this.el,"click",this.onClick)},Cp.prototype.show=function(){Na(this.el)},Cp.prototype.hide=function(){this._options.onClose&&this._options.onClose(this.el)},Cp.prototype.activate=function(){this.bindEvent(),this.show()},Cp.prototype.deactivate=function(){this.unbindEvent(),this.hide()},Ri([Cl],Cp.prototype,"bindEvent",null),Ri([Dl],Cp.prototype,"unbindEvent",null),Cp);function Cp(t){var e=wp.call(this)||this;return e._options=null,e.onClick=function(t){Xc(t),e._options.onClick&&e._options.onClick(t)},e._options=t,e.layoutId=Mt.SHARE_BTN,e}var Dp,Lp=(Li(Np,Dp=et),Np.prototype.initialize=function(t,e){void 0===e&&(e={});t=t.querySelector(Gt.H_INDEX_INDICATOR)||t.querySelector(Gt.INDEX_INDICATOR);this.el=t,!1!==this._isActivePlugin(this.el,e)?(e.totalAllItemCount&&(this.totalAllItemCount=e.totalAllItemCount),e=e.useIndex,this.currentNumEL=t.querySelector(Gt.INDEX_INDICATOR_CURRENT),this.totalNumEL=t.querySelector(Gt.INDEX_INDICATOR_TOTAL),this.visibility=!0,this.activate(),"boolean"==typeof e&&!1===e&&ka(t.querySelector(Gt.INDEX_ARROW_ICON),Vt.INDEX_ARROW_ICON_HIDDEN,!0)):Ra(this.el)},Np.prototype.defineCustomEvent=function(){this.eventNameMap=ie},Np.prototype.refresh=function(t){var e;null!==t&&(e=t.index,this.currentIndex=e,this.renderIndex(t))},Np.prototype.renderIndex=function(t){var e=t.index,t=t.total;1!==t?(t=0<this.totalAllItemCount?this.totalAllItemCount:t,this.currentNumEL.innerHTML=Number(e).toString(),this.totalNumEL.innerHTML=Number(t).toString()):Ra(this.el)},Np.prototype.toggle=function(t){var e=document.querySelector(Gt.INDEX_HEADER_BTN);e&&ka(e,"civ__open",!t)},Np.prototype.bindEvent=function(){za(this.el,"click",this.onClick)},Np.prototype.unbindEvent=function(){Ha(this.el,"click",this.onClick)},Np.prototype.activate=function(){this.bindEvent()},Np.prototype.deactivate=function(){this.unbindEvent()},Ri([Al],Np.prototype,"refresh",null),Ri([Al],Np.prototype,"toggle",null),Ri([Cl],Np.prototype,"bindEvent",null),Ri([Dl],Np.prototype,"unbindEvent",null),Np);function Np(){var e=null!==Dp&&Dp.apply(this,arguments)||this;return e.currentIndex=0,e.totalAllItemCount=0,e.onClick=function(t){Xc(t),e.trigger(ie.TOGGLE)},e}var Rp,Mp,kp=(Li(Vp,Rp=xe),Vp.prototype.initialize=function(t,e){var i=t.querySelector(Gt.LINK);return this.el=i,!1===this._isActivePlugin(this.el,e)&&Ra(this.el),this.linkTemplate=xa(e,"template"),this.visibility=!1,this.elWrapper=t.querySelector(Gt.LINK_WRAP),this.displayEl=this.linkTemplate?i:this.elWrapper,this.activate(),i},Vp.prototype.defineCustomEvent=function(){this.eventNameMap={}},Vp.prototype.activate=function(){this.bindEvent()},Vp.prototype.deactivate=function(){this.unBindEvent()},Vp.prototype.bindEvent=function(){za(this.el,"click",this.moveLink)},Vp.prototype.unBindEvent=function(){Ha(this.el,"click",this.moveLink)},Vp.prototype.refresh=function(t){var e=xa(t,"link"),i=function(t){if(!t)return{};var e=t.match(/^(?:https?:)?(?:\/\/)?([^\/\?]+)/);return e?{href:t,host:e[1]}:{href:t,host:t}}(e).host,t=this.el;(this._linkData=e)&&""!==e?(t.setAttribute("href",e),t.innerHTML=this.linkTemplate?this.linkTemplate(i):(t=i,'<span class="'+(i=Vt.LINK_TEXT)+'">\n    <span class="'+i+'">'+(t=void 0===t?"":t)+'</span>\n    <i class="'+Vt.ICON+'"></i>\n  </span>')):this.hide()},Vp.prototype.show=function(){this._linkData&&""!==this._linkData&&(ka(this.displayEl,Vt.HIDDEN,!1),this.visibility=!0)},Vp.prototype.hide=function(){ka(this.displayEl,Vt.HIDDEN,!0),this.visibility=!1},Ri([Al],Vp.prototype,"activate",null),Ri([Cl],Vp.prototype,"bindEvent",null),Ri([Dl],Vp.prototype,"unBindEvent",null),Ri([Al],Vp.prototype,"refresh",null),Ri([Al],Vp.prototype,"show",null),Ri([Al],Vp.prototype,"hide",null),Vp);function Vp(){var i=null!==Rp&&Rp.apply(this,arguments)||this;return i._linkData=null,i.moveLink=function(t){var e=i.el.getAttribute("href");Xc(t),window.open(e)},i}(Et=Mp=Mp||{})[Et.TOP=Gt.CUSTOM_LAYOUT_POSITION_TOP]="TOP",Et[Et.LEFT=Gt.CUSTOM_LAYOUT_POSITION_LEFT]="LEFT",Et[Et.RIGHT=Gt.CUSTOM_LAYOUT_POSITION_RIGHT]="RIGHT",Et[Et.BOTTOM=Gt.CUSTOM_LAYOUT_POSITION_BOTTOM]="BOTTOM",Et[Et.BUTTONS=Gt.CUSTOM_LAYOUT_POSITION_BUTTONS]="BUTTONS";var zp,Hp=(Li(jp,zp=xe),jp.prototype.initialize=function(t){var e=this._options,i=e.position,n=e.position?t.querySelector(i):null,n=null!==n?n:t,t=e.initialize.bind(this);this.layoutId=e.id,this.clickFunction=e.onClick.bind(this),this.el=t(n),this.parentElement=n,this.selector=i,this.activate(),this.visibility=!0},jp.prototype.defineCustomEvent=function(){this.eventNameMap=this._options.customEvents},jp.prototype.bindEvent=function(){za(this.el,"click",this.onClickHandler)},jp.prototype.unbindEvent=function(){Ha(this.el,"click",this.onClickHandler)},jp.prototype.listenViewerEvent=function(t){var e=t.eventName,i=t.eventData,t=this._options.onListenViewerEvent;t&&t(e,i)},jp.prototype.show=function(){var t=this.selector,e=this.parentElement,i=this.el;Na(i),this.visibility=!0,t===Mp.BOTTOM||t===Mp.TOP?e.style.height=i.offsetHeight+"px":t!==Mp.RIGHT&&t!==Mp.LEFT||(e.style.width=i.offsetWidth+"px")},jp.prototype.hide=function(){Ra(this.el),this.visibility=!1},jp.prototype.toggle=function(){La(this.el,this.visibility)},jp.prototype.refresh=function(t){var e=t.data,i=t.index,t=this._options.onDataUpdate;this.itemData=e,this.index=i,t&&t(e,i)},jp.prototype.activate=function(){this.show(),this.bindEvent()},jp.prototype.deactivate=function(){this.unbindEvent(),this.hide()},Ri([Cl],jp.prototype,"bindEvent",null),Ri([Dl],jp.prototype,"unbindEvent",null),jp);function jp(t){var e=zp.call(this)||this;return e.onClickHandler=function(t){e.clickFunction(t,e.index,e.itemData)},e._options=t,e}var Gp,Bp=i(function(t,e){function i(t,e){var i=l.bind(this.start,this),n=l.bind(this.drag,this),r=l.bind(this.stop,this);if(!u(t))throw new TypeError("Draggable expects argument 0 to be an Element");e=l.assign({},s,e),l.assign(this,{element:t,handle:e.handle&&u(e.handle)?e.handle:t,handlers:{start:{mousedown:i,touchstart:i},move:{mousemove:n,mouseup:r,touchmove:n,touchend:r}},options:e}),this.initialize()}function n(t){return parseInt(t,10)}function o(t){return"currentStyle"in t?t.currentStyle:getComputedStyle(t)}function a(t){return null!=t}function u(t){return t instanceof Element||"undefined"!=typeof HTMLDocument&&t instanceof HTMLDocument}function r(){}var s,c,l;t.exports=(s={grid:0,filterTarget:null,limit:{x:null,y:null},threshold:0,setCursor:!1,setPosition:!0,smoothDrag:!0,useGPU:!0,onDrag:r,onDragStart:r,onDragEnd:r},c={transform:function(){for(var t=" -o- -ms- -moz- -webkit-".split(" "),e=document.body.style,i=t.length;i--;){var n=t[i]+"transform";if(n in e)return n}}()},(l={assign:function(){for(var t=arguments,e=arguments[0],i=arguments.length,n=1;n<i;n++){var r,o=t[n];for(r in o)e[r]=o[r]}return e},bind:function(t,e){return function(){t.apply(e,arguments)}},on:function(t,e,i){if(e&&i)l.addEvent(t,e,i);else if(e)for(var n in e)l.addEvent(t,n,e[n])},off:function(t,e,i){if(e&&i)l.removeEvent(t,e,i);else if(e)for(var n in e)l.removeEvent(t,n,e[n])},limit:function(t,e){return e instanceof Array?t<(e=[+e[0],+e[1]])[0]?t=e[0]:t>e[1]&&(t=e[1]):t=+e,t},addEvent:"attachEvent"in Element.prototype?function(t,e,i){t.attachEvent("on"+e,i)}:function(t,e,i){t.addEventListener(e,i,!1)},removeEvent:"attachEvent"in Element.prototype?function(t,e,i){t.detachEvent("on"+e,i)}:function(t,e,i){t.removeEventListener(e,i)}}).assign(i.prototype,{setOption:function(t,e){return this.options[t]=e,this.initialize(),this},get:function(){var t=this.dragEvent;return{x:t.x,y:t.y}},set:function(t,e){var i=this.dragEvent;return i.original={x:i.x,y:i.y},this.move(t,e),this},dragEvent:{started:!1,x:0,y:0},initialize:function(){var t=this.element,e=(this.handle,t.style),i=o(t),n=this.options,r=c.transform,t=this._dimensions={height:t.offsetHeight,left:t.offsetLeft,top:t.offsetTop,width:t.offsetWidth};n.useGPU&&r&&("none"===(i=i[r])&&(i=""),e[r]=i+" translate3d(0,0,0)"),n.setPosition&&(e.display="block",e.left=t.left+"px",e.top=t.top+"px",e.width=t.width+"px",e.height=t.height+"px",e.bottom=e.right="auto",e.margin=0,e.position="absolute"),n.setCursor&&(e.cursor="move"),this.setLimit(n.limit),l.assign(this.dragEvent,{x:t.left,y:t.top}),l.on(this.handle,this.handlers.start)},start:function(t){var e=this.getCursor(t),i=this.element;this.useTarget(t.target||t.srcElement)&&(t.preventDefault&&!t.target.getAttribute("contenteditable")?t.preventDefault():t.target.getAttribute("contenteditable")||(t.returnValue=!1),this.dragEvent.oldZindex=i.style.zIndex,i.style.zIndex=1e4,this.setCursor(e),this.setPosition(),this.setZoom(),l.on(document,this.handlers.move))},drag:function(t){var e=this.dragEvent,i=this.element,n=this._cursor,r=this._dimensions,o=this.options,s=r.zoom,a=this.getCursor(t),u=o.threshold,c=(a.x-n.x)/s+r.left,r=(a.y-n.y)/s+r.top;!e.started&&u&&Math.abs(n.x-a.x)<u&&Math.abs(n.y-a.y)<u||(e.original||(e.original={x:c,y:r}),e.started||(o.onDragStart(i,c,r,t),e.started=!0),this.move(c,r)&&o.onDrag(i,e.x,e.y,t))},move:function(t,e){var i=this.dragEvent,n=this.options,r=n.grid,o=this.element.style,e=this.limit(t,e,i.original.x,i.original.y);return((e=!n.smoothDrag&&r?this.round(e,r):e).x!==i.x||e.y!==i.y)&&(i.x=e.x,i.y=e.y,o.left=e.x+"px",o.top=e.y+"px",!0)},stop:function(t){var e=this.dragEvent,i=this.element,n=this.options,r=n.grid;l.off(document,this.handlers.move),i.style.zIndex=e.oldZindex,n.smoothDrag&&r&&(r=this.round({x:e.x,y:e.y},r),this.move(r.x,r.y),l.assign(this.dragEvent,r)),this.dragEvent.started&&n.onDragEnd(i,e.x,e.y,t),this.reset()},reset:function(){this.dragEvent.started=!1},round:function(t){var e=this.options.grid;return{x:e*Math.round(t.x/e),y:e*Math.round(t.y/e)}},getCursor:function(t){return{x:(t.targetTouches?t.targetTouches[0]:t).clientX,y:(t.targetTouches?t.targetTouches[0]:t).clientY}},setCursor:function(t){this._cursor=t},setLimit:function(i){function t(t,e){return{x:t,y:e}}var e,n,r,o,s;i instanceof Function?this.limit=i:u(i)?(e=this._dimensions,n=i.scrollHeight-e.height,r=i.scrollWidth-e.width,this.limit=function(t,e){return{x:l.limit(t,[0,r]),y:l.limit(e,[0,n])}}):i?(o=a(i.x),s=a(i.y),this.limit=o||s?function(t,e){return{x:o?l.limit(t,i.x):t,y:s?l.limit(e,i.y):e}}:t):this.limit=t},setPosition:function(){var t=this.element,e=t.style;l.assign(this._dimensions,{left:n(e.left)||t.offsetLeft,top:n(e.top)||t.offsetTop})},setZoom:function(){for(var t=this.element,e=1;t=t.offsetParent;){var i=o(t).zoom;if(i&&"normal"!==i){e=i;break}}this._dimensions.zoom=e},useTarget:function(t){var e=this.options.filterTarget;return!(e instanceof Function)||e(t)},destroy:function(){l.off(this.handle,this.handlers.start),l.off(document,this.handlers.move)}}),i)}),Fp=(Li(Up,Gp=xe),Up.prototype.initialize=function(t,e){var r=this;void 0===e&&(e={});t=t.querySelector(Gt.VIDEO_TOOLBAR);return this.el=t,this.layoutId=Mt.VIDEO_TOOLBAR,!1===this._isActivePlugin(this.el,e)&&Ra(this.el),this.playButton=t.querySelector(Gt.VIDEO_TOOLBAR_PLAY_BUTTON),this.pauseButton=t.querySelector(Gt.VIDEO_TOOLBAR_PAUSE_BUTTON),this.soundMuteOnButton=t.querySelector(Gt.VIDEO_TOOLBAR_SOUND_MUTE_ON_BUTTON),this.soundMuteOffButton=t.querySelector(Gt.VIDEO_TOOLBAR_SOUND_MUTE_OFF_BUTTON),this.currentTimeText=t.querySelector(Gt.VIDEO_TOOLBAR_CURRENT_TIME),this.durationTimeText=t.querySelector(Gt.VIDEO_TOOLBAR_DURATION_TIME),this.progressBar=t.querySelector(Gt.VIDEO_TOOLBAR_PROGRESS_BAR),this.loadBar=t.querySelector(Gt.VIDEO_TOOLBAR_LOAD_BAR),this.progressPointBtn=t.querySelector(Gt.VIDEO_TOOLBAR_PROGRESS_BTN),this.progressContainer=t.querySelector(Gt.VIDEO_TOOLBAR_PROGRESS_CONTAINER),this.visibility=!1,this.activate(),Ya(this.el),Ya(this.progressBar),Ya(this.progressContainer),this.pointDraggable=new Bp(this.progressPointBtn,{setCursor:!0,onDragStart:function(){r.seekMove=!0},onDrag:function(t,e,i,n){n=(n.targetTouches?n.targetTouches[0]:n).clientX-r.barLeft;r.seekMove=!0,r.checkPointerLimit(n)},onDragEnd:function(){r.seekingMove(),r.seekMove=!1}}),t},Up.prototype.defineCustomEvent=function(){var t;this.eventNameMap=((t={})[_e]=_e,t[Ee]=Ee,t[Te]=Te,t[Ie]=Ie,t[be]=be,t)},Up.prototype.activate=function(){this.bindEvent()},Up.prototype.deactivate=function(){this.unBindEvent()},Up.prototype.bindEvent=function(){this.toggleEvent(!0)},Up.prototype.unBindEvent=function(){this.toggleEvent(!1)},Up.prototype.setElmentSize=function(){var t=this.progressBar.getBoundingClientRect();this.barWidth=this.progressBar.offsetWidth,this.barLeft=t.left,this.pointDraggable.setOption("limit",null)},Up.prototype.toggleEvent=function(t){var e=this,i=e.playButton,n=e.pauseButton,r=e.soundMuteOnButton,o=e.soundMuteOffButton,s=e.progressPointBtn,a=e.progressContainer,u=e.onPlay,c=e.onPause,l=e.onSoundMuteOn,h=e.onSoundMuteOff,p=e.onProgressButton,e=e.onClickContainer,t=t?za:Ha;t(i,"click",u),t(n,"click",c),t(r,"click",l),t(o,"click",h),t(s,"click",p),t(a,"click",e)},Up.prototype.refresh=function(t){var e=t.showToolbar,i=t.playing,n=t.currentTime,r=t.durationTime,o=t.bufferedEndTime,s=t.muted,a=this.playButton,u=this.pauseButton,c=this.soundMuteOnButton,t=this.soundMuteOffButton;!0===e&&this.show(),this.currentTime=n,this.renderButtons([a,u],i),this.renderButtons([c,t],s),this.renderDuratonTime(r),this.renderBufferEndBar(o),this.renderCurrentTime(n),this.renderSeekBar(),this.moveSeekPoint()},Up.prototype.renderButtons=function(t,e){var i,n;"boolean"==typeof e&&(i=t[0],n=t[1],t=e?Na:Ra,(e?Ra:Na)(i),t(n))},Up.prototype.renderCurrentTime=function(t){"number"==typeof t&&this.currentTimeText&&(t=this.durationTime-t,isNaN(t)||(this.currentTimeText.innerHTML=this.convertTime(t=0<t?t:0)))},Up.prototype.renderBufferEndBar=function(t){var e;"number"==typeof t&&this.loadBar&&!isNaN(t)&&(e=this.durationTime,Ma(this.loadBar,{transform:"scaleX("+t/e+")"}))},Up.prototype.renderSeekBar=function(){var t=this.currentTime,e=this.durationTime;"number"==typeof t&&"number"==typeof e&&Ma(this.progressBar,{transform:"scaleX("+t/e+")"})},Object.defineProperty(Up.prototype,"seekMove",{get:function(){return this.seekMode},set:function(t){this.seekMode=t},enumerable:!0,configurable:!0}),Up.prototype.moveSeekPoint=function(){var t,e;!this.seekMove&&this.progressPointBtn&&"number"==typeof this.currentTime&&"number"==typeof this.durationTime&&(t=this.currentTime,e=this.durationTime,e=this.barWidth*((void 0===t?0:t)/e),this.moveSeekPosition=e,Ma(this.progressPointBtn,{left:e+"px"}))},Up.prototype.seekingMove=function(t){var e=t||this.progressPointBtn.offsetLeft,i=this.durationTime*(e/this.barWidth);(this.moveSeekPosition=t)&&Ma(this.progressPointBtn,{left:e+"px"}),this.trigger(Te,{seekTime:i})},Up.prototype.checkPointerLimit=function(t){t<0?t=0:t>this.barWidth&&(t=this.barWidth),Ma(this.progressPointBtn,{left:t+"px",top:"0px"})},Up.prototype.renderDuratonTime=function(t){"number"==typeof t&&this.durationTimeText&&!isNaN(t)&&(this.durationTime=t,this.durationTimeText.innerHTML=this.convertTime(t))},Up.prototype.resize=function(){this.setElmentSize(),this.moveSeekPoint()},Up.prototype.show=function(){Na(this.el),this.visibility=!0,this.setElmentSize(),this.trigger(me)},Up.prototype.hide=function(){Ra(this.el),this.visibility=!1,this.trigger(ye)},Up.prototype.convertTime=function(t){void 0===t&&(t=0);var e=[],i=Math.floor(t/3600),n=Math.floor(t/60)%60,t=Math.floor(t%60);return 0<i&&e.push(i),e.push(n),e.push(t),er(e).call(e,function(t){return t<10?"0"+t:t}).join(":")},Up.prototype.setBottomPosition=function(t){Ma(this.el,{bottom:t+"px"})},Ri([Al],Up.prototype,"activate",null),Ri([Cl],Up.prototype,"bindEvent",null),Ri([Dl],Up.prototype,"unBindEvent",null),Ri([Al],Up.prototype,"refresh",null),Ri([Al],Up.prototype,"resize",null),Ri([Al],Up.prototype,"show",null),Ri([Al],Up.prototype,"hide",null),Ri([Al],Up.prototype,"setBottomPosition",null),Up);function Up(){var e=null!==Gp&&Gp.apply(this,arguments)||this;return e.seekMode=!1,e.onPlay=function(t){Xc(t),e.trigger(_e)},e.onPause=function(t){Xc(t),e.trigger(Ee)},e.onSoundMuteOn=function(t){Xc(t),e.trigger(Ie)},e.onSoundMuteOff=function(t){Xc(t),e.trigger(be)},e.onProgressButton=function(t){Xc(t)},e.onClickContainer=function(t){Xc(t);t=t.clientX-e.barLeft;e.seekingMove(t)},e}var Xp,It=(Li(qp,Xp=Hi),qp);function qp(){return null!==Xp&&Xp.apply(this,arguments)||this}var Wp=(Yp.prototype.forward=function(t){this.isForward=!0,So().isUnbackableBrowser?(this.prevLocation=location.href,window.history.replaceState(null,null,t)):window.history.pushState(null,null,t)},Yp.prototype.back=function(){!1!==this.isForward&&(So().isUnbackableBrowser?window.history.replaceState(null,null,this.prevLocation):window.history.back())},Yp.prototype.replace=function(t){window.history.replaceState(null,null,t)},Yp);function Yp(){this.isForward=!1}var Kp,$p={scrollY:0,centerY:0,width:0,height:0,isPlaying:!1,elRootOverflow:null,fullScreen:!1,open:!1,resizeTimer:null,currentItemType:null,videoPlayed:!1},Zp=null,Jp={set scrollY(t){$p.scrollY=t},get scrollY(){return $p.scrollY},set centerY(t){$p.centerY=t},get centerY(){return $p.centerY},set width(t){$p.width=t},get width(){return $p.width},set height(t){$p.height=t},get height(){return $p.height},set isPlaying(t){$p.isPlaying=t},get isPlaying(){return $p.isPlaying},set elRootOverflow(t){$p.elRootOverflow=t},get elRootOverflow(){return $p.elRootOverflow},set fullScreen(t){$p.fullScreen=t},get fullScreen(){return $p.fullScreen},set open(t){$p.open=t},get open(){return $p.open},set resizeTimer(t){$p.resizeTimer=t},get resizeTimer(){return $p.resizeTimer},set currentItemType(t){$p.currentItemType=t},get currentItemType(){return $p.currentItemType},set videoPlayed(t){$p.videoPlayed=t},get videoPlayed(){return $p.videoPlayed}},Qp=function(){return Jp},tf=function(t){Zp=t},ef=function(){return Zp},z=(Li(nf,Kp=Hi),nf.prototype.initalize=function(){var t=new Wp,e=new xc(this._options.itemData,{vodServiceId:xa(this._options,"videoPlayerSettings.vodServiceId"),loadImageTimeout:this._options.loadImageTimeout});this.itemModelData=e,tf(e),this.historyManager=t},nf.prototype.open=function(t,e){void 0===e&&(e=!0),this.isNotSupportBrowser?this.unsupportViewer.open():Qp().isPlaying||(t="number"==typeof t?t:this.itemModelData.getIndexByUrl(t.src),this._options.urlCallback&&e&&this.historyManager.forward(this._options.urlCallback(String(t))),this.viewer.open(t))},nf.prototype.close=function(t){this.isNotSupportBrowser&&this.unsupportViewer.close(),this.viewer.close(t)},nf.prototype.getCurrent=function(){return this.isNotSupportBrowser?null:this.itemModelData.getCurrent()},nf.prototype.addData=function(t,e){this.isNotSupportBrowser||(t=Array.isArray(t)?t:[t],this.itemModelData.add(t,"number"!=typeof e?0:e),this.viewer.refreshData())},nf.prototype.removeData=function(t){this.isNotSupportBrowser||this.itemModelData.remove(t)},nf.prototype.addLayout=function(t){this.isNotSupportBrowser||this.viewer.addLayout(t)},nf.prototype.removeLayout=function(t){this.isNotSupportBrowser||this.viewer.removeLayout(t)},nf.prototype.getBypassEvents=function(t){var i=this;return Ot(t).call(t,function(t,e){return t[e]=i.bypassEvent,t},{})},nf.prototype.destroy=function(){this.viewer.destroy()},nf.VERSION="1.2.1",nf);function nf(t){var r=Kp.call(this)||this;r.bypassEvent=function(t,e){var i,e=e||t.eventType,n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);r.trigger(e,n)},r._options=Pa({preFixClass:"civ",elRoot:document.body,elScrollBody:null,elItemList:document.body,itemData:[],urlCallback:null,useScrollSync:!0,useDownload:!0,totalAllItemCount:0,loadImageTimeout:2e3,reachEndIndexGap:0,supportVersion:{IOS:10,ANDROID:5,IE:10},dominantColor:{useColor:!1,paramName:"cors",paramValue:"image_viewer"}},t||{});t=r._options.supportVersion;return r.isNotSupportBrowser=!So().supportBrowser(t),t=r._options.preFixClass,kt=t,r.initalize(),r.creatViewer(),r}var rf,of,et=(Li(sf,rf=Hi),sf.prototype.addLayout=function(t){this.injectData.layoutPool.addLayout(t)},sf.prototype.triggerViewerEvent=function(t,e){this.injectData.customLayoutsProxy.listenViewerEvent(t,e),this.trigger(t,e)},sf.prototype.removeLayout=function(t){this.injectData.layoutPool.removeLayout(t)},sf);function sf(){var t=null!==rf&&rf.apply(this,arguments)||this;return t.openedItemCheck=!1,t}(of=of||{}).HIDE="VIEWER_HIDE";var af,uf,Et=(Li(cf,af=Hi),cf.prototype.initElementPosition=function(){Ia(this.injectData.elItemList.querySelectorAll("img")).forEach(function(t){t.dataset&&(t.dataset.top=t.getBoundingClientRect().top)})},cf.prototype.confirmOpenVideoItem=function(t){var e=this.injectData,i=e.itemModel,n=xa(e.options,"videoPlayerSettings.autoPlay")||!1,e=i.get(t);e&&e.itemType===zt.VIDEO&&(e.videoData.autoPlay=n,i.set(t,e,!0))},cf);function cf(){var i=null!==af&&af.apply(this,arguments)||this;return i.videoEventBlockedFilter=function(e){return function(t){i.injectData.state.currentItemType!==zt.IMAGE&&e(t)}},i}(xe=uf=uf||{}).RESIZE="resize",xe.KEYDOWN="keydown",xe.POPSTATE="popstate",xe.WHEEL="wheel";var lf,hf=(pf.prototype.bindEvent=function(){var t=this.eventFunctionMap;this.globalEl.addEventListener("orientationchange",[uf.RESIZE]),this.globalEl.addEventListener("resize",t[uf.RESIZE]),this.globalEl.addEventListener("keydown",t[uf.KEYDOWN]),this.globalEl.addEventListener("wheel",t[uf.WHEEL]),this.globalEl.addEventListener("popstate",this.onPopState),this.browserInfo.isIOS&&this.globalEl.addEventListener("gesturestart",Xc),this.browserInfo.isIOS&&this.globalEl.addEventListener("webkitmouseforcewillbegin",Xc)},pf.prototype.unbindEvent=function(){var t=this.eventFunctionMap;this.globalEl.removeEventListener("popstate",this.onPopState),this.globalEl.removeEventListener("keydown",t[uf.KEYDOWN]),this.globalEl.removeEventListener("resize",t[uf.RESIZE]),this.globalEl.removeEventListener("wheel",t[uf.WHEEL]),this.globalEl.removeEventListener("orientationchange",t[uf.RESIZE]),this.browserInfo.isIOS&&this.globalEl.removeEventListener("gesturestart",Xc),this.browserInfo.isIOS&&this.globalEl.removeEventListener("webkitmouseforcewillbegin",Xc)},pf);function pf(t,e,i){var n;void 0===e&&(e=!1);var r=this;this.dummyFunction=function(){},this.eventFunctionMap=((n={})[uf.RESIZE]=this.dummyFunction,n[uf.KEYDOWN]=this.dummyFunction,n[uf.POPSTATE]=this.dummyFunction,n[uf.WHEEL]=this.dummyFunction,n),this.onPopState=function(t){r.urlCallback&&r.eventFunctionMap[uf.POPSTATE](t)},this.browserInfo=So(),this.urlCallback=e,this.globalEl=t;t=this.eventFunctionMap;this.eventFunctionMap=Pa(t,i)}(xe=lf=lf||{}).INDEX_CHANGE="index_change",xe.DATA_CHANGE="data_change";var ff=(df.prototype.bindEvent=function(){var t=this.eventMap,e=t[lf.INDEX_CHANGE],i=t[lf.DATA_CHANGE];this.itemModel.on(((t={})[Rt.INDEX_CHANGE]=e,t[Rt.DATA_CHANGE]=i,t))},df.prototype.unbindEvent=function(){this.itemModel.off()},df);function df(t,e){var i;this.eventMap=((i={})[lf.INDEX_CHANGE]=function(){},i[lf.DATA_CHANGE]=function(){},i),this.itemModel=t,this.eventMap=Pa(this.eventMap,e)}xe=!Ge(function(t){Array.from(t)});y({target:"Array",stat:!0,forced:xe},{from:function(t){var e,i,n,r,o,s,a=b(t),u="function"==typeof this?this:Array,c=arguments.length,l=1<c?arguments[1]:void 0,h=void 0!==l,t=Za(a),p=0;if(h&&(l=E(l,2<c?arguments[2]:void 0,2)),null==t||u==Array&&$a(t))for(i=new u(e=I(a.length));p<e;p++)s=h?l(a[p],p):a[p],kr(i,p,s);else for(o=(r=t.call(a)).next,i=new u;!(n=o.call(r)).done;p++)s=h?function(e,t,i,n){try{return n?t(v(i)[0],i[1]):t(i)}catch(t){throw Ja(e),t}}(r,l,[n.value,p],!0):n.value,kr(i,p,s);return i.length=p,i}});var gf=U.Array.from,vf=O.f,Ge=function(a){return function(t){for(var e,i=c(t),n=at(i),r=n.length,o=0,s=[];o<r;)e=n[o++],P&&!vf.call(i,e)||s.push(a?[e,i[e]]:i[e]);return s}},mf={entries:Ge(!0),values:Ge(!1)}.values;y({target:"Object",stat:!0},{values:function(t){return mf(t)}}),U.Object.values;var yf=[],_f=yf.sort,xe=n(function(){yf.sort(void 0)}),Ge=n(function(){yf.sort(null)}),mt=mt("sort");y({target:"Array",proto:!0,forced:xe||!Ge||!mt},{sort:function(t){return void 0===t?_f.call(b(this)):_f.call(b(this),h(t))}}),S("Array").sort;function Ef(t,a,e,i,u,c){void 0===a&&(a=.01),void 0===e&&(e="cors"),void 0===i&&(i="image_viewer");var l=new Image,t=(t=t,e=e,i=i,t+=/\?/.test(t)?"&":"?",t+=[encodeURIComponent(e),"=",encodeURIComponent(i)].join(""));l.crossOrigin="Anonymous",l.setAttribute("data-src",t),wc(l).then(function(){var t,e,i,n=l.width*a,r=l.height*a;(n<3&&r<4||r<3&&n<4)&&(n*=2,r*=2),8<n&&(r=Math.max(8*r/n,1),n=8),8<r&&(n=Math.max(8*n/r,1),r=8);try{var o=(t=n,e=r,(i=document.createElement("canvas")).setAttribute("width",t),i.setAttribute("height",e),i.getContext("2d"));o.drawImage(l,0,0,n,r);var s=function(t){for(var e=0,i=0,n=0,r=t.length/4,o=0;o<t.length;o+=4){var s=gf(t.subarray(o,o+3));e+=s[0],i+=s[1],n+=s[2]}return[Math.round(e/r),Math.round(i/r),Math.round(n/r)]}(o.getImageData(0,0,n,r).data);u&&u(s)}catch(t){c&&c()}}).catch(function(){c()})}var If=(bf.prototype.loadItemsInPanel=function(t,e,i){function n(){r.setItemsByIndex(t,e),r.once("onAllLoadItem",function(){i&&i()})}var r=this.injectData.itemLoader;r.isLoading()?setTimeout(n.bind(this),100):n()},bf);function bf(t){this.injectData=t.getData()}var Tf=(Pf.prototype.setup=function(t){return this.param=t,this},Pf.prototype.clearResource=function(){this.param=null},Pf.prototype.shrinkImagePanel=function(){var t=this.param,e=t.image,i=t.viewHeight,n=t.viewWidth,r=t.shrinkImage,o=t.useCss3d,s=t.panelList,a=e.height,t=go(),e=i===a,a=Ut.H_IMAGE_INDEX_HEIGHT+Ut.H_IMAGE_INDEX_ITEM_PADDING,n=r&&t?Pf.getScaleRatio(e,i,n):1,u=o?{transformOrigin:"center "+(e?a:-a/2)+"px",transform:"scale3d("+n+", "+n+", "+n+")"}:{transformOrigin:"center "+(e?a:-a/2)+"px",transform:"scale("+n+")",willChange:"transform"};Ia(s).forEach(function(t){Ma(t.querySelector(Gt.IMAGE_WRAP),u)}),this.clearResource()},Pf.getScaleRatio=function(t,e,i){var n=Ut.H_IMAGE_INDEX_HEIGHT,i=t?e:i;return(i-(t?n:0)-2*Ut.H_IMAGE_INDEX_ITEM_PADDING)/i},Pf.prototype.changeThumbToOrgImg=function(){var i=this,t=this.param,n=t.image,r=t.itemData,e=n.src,o=n.width,s=Cc(r.orgUrl),t=decodeURIComponent(s);if(t===decodeURIComponent(e)||t===decodeURIComponent(Lc.getCurrentImageSrc()))return n.width=o,n.draggable=!1,void this.clearResource();Lc.start(s,function(t){var e=Cc(r.orgUrl),e=decodeURIComponent(e);decodeURIComponent(t)===e&&(n.width=o,n.draggable=!1,n.src=s),i.clearResource()})},Pf);function Pf(){}var Sf=(xf.prototype.resizeViewer=function(t,e,i,n){e?$c(xf.resizeHeight.bind(this,t,e,i,n),300)():i?$c(function(){xf.resizeHeight(t,!1,!0,n),xf.resizeHeight(t,!1,!0,n)},100)():xf.resizeHeight(t,!1,i,n)},xf.resizeHeight=function(t,e,i,n){Ma(t,{height:window.innerHeight+1+"px"}),i&&e&&setTimeout(function(){yn.scrollTo(0,1)},10),n()},xf.applyPanelStyle=function(t,e){e.style.setProperty("touch-action","none"),t?(e.style.setProperty("-webkit-touch-callout","default","important"),e.style.setProperty("-webkit-user-select","auto","important"),e.style.setProperty("user-select","auto","important")):Ya(e)},xf);function xf(){}var Of=(wf.prototype.fromClientRect=function(t){this.x=t.left,this.y=t.top,this.width=t.width,this.height=t.height},wf.prototype.fromTLBR=function(t,e,i,n){this.top=t,this.left=e,this.bottom=i,this.right=n},Object.defineProperty(wf.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(wf.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),Object.defineProperty(wf.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(wf.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!0,configurable:!0}),Object.defineProperty(wf.prototype,"top",{get:function(){return this.y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),Object.defineProperty(wf.prototype,"left",{get:function(){return this.x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(wf.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){this._height=t-this._y},enumerable:!0,configurable:!0}),Object.defineProperty(wf.prototype,"right",{get:function(){return this.x+this.width},set:function(t){this._width=t-this._x},enumerable:!0,configurable:!0}),wf);function wf(t,e,i,n){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t=void 0===t?0:t,this.y=e,this.width=i,this.height=n}var Af=(Cf.prototype.setup=function(t){return this.effectParam=t,this},Cf.prototype.fadeIn=function(t,e,i,n,r,o){var s=t.getBoundingClientRect(),a=t.src;this.effectParam.ghostImageLayout.prepare(s,a),this.loadingImage(t,e,i,n,o,r)},Cf.prototype.fadeOut=function(t,e){var i=this,n=this.effectParam,r=n.loadImage,o=n.baseElement,n=n.ghostImageLayout;this.effectParam&&(Ma(r,{visibility:"hidden"}),Ma(o,{opacity:0}),(o=new Of).fromClientRect(r.getBoundingClientRect()),n.prepare(o,r.src),n.buildOut(t.getBoundingClientRect(),function(){e(),i.clearResource()}))},Cf.prototype.clearResource=function(){this.effectParam=null},Cf.prototype.loadingImage=function(n,t,r,o,e,s){var a=this,i=this.effectParam,u=i.ghostImageLayout,c=i.loadImage,l=i.baseElement,h=i.opacity,p=i.isMobile,f=void 0===p||p,i=i.imageTimeout,d=ja(c,"error",function(){e&&e(),Ma(l,{opacity:1}),u.hide(),s&&s(),a.clearResource()}),g=ja(c,"load",function(){var i;clearTimeout(v),a.effectParam&&(i=function(){Ma(n,{visibility:"visible"}),Ma(l,{transform:null,opacity:1}),u.hide(),s&&s(),Ha(c,"error",d),a.clearResource()},setTimeout(function(){var t=new Of;t.fromClientRect(c.getBoundingClientRect()),t.top+=r,f&&Ma(n,{visibility:"hidden"}),Ma(l,{transform:Ca(r)}),qa(l,Vt.FADEIN,{opacity:h});var e=setTimeout(i,400);u.show(t,function(){clearTimeout(e),o&&o(),i()})},50))}),v=setTimeout(function(){g(),Ha(c,"load",g)},i)},Cf.prototype.hideToUp=function(t,e,i){var n=this.effectParam.ghostImageLayout,r=t.getBoundingClientRect(),o=new Of;o.fromClientRect(r),o.top-=e,n.prepare(r,t.src);var s=setTimeout(i,300);n.buildOut(o,function(){clearTimeout(s),i()})},Cf.prototype.hideToDown=function(t,e,i,n){void 0===i&&(i=0);var r=this.effectParam,o=r.loadImage,r=r.baseElement;Ma(o,{visibility:"hidden"}),Ma(t,{top:Dn(t.style.top)+e+i+"px",transform:null,opacity:1});var s=setTimeout(function(){n()},300);qa(r,Vt.FADEOUT,{opacity:0}),qa(t,Vt.FADEHIDE,function(){clearTimeout(s),n()})},Cf.prototype.fadeOutWithBaseElement=function(t,e,i,n,r){i||r(),Ma(this.effectParam.baseElement,{opacity:Math.max(.3,1-Math.abs(n)/(2*e/3))}),Ma(t,{transform:Ca(n)})},Cf);function Cf(){}var Df=(Lf.prototype.setup=function(t){return this.param=t,this},Lf.prototype.clearResource=function(){this.param=null},Lf.prototype.on=function(t){void 0===t&&(t=0);var e=this.param,i=e.image,n=e.imageList,r=e.cssProperty,r=void 0===r?{}:r,e=e.isMobile;Ma(i,{visibility:"visible"}),e?(Ma(n,Ni({},r)),window.scrollTo(0,0),Ma(n,{transform:Ca(-t)})):Ma(document.body,Ni({},r)),this.clearResource()},Lf.prototype.off=function(t,e,i){var n=this.param,r=n.imageList,o=n.cssProperty,o=void 0===o?{}:o,n=n.isMobile;Ma(r,Ni({},o));i=this.getCenterY(t,e,i);return n?Ma(r,{transform:Ca(-i)}):Ma(document.body,Ni({},o)),this.clearResource(),i},Lf.prototype.getCenterY=function(t,e,i){if(this.param.useScrollSync&&t){t=t.getBoundingClientRect(),e=(e-t.height)/2;return Math.max(t.top+i-e,0)}return i},Lf);function Lf(){}var Nf=i(function(Ft){!function(r,a,c){var o=["","webkit","Moz","MS","ms","o"],t=a.createElement("div"),i="function",s=Math.round,l=Math.abs,u=Date.now;function h(t,e,i){return setTimeout(m(t,i),e)}function n(t,e,i){return Array.isArray(t)&&(p(t,i[e],i),1)}function p(t,e,i){if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==c)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(var n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function e(i,t,e){var n="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),e=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",t=r.console&&(r.console.warn||r.console.log);return t&&t.call(r.console,n,e),i.apply(this,arguments)}}var f="function"!=typeof Object.assign?function(t){var e=arguments;if(t===c||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var r=e[n];if(r!==c&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])}return i}:Object.assign,d=e(function(t,e,i){for(var n=Object.keys(e),r=0;r<n.length;)(!i||i&&t[n[r]]===c)&&(t[n[r]]=e[n[r]]),r++;return t},"extend","Use `assign`."),g=e(function(t,e){return d(t,e,!0)},"merge","Use `assign`.");function v(t,e,i){var n=e.prototype,e=t.prototype=Object.create(n);e.constructor=t,e._super=n,i&&f(e,i)}function m(t,e){return function(){return t.apply(e,arguments)}}function y(t,e){return typeof t==i?t.apply(e&&e[0]||c,e):t}function _(t,e){return t===c?e:t}function E(e,t,i){p(P(t),function(t){e.addEventListener(t,i,!1)})}function I(e,t,i){p(P(t),function(t){e.removeEventListener(t,i,!1)})}function b(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function T(t,e){return-1<t.indexOf(e)}function P(t){return t.trim().split(/\s+/g)}function S(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function x(t){return Array.prototype.slice.call(t,0)}function O(t,i,e){for(var n=[],r=[],o=0;o<t.length;){var s=i?t[o][i]:t[o];S(r,s)<0&&n.push(t[o]),r[o]=s,o++}return n=e?i?n.sort(function(t,e){return t[i]>e[i]}):n.sort():n}function w(t,e){for(var i,n=e[0].toUpperCase()+e.slice(1),r=0;r<o.length;){if((i=(i=o[r])?i+n:e)in t)return i;r++}return c}var A=1;function C(t){t=t.ownerDocument||t;return t.defaultView||t.parentWindow||r}var D="ontouchstart"in r,L=w(r,"PointerEvent")!==c,N=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),R="touch",M=25,k=1,V=4,z=8,H=1,j=2,G=4,B=8,F=16,U=j|G,X=B|F,q=U|X,W=["x","y"],Y=["clientX","clientY"];function K(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){y(e.options.enable,[e])&&i.handler(t)},this.init()}function $(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,o=e&k&&n-r==0,r=e&(V|z)&&n-r==0;i.isFirst=!!o,i.isFinal=!!r,o&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=Z(e));1<r&&!i.firstMultiple?i.firstMultiple=Z(e):1===r&&(i.firstMultiple=!1);var o=i.firstInput,s=i.firstMultiple,a=(s||o).center,r=e.center=J(n);e.timeStamp=u(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=it(a,r),e.distance=et(a,r),function(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==k&&o.eventType!==V||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y});e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}(i,e),e.offsetDirection=tt(e.deltaX,e.deltaY);r=Q(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=r.x,e.overallVelocityY=r.y,e.overallVelocity=l(r.x)>l(r.y)?r.x:r.y,e.scale=s?function(t,e){return et(e[0],e[1],Y)/et(t[0],t[1],Y)}(s.pointers,n):1,e.rotation=s?function(t,e){return it(e[1],e[0],Y)+it(t[1],t[0],Y)}(s.pointers,n):0,e.maxPointers=!i.prevInput||e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers,function(t,e){var i,n,r=t.lastInterval||e,o=e.timeStamp-r.timeStamp;{var s,a,u;e.eventType!=z&&(M<o||r.velocity===c)?(s=e.deltaX-r.deltaX,a=e.deltaY-r.deltaY,u=Q(o,s,a),i=u.x,n=u.y,u=l(u.x)>l(u.y)?u.x:u.y,a=tt(s,a),t.lastInterval=e):(u=r.velocity,i=r.velocityX,n=r.velocityY,a=r.direction)}e.velocity=u,e.velocityX=i,e.velocityY=n,e.direction=a}(i,e);t=t.element;b(e.srcEvent.target,t)&&(t=e.srcEvent.target);e.target=t}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function Z(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:s(t.pointers[i].clientX),clientY:s(t.pointers[i].clientY)},i++;return{timeStamp:u(),pointers:e,center:J(e),deltaX:t.deltaX,deltaY:t.deltaY}}function J(t){var e=t.length;if(1===e)return{x:s(t[0].clientX),y:s(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:s(i/e),y:s(n/e)}}function Q(t,e,i){return{x:e/t||0,y:i/t||0}}function tt(t,e){return t===e?H:l(t)>=l(e)?t<0?j:G:e<0?B:F}function et(t,e,i){var n=e[(i=i||W)[0]]-t[i[0]],i=e[i[1]]-t[i[1]];return Math.sqrt(n*n+i*i)}function it(t,e,i){var n=e[(i=i||W)[0]]-t[i[0]],i=e[i[1]]-t[i[1]];return 180*Math.atan2(i,n)/Math.PI}K.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(C(this.element),this.evWin,this.domHandler)}};var nt={mousedown:k,mousemove:2,mouseup:V},rt="mousedown",ot="mousemove mouseup";function st(){this.evEl=rt,this.evWin=ot,this.pressed=!1,K.apply(this,arguments)}v(st,K,{handler:function(t){var e=nt[t.type];e&k&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=V),this.pressed&&(e&V&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var at={pointerdown:k,pointermove:2,pointerup:V,pointercancel:z,pointerout:z},ut={2:R,3:"pen",4:"mouse",5:"kinect"},ct="pointerdown",lt="pointermove pointerup pointercancel";function ht(){this.evEl=ct,this.evWin=lt,K.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(ct="MSPointerDown",lt="MSPointerMove MSPointerUp MSPointerCancel"),v(ht,K,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=at[n],o=ut[t.pointerType]||t.pointerType,s=o==R,n=S(e,t.pointerId,"pointerId");r&k&&(0===t.button||s)?n<0&&(e.push(t),n=e.length-1):r&(V|z)&&(i=!0),n<0||(e[n]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(n,1))}});var pt={touchstart:k,touchmove:2,touchend:V,touchcancel:z};function ft(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,K.apply(this,arguments)}v(ft,K,{handler:function(t){var e,i=pt[t.type];i===k&&(this.started=!0),this.started&&(e=function(t,e){var i=x(t.touches),t=x(t.changedTouches);e&(V|z)&&(i=O(i.concat(t),"identifier",!0));return[i,t]}.call(this,t,i),i&(V|z)&&e[0].length-e[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:e[0],changedPointers:e[1],pointerType:R,srcEvent:t}))}});var dt={touchstart:k,touchmove:2,touchend:V,touchcancel:z},gt="touchstart touchmove touchend touchcancel";function vt(){this.evTarget=gt,this.targetIds={},K.apply(this,arguments)}v(vt,K,{handler:function(t){var e=dt[t.type],i=function(t,e){var i=x(t.touches),n=this.targetIds;if(e&(2|k)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,o,s=x(t.changedTouches),a=[],u=this.target;if(o=i.filter(function(t){return b(t.target,u)}),e===k)for(r=0;r<o.length;)n[o[r].identifier]=!0,r++;r=0;for(;r<s.length;)n[s[r].identifier]&&a.push(s[r]),e&(V|z)&&delete n[s[r].identifier],r++;if(a.length)return[O(o.concat(a),"identifier",!0),a]}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:R,srcEvent:t})}});var mt=2500;function yt(){K.apply(this,arguments);var t=m(this.handler,this);this.touch=new vt(this.manager,t),this.mouse=new st(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function _t(t){var e,i,t=t.changedPointers[0];t.identifier===this.primaryTouch&&(e={x:t.clientX,y:t.clientY},this.lastTouches.push(e),i=this.lastTouches,setTimeout(function(){var t=i.indexOf(e);-1<t&&i.splice(t,1)},mt))}v(yt,K,{handler:function(t,e,i){var n=i.pointerType==R,r="mouse"==i.pointerType;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)!function(t,e){t&k?(this.primaryTouch=e.changedPointers[0].identifier,_t.call(this,e)):t&(V|z)&&_t.call(this,e)}.call(this,e,i);else if(r&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],o=Math.abs(e-r.x),r=Math.abs(i-r.y);if(o<=25&&r<=25)return!0}return!1}.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Et=w(t.style,"touchAction"),It=Et!==c,bt="manipulation",Tt="none",Pt="pan-x",St="pan-y",xt=function(){if(!It)return!1;var e={},i=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){e[t]=!i||r.CSS.supports("touch-action",t)}),e}();function Ot(t,e){this.manager=t,this.set(e)}Ot.prototype={set:function(t){"compute"==t&&(t=this.compute()),It&&this.manager.element.style&&xt[t]&&(this.manager.element.style[Et]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return p(this.manager.recognizers,function(t){y(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(T(t,Tt))return Tt;var e=T(t,Pt),i=T(t,St);if(e&&i)return Tt;if(e||i)return e?Pt:St;if(T(t,bt))return bt;return"auto"}(e.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,r=T(n,Tt)&&!xt.none,o=T(n,St)&&!xt[St],s=T(n,Pt)&&!xt[Pt];if(r){var a=1===t.pointers.length,n=t.distance<2,t=t.deltaTime<250;if(a&&n&&t)return}if(!s||!o)return r||o&&i&U||s&&i&X?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var wt=1;function At(t){this.options=f({},this.defaults,t||{}),this.id=A++,this.manager=null,this.options.enable=_(this.options.enable,!0),this.state=wt,this.simultaneous={},this.requireFail=[]}function Ct(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Dt(t){return t==F?"down":t==B?"up":t==j?"left":t==G?"right":""}function Lt(t,e){e=e.manager;return e?e.get(t):t}function Nt(){At.apply(this,arguments)}function Rt(){Nt.apply(this,arguments),this.pX=null,this.pY=null}function Mt(){Nt.apply(this,arguments)}function kt(){At.apply(this,arguments),this._timer=null,this._input=null}function Vt(){Nt.apply(this,arguments)}function zt(){Nt.apply(this,arguments)}function Ht(){At.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function jt(t,e){return(e=e||{}).recognizers=_(e.recognizers,jt.defaults.preset),new Gt(t,e)}At.prototype={defaults:{},set:function(t){return f(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(n(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Lt(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return n(t,"dropRecognizeWith",this)||(t=Lt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(n(t,"requireFailure",this))return this;var e=this.requireFail;return-1===S(e,t=Lt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(n(t,"dropRequireFailure",this))return this;t=Lt(t,this);t=S(this.requireFail,t);return-1<t&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){var i=this,t=this.state;function n(t){i.manager.emit(t,e)}t<8&&n(i.options.event+Ct(t)),n(i.options.event),e.additionalEvent&&n(e.additionalEvent),8<=t&&n(i.options.event+Ct(t))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|wt)))return!1;t++}return!0},recognize:function(t){t=f({},t);if(!y(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=wt),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(t){},getTouchAction:function(){},reset:function(){}},v(Nt,At,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=6&e,t=this.attrTest(t);return n&&(i&z||!t)?16|e:n||t?i&V?8|e:2&e?4|e:2:32}}),v(Rt,Nt,{defaults:{event:"pan",threshold:10,pointers:1,direction:q},getTouchAction:function(){var t=this.options.direction,e=[];return t&U&&e.push(St),t&X&&e.push(Pt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(n=e.direction&U?(r=0===o?H:o<0?j:G,i=o!=this.pX,Math.abs(t.deltaX)):(r=0===s?H:s<0?B:F,i=s!=this.pY,Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},attrTest:function(t){return Nt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Dt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),v(Mt,Nt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Tt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){var e;1!==t.scale&&(e=t.scale<1?"in":"out",t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),v(kt,At,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(V|z)&&!r)this.reset();else if(t.eventType&k)this.reset(),this._timer=h(function(){this.state=8,this.tryEmit()},e.time,this);else if(t.eventType&V)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&V?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}}),v(Vt,Nt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Tt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),v(zt,Nt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:U|X,pointers:1},getTouchAction:function(){return Rt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(U|X)?e=t.overallVelocity:i&U?e=t.overallVelocityX:i&X&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&l(e)>this.options.velocity&&t.eventType&V},emit:function(t){var e=Dt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),v(Ht,At,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[bt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&k&&0===this.count)return this.failTimeout();if(n&&r&&i){if(t.eventType!=V)return this.failTimeout();r=!this.pTime||t.timeStamp-this.pTime<e.interval,i=!this.pCenter||et(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,i&&r?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=h(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=h(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),jt.VERSION="2.0.7",jt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Vt,{enable:!1}],[Mt,{enable:!1},["rotate"]],[zt,{direction:U}],[Rt,{direction:U},["swipe"]],[Ht],[Ht,{event:"doubletap",taps:2},["tap"]],[kt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Gt(t,e){this.options=f({},jt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((t=this).options.inputClass||(L?ht:N?vt:D?yt:st))(t,$),this.touchAction=new Ot(this,this.options.touchAction),Bt(this,!0),p(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Bt(i,n){var r,o=i.element;o.style&&(p(i.options.cssProps,function(t,e){r=w(o.style,e),n?(i.oldCssProps[r]=o.style[r],o.style[r]=t):o.style[r]=i.oldCssProps[r]||""}),n||(i.oldCssProps={}))}Gt.prototype={set:function(t){return f(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e,i=this.session;if(!i.stopped){this.touchAction.preventDefaults(t);var n=this.recognizers,r=i.curRecognizer;(!r||r&&8&r.state)&&(r=i.curRecognizer=null);for(var o=0;o<n.length;)e=n[o],2===i.stopped||r&&e!=r&&!e.canRecognizeWith(r)?e.reset():e.recognize(t),!r&&14&e.state&&(r=i.curRecognizer=e),o++}},get:function(t){if(t instanceof At)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(n(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){return n(t,"remove",this)||!(t=this.get(t))||-1!==(t=S(e=this.recognizers,t))&&(e.splice(t,1),this.touchAction.update()),this;var e},on:function(t,e){if(t!==c&&e!==c){var i=this.handlers;return p(P(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==c){var i=this.handlers;return p(P(t),function(t){e?i[t]&&i[t].splice(S(i[t],e),1):delete i[t]}),this}},emit:function(t,e){var i,n,r;this.options.domEvents&&(i=t,n=e,(r=a.createEvent("Event")).initEvent(i,!0,!0),(r.gesture=n).target.dispatchEvent(r));var o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](e),s++}},destroy:function(){this.element&&Bt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},f(jt,{INPUT_START:k,INPUT_MOVE:2,INPUT_END:V,INPUT_CANCEL:z,STATE_POSSIBLE:wt,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:H,DIRECTION_LEFT:j,DIRECTION_RIGHT:G,DIRECTION_UP:B,DIRECTION_DOWN:F,DIRECTION_HORIZONTAL:U,DIRECTION_VERTICAL:X,DIRECTION_ALL:q,Manager:Gt,Input:K,TouchAction:Ot,TouchInput:vt,MouseInput:st,PointerEventInput:ht,TouchMouseInput:yt,SingleTouchInput:ft,Recognizer:At,AttrRecognizer:Nt,Tap:Ht,Pan:Rt,Swipe:zt,Pinch:Mt,Rotate:Vt,Press:kt,on:E,off:I,each:p,merge:g,extend:d,assign:f,inherit:v,bindFn:m,prefixed:w}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=jt,"function"==typeof c&&c.amd?c(function(){return jt}):Ft.exports?Ft.exports=jt:r.Hammer=jt}(window,document)});var Rf,Mf=Nf.STATE_RECOGNIZED,kf=Nf.INPUT_END,Vf=Nf.INPUT_START,zf=Nf.STATE_FAILED,Hf=Nf.STATE_BEGAN,jf=(Li(Gf,Rf=Nf.Tap),Gf.prototype.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,r=t.distance<i.threshold,o=t.deltaTime<i.time;if(this.reset(),t.eventType&Vf&&0===this.count)return this.failTimeout();if(r&&o&&n){if(t.eventType!==kf)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||(r=this.pCenter,o=t.center,n=o[(a=void 0===a?["x","y"]:a)[0]]-r[a[0]],a=o[a[1]]-r[a[1]],Math.sqrt(n*n+a*a)<i.posThreshold);if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0==this.count%i.taps)return setTimeout(function(){e.state=Mf,e.tryEmit()},10),Hf}return zf},Gf);function Gf(){return null!==Rf&&Rf.apply(this,arguments)||this}var Bf,Ff=(Li(Uf,Bf=Hi),Uf.start=function(){Uf.running&&Uf.stop(),Uf._running=!0,requestAnimationFrame(Uf.shared.onTick),Uf.shared.trigger("start")},Uf.stop=function(){Uf._running=!1,Uf.shared.trigger("stop")},Object.defineProperty(Uf,"shared",{get:function(){return Uf.ticker=Uf.ticker||new Uf},enumerable:!0,configurable:!0}),Object.defineProperty(Uf,"running",{get:function(){return Uf._running},enumerable:!0,configurable:!0}),Uf._running=!1,Uf);function Uf(){var e=null!==Bf&&Bf.apply(this,arguments)||this;return e.onTick=function(t){Uf._running&&(e.trigger("tick",{type:"tick",time:t}),requestAnimationFrame(e.onTick))},e}y({target:"Array",proto:!0},{fill:function(t){for(var e=b(this),i=I(e.length),n=arguments.length,r=f(1<n?arguments[1]:void 0,i),n=2<n?arguments[2]:void 0,o=void 0===n?i:f(n,i);r<o;)e[r++]=t;return e}});var Xf=S("Array").fill,qf=Array.prototype,Wf=function(t){var e=t.fill;return t===qf||t instanceof Array&&e===qf.fill?Xf:e};var Yf=(Kf.prototype.identity=function(){this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.radian=0,this.pivotX=0,this.pivotY=0,this._matrix=[],this.invalidate=!0},Kf.prototype.toLocal=function(t){return e=this.matrix,i=t,n=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],t=i.x,e=i.y,{x:s*(i=1/(n*s-r*o))*t+-o*i*e+(u*o-a*s)*i,y:n*i*e+-r*i*t+(-u*n+a*r)*i};var e,i,n,r,o,s,a,u},Kf.prototype.toGlobal=function(t){return e=this.matrix,t=(i=t).x,i=i.y,{x:e[0]*t+e[2]*i+e[4],y:e[1]*t+e[3]*i+e[5]};var e,i},Kf.prototype.setTransformOrigin=function(t,e){var i,n;this.pivotX===t&&this.pivotY===e||(n=t-this.pivotX,i=e-this.pivotY,i=(n=this.getLocalTranslation(n,i)).x,n=n.y,this.pivotX=t,this.pivotY=e,this.x+=i,this.y+=n)},Kf.prototype.getLocalTranslation=function(t,e){var i=0===this.radian?1:Math.cos(this.radian),n=0===this.radian?0:Math.sin(this.radian),r=i*this.scaleX,o=n*this.scaleX;return{x:r*t+-n*this.scaleY*e,y:o*t+i*this.scaleY*e}},Object.defineProperty(Kf.prototype,"matrix",{get:function(){var t,e,i,n,r,o,s,a,u,c;return this.invalidate&&(e=(t=this)._matrix,i=void 0===(c=t.x)?0:c,n=void 0===(a=t.y)?0:a,r=t.scaleX,o=void 0===r?1:r,s=void 0===(u=t.scaleY)?1:u,a=void 0===(c=t.pivotX)?0:c,u=void 0===(r=t.pivotY)?0:r,c=t.radian,void 0===e&&(e=[]),t=0===(r=void 0===c?0:c)?1:Math.cos(r),c=0===r?0:Math.sin(r),r=t*o,o*=c,i=-r*a-(c=-c*s)*u+i,n=-o*a-(s*=t)*u+n,e[0]=r,e[1]=o,e[2]=c,e[3]=s,e[4]=i,e[5]=n,this.invalidate=!1),this._matrix},enumerable:!0,configurable:!0}),Object.defineProperty(Kf.prototype,"cssMatrix",{get:function(){return"matrix("+this.matrix.join(",")+")"},enumerable:!0,configurable:!0}),Object.defineProperty(Kf.prototype,"cssMatrix3d",{get:function(){var t=Wf(t=new Array(16)).call(t,0);return t[0]=this.matrix[0],t[5]=this.matrix[3],t[12]=this.matrix[4],t[13]=this.matrix[5],t[15]=1,"matrix("+t.join(",")+")"},enumerable:!0,configurable:!0}),Object.defineProperty(Kf.prototype,"cssTranslate",{get:function(){var t=So(),e=t.useCss3d,t=t.isIOS;return e&&!t?"\n    translate3d(\n      "+(this.x-this.pivotX*this.scaleX)+"px,\n      "+(this.y-this.pivotY*this.scaleY)+"px,\n      0px)\n    scale3d("+this.scaleX+", "+this.scaleY+", 1)\n    ":"\n      translate(\n        "+(this.x-this.pivotX*this.scaleX)+"px,\n        "+(this.y-this.pivotY*this.scaleY)+"px)\n      scale("+this.scaleX+")\n      "},enumerable:!0,configurable:!0}),Object.defineProperty(Kf.prototype,"x",{get:function(){return this._x},set:function(t){t!==this._x&&(this.invalidate=!0,this._x=t)},enumerable:!0,configurable:!0}),Object.defineProperty(Kf.prototype,"y",{get:function(){return this._y},set:function(t){t!==this._y&&(this.invalidate=!0,this._y=t)},enumerable:!0,configurable:!0}),Object.defineProperty(Kf.prototype,"scaleX",{get:function(){return this._scaleX},set:function(t){t!==this._scaleX&&(this.invalidate=!0,this._scaleX=t)},enumerable:!0,configurable:!0}),Object.defineProperty(Kf.prototype,"scaleY",{get:function(){return this._scaleY},set:function(t){t!==this._scaleY&&(this.invalidate=!0,this._scaleY=t)},enumerable:!0,configurable:!0}),Object.defineProperty(Kf.prototype,"pivotX",{get:function(){return this._pivotX},set:function(t){t!==this._pivotX&&(this.invalidate=!0,this._pivotX=t)},enumerable:!0,configurable:!0}),Object.defineProperty(Kf.prototype,"pivotY",{get:function(){return this._pivotY},set:function(t){t!==this._pivotY&&(this.invalidate=!0,this._pivotY=t)},enumerable:!0,configurable:!0}),Object.defineProperty(Kf.prototype,"radian",{get:function(){return this._radian},set:function(t){t!==this._radian&&(this.invalidate=!0,this._radian=t)},enumerable:!0,configurable:!0}),Object.defineProperty(Kf.prototype,"rotation",{get:function(){return 180*this._radian/Math.PI},set:function(t){this.radian=t*Math.PI/180},enumerable:!0,configurable:!0}),Kf);function Kf(){this._matrix=[],this.invalidate=!0,this.identity()}var $f,Zf=(Li(Jf,$f=Hi),Jf.prototype.prepareloadPanelItem=function(t){var e=this.injectData,i=e.flicking,n=e.itemModel,e=e.hrImageIndexLayout;return!(!i||0===n.length)&&(void 0!==t&&(n.setIndex(t),e.currentIndex=t),!0)},Jf.prototype.isShrinkImage=function(){var t=go(),e=this.injectData.hrImageIndexLayout;return t&&e.isVisiblity()},Jf.prototype.updateColor=function(t,e,i){var n,r=this.injectData,o=r.browserInfo,s=r.itemModel,a=r.options,u=o.useDominantColor,r=a.dominantColor,o=r.useColor,a=r.paramName,r=r.paramValue;u&&o?(t=xa(o=s.get(t),"dominantColor"))?e&&e(function(t){if(!/\d+\|\d+\|\d+/.test(t))throw new Error("알수 없는 형태의 dominantColor 입니다. "+t);return er(t=t.match(/\d+/g)).call(t,Number)}(t)):(n=xa(o,"thumbUrl"))?Ef(n,.05,a,r,function(t){s.setDominantColor(n,t),e&&e(t)},i):i&&i():i&&i()},Jf.prototype.updateDominentColor=function(t,e){var i=this;t!==e?this.updateColor(t):(this.injectData.exceptionLayout.hide(),this.updateColor(t,function(t){i.applyDominantColor(t,!0)},function(){i.applyDominantColor()}))},Jf.prototype.loadPanelItem=function(t,e){var i,n,r,o,s,a,u;this.prepareloadPanelItem(t)&&(i=(a=this.injectData).flicking,u=a.itemModel,n=a.image,r=a.itemPanel,o=a.itemLoader,s=a.exceptionLayout,a=a.videoToolbarLayout,u=(t="number"==typeof t?t:u.getComputedIndex())!==u.length-1,i.prevFlick=0!==t,i.nextFlick=u,s.isVisiblity()&&s.hide(),a.hide(),this.shrinkImageLayout(),o.callbackProxy.bindProps({currentIndex:t,extendMetaData:{currentImage:n,itemPanel:r}}),o.callbackProxy.setOnSuccess(this.afterLoadSuccessItem),o.callbackProxy.setOnFail(this.afterLoadFailItem),this.itemUnit.loadItemsInPanel(t,i.panel,e))},Jf.prototype.failItemLoad=function(t,e){var i=this.injectData.ghostImageLayout;this.afterLoadFailItem(t,e),i.hide()},Jf.prototype.applyDominantColor=function(o,t){void 0===o&&(o=null),void 0===t&&(t=!1);var e=this.injectData,i=e.headerLayout,n=e.footerLayout,r=e.backgroundLayout,s=e.hrImageIndexLayout,a=Ut.DOMINANT_ADJUST_CONST_FOR_BACKGROUND,u=Ut.DOMINANT_ADJUST_CONST_FOR_INDEX_LAYER,c=Ut.DEFAULT_DOMINANT_COLOR,e=function(t){return o?(i=t/100,n=(e=o)[0],r=e[1],t=e[2],e=Math.sqrt(n*n+r*r+t*t),[(i=441.6729559300637*i)*n/e|0,i*r/e|0,i*t/e|0]):c;var e,i,n,r},a=e(a),u=e(u);i.updateBgColor(a,t),n.updateBgColor(a,t),r.updateBgColor(a,t),s.updateBgColor(u,t)},Jf.prototype.getImgFromList=function(e){var t=this.injectData.itemModel,e=null!=e?t.get(e):t.getCurrent(),t=null;if(!e)return t;try{t=document.querySelector(e.selector)}catch(t){console.error("invalid selector",e.selector)}return t},Jf.prototype.shrinkImageLayout=function(){var t=this.injectData,e=t.image,i=t.state,n=t.elBase,t=t.browserInfo,t={image:e,panelList:n.querySelectorAll(Gt.FLICK_PANEL),shrinkImage:this.isShrinkImage(),viewHeight:i.height,viewWidth:i.width,useCss3d:t.useCss3d};this.imageUnit.setup(t).shrinkImagePanel()},Jf);function Jf(t){var u=$f.call(this)||this;return u.afterLoadFailItem=function(t,e,i){var n=e.itemPanel,r=u.injectData,o=r.itemLoader,s=r.gestureProxy,a=r.exceptionLayout,e=r.videoToolbarLayout,r=o.callbackProxy.getProps().currentIndex,o=Bt;t===zt.VIDEO&&(o=Ft),i===r&&(s.setVerticalPanTracking(!1),e.hide(),a.show({message:o,itemType:t},n))},u.afterLoadSuccessItem=function(t){var e=u.injectData,i=e.itemLoader,n=e.eventProxy,r=e.state,o=e.itemModel,s=e.gestureProxy,a=e.hrImageIndexLayout,e=i.callbackProxy.getProps().currentIndex;e===t&&(o=(i=o.get(t)).itemType,r.currentItemType=o,(r.videoPlayed=!1)===a.isVisiblity()&&s.setVerticalPanTracking(!0),o!==zt.VIDEO&&n.trigger(jt.TRIGGER_UNBIND),n.trigger(wt.LOAD_CURRENT_ITEM,{index:t,itemData:i})),u.updateDominentColor(e,t)},u.changeThumbToOrgImg=$c(function(){var t=u.injectData,t={image:t.image,itemData:t.itemModel.getCurrent()};u.imageUnit.setup(t).changeThumbToOrgImg()},Ut.ORG_IMG_LOAD_DEBOUNCE_WAIT),u.di=t,u.injectData=u.di.getData(),u.itemUnit=new If(u.di),u.imageUnit=new Tf,u}function Qf(){return(Qf=Object.assign||function(t){for(var e=arguments,i=1;i<arguments.length;i++){var n,r=e[i];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function td(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function ed(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var id="function"!=typeof Object.assign?function(t){var e=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var r=e[n];if(null!=r)for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])}return i}:Object.assign,nd=["","webkit","Moz","MS","ms","o"],S="undefined"==typeof document?{style:{}}:document.createElement("div"),rd="function",od=Math.round,sd=Math.abs,ad=Date.now;function ud(t,e){for(var i,n=e[0].toUpperCase()+e.slice(1),r=0;r<nd.length;){if((i=(i=nd[r])?i+n:e)in t)return i;r++}}var cd="undefined"==typeof window?{}:window,ld=ud(S.style,"touchAction"),hd=void 0!==ld;var pd="compute",fd="manipulation",dd="none",gd="pan-x",vd="pan-y",md=function(){if(!hd)return!1;var e={},i=cd.CSS&&cd.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return e[t]=!i||cd.CSS.supports("touch-action",t)}),e}(),yd="ontouchstart"in cd,_d=void 0!==ud(cd,"PointerEvent"),Ed=yd&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Id="touch",bd="mouse",Td=25,Pd=1,Sd=4,xd=8,Od=1,wd=2,Ad=4,Cd=8,Dd=16,Ld=wd|Ad,Nd=Cd|Dd,Rd=Ld|Nd,Md=["x","y"],kd=["clientX","clientY"];function Vd(t,e,i){if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(var n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function zd(t,e){return typeof t===rd?t.apply(e&&e[0]||void 0,e):t}function Hd(t,e){return-1<t.indexOf(e)}var jd=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===pd&&(t=this.compute()),hd&&this.manager.element.style&&md[t]&&(this.manager.element.style[ld]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var e=[];return Vd(this.manager.recognizers,function(t){zd(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(Hd(t,dd))return dd;var e=Hd(t,gd),i=Hd(t,vd);return e&&i?dd:e||i?e?gd:vd:Hd(t,fd)?fd:"auto"}(e.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,r=Hd(n,dd)&&!md[dd],o=Hd(n,vd)&&!md[vd],s=Hd(n,gd)&&!md[gd];if(r){var a=1===t.pointers.length,n=t.distance<2,t=t.deltaTime<250;if(a&&n&&t)return}if(!s||!o)return r||o&&i&Ld||s&&i&Nd?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function Gd(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Bd(t){var e=t.length;if(1===e)return{x:od(t[0].clientX),y:od(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:od(i/e),y:od(n/e)}}function Fd(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:od(t.pointers[i].clientX),clientY:od(t.pointers[i].clientY)},i++;return{timeStamp:ad(),pointers:e,center:Bd(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Ud(t,e,i){var n=e[(i=i||Md)[0]]-t[i[0]],i=e[i[1]]-t[i[1]];return Math.sqrt(n*n+i*i)}function Xd(t,e,i){var n=e[(i=i||Md)[0]]-t[i[0]],i=e[i[1]]-t[i[1]];return 180*Math.atan2(i,n)/Math.PI}function qd(t,e){return t===e?Od:sd(t)>=sd(e)?t<0?wd:Ad:e<0?Cd:Dd}function Wd(t,e,i){return{x:e/t||0,y:i/t||0}}function Yd(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=Fd(e)),1<r&&!i.firstMultiple?i.firstMultiple=Fd(e):1===r&&(i.firstMultiple=!1);var o,s,a=i.firstInput,u=i.firstMultiple,c=(u||a).center,l=e.center=Bd(n);e.timeStamp=ad(),e.deltaTime=e.timeStamp-a.timeStamp,e.angle=Xd(c,l),e.distance=Ud(c,l),o=i,r=(s=e).center,a=o.offsetDelta||{},c=o.prevDelta||{},l=o.prevInput||{},s.eventType!==Pd&&l.eventType!==Sd||(c=o.prevDelta={x:l.deltaX||0,y:l.deltaY||0},a=o.offsetDelta={x:r.x,y:r.y}),s.deltaX=c.x+(r.x-a.x),s.deltaY=c.y+(r.y-a.y),e.offsetDirection=qd(e.deltaX,e.deltaY);var h,p,f,d,g,r=Wd(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=r.x,e.overallVelocityY=r.y,e.overallVelocity=sd(r.x)>sd(r.y)?r.x:r.y,e.scale=u?(a=u.pointers,Ud((r=n)[0],r[1],kd)/Ud(a[0],a[1],kd)):1,e.rotation=u?(g=u.pointers,Xd((h=n)[1],h[0],kd)+Xd(g[1],g[0],kd)):0,e.maxPointers=!i.prevInput||e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers,n=e,g=(h=i).lastInterval||n,i=n.timeStamp-g.timeStamp,n.eventType!==xd&&(Td<i||void 0===g.velocity)?(p=(d=Wd(i,i=n.deltaX-g.deltaX,v=n.deltaY-g.deltaY)).x,f=d.y,d=sd(d.x)>sd(d.y)?d.x:d.y,v=qd(i,v),h.lastInterval=n):(d=g.velocity,p=g.velocityX,f=g.velocityY,v=g.direction),n.velocity=d,n.velocityX=p,n.velocityY=f,n.direction=v;var v=t.element,t=e.srcEvent,t=t.composedPath?t.composedPath()[0]:t.path?t.path[0]:t.target;Gd(t,v)&&(v=t),e.target=v}function Kd(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,o=e&Pd&&n-r==0,r=e&(Sd|xd)&&n-r==0;i.isFirst=!!o,i.isFinal=!!r,o&&(t.session={}),i.eventType=e,Yd(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function $d(t){return t.trim().split(/\s+/g)}function Zd(e,t,i){Vd($d(t),function(t){e.addEventListener(t,i,!1)})}function Jd(e,t,i){Vd($d(t),function(t){e.removeEventListener(t,i,!1)})}function Qd(t){t=t.ownerDocument||t;return t.defaultView||t.parentWindow||window}var tg=function(){function t(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){zd(e.options.enable,[e])&&i.handler(t)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Zd(this.element,this.evEl,this.domHandler),this.evTarget&&Zd(this.target,this.evTarget,this.domHandler),this.evWin&&Zd(Qd(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Jd(this.element,this.evEl,this.domHandler),this.evTarget&&Jd(this.target,this.evTarget,this.domHandler),this.evWin&&Jd(Qd(this.element),this.evWin,this.domHandler)},t}();function eg(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}var ig={pointerdown:Pd,pointermove:2,pointerup:Sd,pointercancel:xd,pointerout:xd},ng={2:Id,3:"pen",4:bd,5:"kinect"},rg="pointerdown",og="pointermove pointerup pointercancel";cd.MSPointerEvent&&!cd.PointerEvent&&(rg="MSPointerDown",og="MSPointerMove MSPointerUp MSPointerCancel");var sg=function(e){function i(){var t=i.prototype;return t.evEl=rg,t.evWin=og,(t=e.apply(this,arguments)||this).store=t.manager.session.pointerEvents=[],t}return td(i,e),i.prototype.handler=function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=ig[n],o=ng[t.pointerType]||t.pointerType,s=o===Id,n=eg(e,t.pointerId,"pointerId");r&Pd&&(0===t.button||s)?n<0&&(e.push(t),n=e.length-1):r&(Sd|xd)&&(i=!0),n<0||(e[n]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(n,1))},i}(tg);function ag(t){return Array.prototype.slice.call(t,0)}var ug={touchstart:Pd,touchmove:2,touchend:Sd,touchcancel:xd},cg="touchstart touchmove touchend touchcancel",lg=function(e){function i(){var t;return i.prototype.evTarget=cg,(t=e.apply(this,arguments)||this).targetIds={},t}return td(i,e),i.prototype.handler=function(t){var e=ug[t.type],i=function(t,e){var i,n,r=ag(t.touches),o=this.targetIds;if(e&(2|Pd)&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=ag(t.changedTouches),a=[],u=this.target;if(n=r.filter(function(t){return Gd(t.target,u)}),e===Pd)for(i=0;i<n.length;)o[n[i].identifier]=!0,i++;i=0;for(;i<s.length;)o[s[i].identifier]&&a.push(s[i]),e&(Sd|xd)&&delete o[s[i].identifier],i++;if(a.length)return[function(t,i,e){for(var n=[],r=[],o=0;o<t.length;){var s=i?t[o][i]:t[o];eg(r,s)<0&&n.push(t[o]),r[o]=s,o++}return n=e?i?n.sort(function(t,e){return t[i]>e[i]}):n.sort():n}(n.concat(a),"identifier",!0),a]}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Id,srcEvent:t})},i}(tg);var hg={mousedown:Pd,mousemove:2,mouseup:Sd},pg="mousedown",fg="mousemove mouseup",dg=function(e){function i(){var t=i.prototype;return t.evEl=pg,t.evWin=fg,(t=e.apply(this,arguments)||this).pressed=!1,t}return td(i,e),i.prototype.handler=function(t){var e=hg[t.type];e&Pd&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=Sd),this.pressed&&(e&Sd&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:bd,srcEvent:t}))},i}(tg),gg=2500,vg=25;function mg(t){var e,i,t=t.changedPointers[0];t.identifier===this.primaryTouch&&(e={x:t.clientX,y:t.clientY},i=this.lastTouches,this.lastTouches.push(e),setTimeout(function(){var t=i.indexOf(e);-1<t&&i.splice(t,1)},gg))}var yg=function(){return function(i){function t(t,e){var o=i.call(this,t,e)||this;return o.handler=function(t,e,i){var n=i.pointerType===Id,r=i.pointerType===bd;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)!function(t,e){t&Pd?(this.primaryTouch=e.changedPointers[0].identifier,mg.call(this,e)):t&(Sd|xd)&&mg.call(this,e)}.call(ed(ed(o)),e,i);else if(r&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],o=Math.abs(e-r.x),r=Math.abs(i-r.y);if(o<=vg&&r<=vg)return!0}return!1}.call(ed(ed(o)),i))return;o.callback(t,e,i)}},o.touch=new lg(o.manager,o.handler),o.mouse=new dg(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}return td(t,i),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(tg)}();function _g(t,e,i){return Array.isArray(t)&&(Vd(t,i[e],i),1)}var Eg=1;function Ig(t,e){e=e.manager;return e?e.get(t):t}function bg(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var Tg=function(){function t(t){this.options=Qf({enable:!0},t=void 0===t?{}:t),this.id=Eg++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return id(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(_g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Ig(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},e.dropRecognizeWith=function(t){return _g(t,"dropRecognizeWith",this)||(t=Ig(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(_g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===eg(e,t=Ig(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(_g(t,"dropRequireFailure",this))return this;t=Ig(t,this);t=eg(this.requireFail,t);return-1<t&&this.requireFail.splice(t,1),this},e.hasRequireFailures=function(){return 0<this.requireFail.length},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(e){var i=this,t=this.state;function n(t){i.manager.emit(t,e)}t<8&&n(i.options.event+bg(t)),n(i.options.event),e.additionalEvent&&n(e.additionalEvent),8<=t&&n(i.options.event+bg(t))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=32},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){t=id({},t);if(!zd(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),Pg=function(e){function t(t){return e.call(this,Qf({pointers:1},t=void 0===t?{}:t))||this}td(t,e);var i=t.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,n=6&e,t=this.attrTest(t);return n&&(i&xd||!t)?16|e:n||t?i&Sd?8|e:2&e?4|e:2:32},t}(Tg);var Sg=function(i){function t(t){return(t=i.call(this,Qf({event:"pan",threshold:10,pointers:1,direction:Rd},t=void 0===t?{}:t))||this).pX=null,t.pY=null,t}td(t,i);var e=t.prototype;return e.getTouchAction=function(){var t=this.options.direction,e=[];return t&Ld&&e.push(vd),t&Nd&&e.push(gd),e},e.directionTest=function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(n=e.direction&Ld?(r=0===o?Od:o<0?wd:Ad,i=o!==this.pX,Math.abs(t.deltaX)):(r=0===s?Od:s<0?Cd:Dd,i=s!==this.pY,Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},e.attrTest=function(t){return Pg.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},e.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e,e=(e=t.direction)===Dd?"down":e===Cd?"up":e===wd?"left":e===Ad?"right":"";e&&(t.additionalEvent=this.options.event+e),i.prototype.emit.call(this,t)},t}(Pg),xg={domEvents:!1,touchAction:pd,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Og(i,n){var r,o=i.element;o.style&&(Vd(i.options.cssProps,function(t,e){r=ud(o.style,e),n?(i.oldCssProps[r]=o.style[r],o.style[r]=t):o.style[r]=i.oldCssProps[r]||""}),n||(i.oldCssProps={}))}var wg=function(){function t(t,e){var i=this;this.options=id({},xg,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((t=this).options.inputClass||(_d?sg:Ed?lg:yd?yg:dg))(t,Kd),this.touchAction=new jd(this,this.options.touchAction),Og(this,!0),Vd(this.options.recognizers,function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}var e=t.prototype;return e.set=function(t){return id(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e,i=this.session;if(!i.stopped){this.touchAction.preventDefaults(t);var n=this.recognizers,r=i.curRecognizer;(!r||r&&8&r.state)&&(r=i.curRecognizer=null);for(var o=0;o<n.length;)e=n[o],2===i.stopped||r&&e!==r&&!e.canRecognizeWith(r)?e.reset():e.recognize(t),!r&&14&e.state&&(r=i.curRecognizer=e),o++}},e.get=function(t){if(t instanceof Tg)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(_g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},e.remove=function(t){if(_g(t,"remove",this))return this;var e=this.get(t);return!t||-1!==(e=eg(t=this.recognizers,e))&&(t.splice(e,1),this.touchAction.update()),this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return Vd($d(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return Vd($d(t),function(t){e?i[t]&&i[t].splice(eg(i[t],e),1):delete i[t]}),this},e.emit=function(t,e){var i,n,r;this.options.domEvents&&(i=t,n=e,(r=document.createEvent("Event")).initEvent(i,!0,!0),(r.gesture=n).target.dispatchEvent(r));var o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](e),s++}},e.destroy=function(){this.element&&Og(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}();function Ag(t,e){for(var i=t.length,n=0;n<i;++n)if(e(t[n],n))return!0;return!1}function Cg(t,e){for(var i=t.length,n=0;n<i;++n)if(e(t[n],n))return t[n];return null}function Dg(t,e){try{return new RegExp(t,"g").exec(e)}catch(t){return null}}function Lg(t){return t.replace(/_/g,".")}function Ng(t,i){var n=null,r="-1";return Ag(t,function(t){var e=Dg("("+t.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",i);return e&&!t.brand&&(n=t,r=e[3]||"-1",t.versionAlias?r=t.versionAlias:t.versionTest&&(t=t.versionTest.toLowerCase(),r=((t=Dg("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",t=i))?t[3]:"")||r),r=Lg(r),1)}),{preset:n,version:r}}function Rg(t,i){var n={brand:"",version:"-1"};return Ag(t,function(t){var e=Mg(i,t);return e&&(n.brand=t.id,n.version=t.versionAlias||e.version,"-1"!==n.version)}),n}function Mg(t,e){return Cg(t,function(t){t=t.brand;return Dg(""+e.test,t.toLowerCase())})}var kg=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],Vg=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],zg=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],Hg=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],jg=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"mac os x",id:"mac"},{test:"android",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Gg(t){var e=function(t){if(void 0===t){if("undefined"==typeof navigator||!navigator)return"";t=navigator.userAgent||""}return t.toLowerCase()}(t),i=!!/mobi/g.exec(e),n={name:"unknown",version:"-1",majorVersion:-1,webview:!!Ng(Hg,e).preset,chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},r={name:"unknown",version:"-1",majorVersion:-1},o=Ng(kg,e),s=o.preset,a=o.version,u=Ng(jg,e),t=u.preset,o=u.version,u=Ng(Vg,e);return n.chromium=!!u.preset,n.chromiumVersion=u.version,n.chromium||(e=Ng(zg,e),n.webkit=!!e.preset,n.webkitVersion=e.version),t&&(r.name=t.id,r.version=o,r.majorVersion=parseInt(o,10)),s&&(n.name=s.id,n.version=a,n.webview&&"ios"===r.name&&"safari"!==n.name&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:r,isMobile:i,isHints:!1}}function Bg(t){return void 0===t}var S=function(){function t(){this.options={},this._eventHandler={}}var e=t.prototype;return e.trigger=function(t){for(var e=arguments,i=this,n=[],r=1;r<arguments.length;r++)n[r-1]=e[r];if(!(0<(a=this._eventHandler[t]||[]).length))return!0;var o=n[0]||{},s=n.slice(1),a=a.concat(),u=!1;o.eventType=t,o.stop=function(){u=!0},o.currentTarget=this;var c=[o];return 1<=s.length&&(c=c.concat(s)),a.forEach(function(t){t.apply(i,c)}),!u},e.once=function(n,r){var o,s=this;if("object"==typeof n&&Bg(r)){var t,e=n;for(t in e)this.once(t,e[t]);return this}return"string"==typeof n&&"function"==typeof r&&this.on(n,o=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];r.apply(s,e),s.off(n,o)}),this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"==typeof t&&Bg(e)){var i,n=t;for(i in n)this.on(i,n[i]);return this}var r;return"string"==typeof t&&"function"==typeof e&&(Bg(r=this._eventHandler[t])&&(this._eventHandler[t]=[],r=this._eventHandler[t]),r.push(e)),this},e.off=function(t,e){var i,n;if(Bg(t))return this._eventHandler={},this;if(Bg(e)){if("string"==typeof t)return delete this._eventHandler[t],this;var r,o=t;for(r in o)this.off(r,o[r]);return this}var s=this._eventHandler[t];if(s){var a=0;try{for(var u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),c=u.next();!c.done;c=u.next()){if(c.value===e){s.splice(a,1);break}a++}}catch(t){i={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}}return this},t.VERSION="2.2.2",t}(),Fg=function(t,e){return(Fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var Ug=function(){return(Ug=Object.assign||function(t){for(var e,i=arguments,n=1,r=arguments.length;n<r;n++)for(var o in e=i[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Xg(t,e,i,n){e=[!i[0]&&n?e[0]-n[0]:e[0],!i[1]&&n?e[1]+n[1]:e[1]],t=Math.max(e[0],t);return t=Math.min(e[1],t)}function qg(t,e){return t<e[0]||t>e[1]}function Wg(t,e,i){return i[1]&&t>e[1]||i[0]&&t<e[0]}function Yg(t,e,i){var n=t,r=e[0],o=e[1],e=o-r;return i[1]&&o<t&&(n=(n-o)%e+r),n=i[0]&&t<r?(n-r)%e+o:n}function Kg(t){for(var e=[],i=0,n=t.length;i<n;i++)e.push(t[i]);return e}var $g,Zg,Jg,Qg=($g="undefined"==typeof window?{navigator:{userAgent:""}}:window).requestAnimationFrame||$g.webkitRequestAnimationFrame,tv=$g.cancelAnimationFrame||$g.webkitCancelAnimationFrame;function ev(t,e){var i,n={};for(i in t)i&&(n[i]=e(t[i],i));return n}function iv(t,e){var i,n={};for(i in t)i&&e(t[i],i)&&(n[i]=t[i]);return n}function nv(t,e){for(var i in t)if(i&&!e(t[i],i))return!1;return!0}function rv(t,i){return nv(t,function(t,e){return t===i[e]})}Qg&&!tv?(Zg={},Jg=Qg,Qg=function(e){var i=Jg(function(t){Zg[i]&&e(t)});return Zg[i]=!0,i},tv=function(t){delete Zg[t]}):Qg&&tv||(Qg=function(t){return $g.setTimeout(function(){t($g.performance&&$g.performance.now&&$g.performance.now()||(new Date).getTime())},16)},tv=$g.clearTimeout);var ov={};function sv(t,e){var i,n;return ov[e]||(ov[e]=(n=(i=e)<1?Math.pow(10,uv(i)):1,function(t){return 0===i?0:Math.round(Math.round(t/i)*i*n)/n})),ov[e](t)}function av(t,i){if(!t||!i)return t;var n="number"==typeof i;return ev(t,function(t,e){return sv(t,n?i:i[e])})}function uv(t){if(!isFinite(t))return 0;var e=t+"";if(0<=e.indexOf("e")){for(var i=0,n=1;Math.round(t*n)/n!==t;)n*=10,i++;return i}return 0<=e.indexOf(".")?e.length-e.indexOf(".")-1:0}function cv(t,e,i){return Math.max(Math.min(t,i),e)}var lv,hv=function(){function t(t){var e=t.options,i=t.itm,n=t.em,t=t.axm;this.options=e,this.itm=i,this.em=n,this.axm=t,this.animationEnd=this.animationEnd.bind(this)}var e=t.prototype;return e.getDuration=function(i,t,e){var n,r=this;return cv(void 0!==e?e:(n=ev(t,function(t,e){return t=Math.abs(t-i[e]),e=r.options.deceleration,(e=Math.sqrt(t/e*2))<100?0:e}),Object.keys(n).reduce(function(t,e){return Math.max(t,n[e])},-1/0)),this.options.minimumDuration,this.options.maximumDuration)},e.createAnimationParam=function(t,e,i){var n=this.axm.get(),r=t,t=i&&i.event||null;return{depaPos:n,destPos:r,duration:cv(e,this.options.minimumDuration,this.options.maximumDuration),delta:this.axm.getDelta(n,r),inputEvent:t,input:i&&i.input||null,isTrusted:!!t,done:this.animationEnd}},e.grab=function(t,e){var i;this._animateParam&&t.length&&(i=this.axm.get(t),nv(t=this.axm.map(i,function(t,e){return Yg(t,e.range,e.circular)}),function(t,e){return i[e]===t})||this.em.triggerChange(t,!1,i,e,!!e),this._animateParam=null,this._raf&&(t=this._raf,tv(t)),this._raf=null,this.em.triggerAnimationEnd(!(!e||!e.event)))},e.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},e.restore=function(t){var e=this.axm.get(),i=this.axm.map(e,function(t,e){return Math.min(e.range[1],Math.max(e.range[0],t))});this.animateTo(i,this.getDuration(e,i),t)},e.animationEnd=function(){var t=this.getEventInfo();this._animateParam=null;var e=this.axm.filter(this.axm.get(),function(t,e){return Wg(t,e.range,e.circular)});0<Object.keys(e).length&&this.setTo(this.axm.map(e,function(t,e){return Yg(t,e.range,e.circular)})),this.itm.setInterrupt(!1),this.em.triggerAnimationEnd(!!t),this.axm.isOutside()?this.restore(t):this.finish(!!t)},e.finish=function(t){this._animateParam=null,this.itm.setInterrupt(!1),this.em.triggerFinish(t)},e.animateLoop=function(s,a){var u,c,l,h,p,f,d,g;s.duration?(this._animateParam=Ug({},s),u=this._animateParam,c=this,l=u.destPos,h=u.depaPos,p=0,f=ev(h,function(t,e){return t<=l[e]?1:-1}),d=ev(l,function(t){return t}),g=(new Date).getTime(),u.startTime=g,function t(){c._raf=null;var e=(new Date).getTime(),r=(e-u.startTime)/s.duration,o=c.easing(r),i=c.axm.map(h,function(t,e,i){var n=1<=r?l[i]:t+u.delta[i]*(o-p),t=Yg(n,e.range,e.circular);return n!==t&&(e=f[i]*(e.range[1]-e.range[0]),l[i]-=e,h[i]-=e),t}),n=!c.em.triggerChange(i,!1,h);h=i,g=e,1<=(p=o)?(rv(l=c.getFinalPos(l,d),c.axm.get(Object.keys(l)))||c.em.triggerChange(l,!0,h),a()):n?c.finish(!1):c._raf=Qg(t)}()):(this.em.triggerChange(s.destPos,!0),a())},e.getFinalPos=function(t,i){var n=this;return ev(t,function(t,e){return t>=i[e]-1e-6&&t<=i[e]+1e-6?i[e]:sv(t,n.getRoundUnit(t,e))})},e.getRoundUnit=function(t,e){var i=this.options.round,n=null;return i||(e=this.axm.getAxisOptions(e),t=Math.max(uv(e.range[0]),uv(e.range[1]),uv(t)),n=1/Math.pow(10,t)),n||i},e.getUserControll=function(t){t=t.setTo();return t.destPos=this.axm.get(t.destPos),t.duration=cv(t.duration,this.options.minimumDuration,this.options.maximumDuration),t},e.animateTo=function(t,e,i){var n=this,r=this.createAnimationParam(t,e,i),t=Ug({},r.depaPos),e=this.em.triggerAnimationStart(r),r=this.getUserControll(r);!e&&this.axm.every(r.destPos,function(t,e){return Wg(t,e.range,e.circular)})&&console.warn("You can't stop the 'animation' event when 'circular' is true."),e&&!rv(r.destPos,t)&&(e=i&&i.event||null,this.animateLoop({depaPos:t,destPos:r.destPos,duration:r.duration,delta:this.axm.getDelta(t,r.destPos),isTrusted:!!e,inputEvent:e,input:i&&i.input||null},function(){return n.animationEnd()}))},e.easing=function(t){return 1<t?1:this.options.easing(t)},e.setTo=function(t,e){void 0===e&&(e=0);var i=Object.keys(t);this.grab(i);var n=this.axm.get(i);if(rv(t,n))return this;this.itm.setInterrupt(!0);t=iv(t,function(t,e){return n[e]!==t});return Object.keys(t).length&&(rv(t=this.axm.map(t,function(t,e){var i=e.range,e=e.circular;return e&&(e[0]||e[1])?t:Xg(t,i,e)}),n)||(0<e?this.animateTo(t,e):(this.em.triggerChange(t),this.finish(!1)))),this},e.setBy=function(i,t){return void 0===t&&(t=0),this.setTo(ev(this.axm.get(Object.keys(i)),function(t,e){return t+i[e]}),t)},t}(),pv=function(){function t(t){this.axes=t}var e=t.prototype;return e.triggerHold=function(t,e){t=this.getRoundPos(t).roundPos;this.axes.trigger("hold",{pos:t,input:e.input||null,inputEvent:e.event||null,isTrusted:!0})},e.triggerRelease=function(t){var e=this.getRoundPos(t.destPos,t.depaPos),i=e.roundPos,e=e.roundDepa;t.destPos=i,t.depaPos=e,t.setTo=this.createUserControll(t.destPos,t.duration),this.axes.trigger("release",t)},e.triggerChange=function(t,e,i,n,r){void 0===r&&(r=!1);var o=this.am,s=o.axm,o=o.getEventInfo(),t=this.getRoundPos(t,i),i=t.roundPos,t=t.roundDepa,i=s.moveTo(i,t),t=n&&n.event||o&&o.event||null,o={pos:i.pos,delta:i.delta,holding:r,inputEvent:t,isTrusted:!!t,input:n&&n.input||o&&o.input||null,set:t?this.createUserControll(i.pos):function(){}},i=this.axes.trigger("change",o);return t&&s.set(o.set().destPos),i},e.triggerAnimationStart=function(t){var e=this.getRoundPos(t.destPos,t.depaPos),i=e.roundPos,e=e.roundDepa;return t.destPos=i,t.depaPos=e,t.setTo=this.createUserControll(t.destPos,t.duration),this.axes.trigger("animationStart",t)},e.triggerAnimationEnd=function(t){this.axes.trigger("animationEnd",{isTrusted:t=void 0===t?!1:t})},e.triggerFinish=function(t){this.axes.trigger("finish",{isTrusted:t=void 0===t?!1:t})},e.createUserControll=function(t,e){void 0===e&&(e=0);var i={destPos:Ug({},t),duration:e};return function(t,e){return t&&(i.destPos=Ug({},t)),void 0!==e&&(i.duration=e),i}},e.setAnimationManager=function(t){this.am=t},e.destroy=function(){this.axes.off()},e.getRoundPos=function(t,e){var i=this.axes.options.round;return{roundPos:av(t,i),roundDepa:av(e,i)}},t}(),fv=function(){function t(t){this.options=t,this._prevented=!1}var e=t.prototype;return e.isInterrupting=function(){return this.options.interruptable||this._prevented},e.isInterrupted=function(){return!this.options.interruptable&&this._prevented},e.setInterrupt=function(t){this.options.interruptable||(this._prevented=t)},t}(),dv=function(){function t(t,e){var i=this;this.axis=t,this.options=e,this._complementOptions(),this._pos=Object.keys(this.axis).reduce(function(t,e){return t[e]=i.axis[e].range[0],t},{})}var e=t.prototype;return e._complementOptions=function(){var r=this;Object.keys(this.axis).forEach(function(n){r.axis[n]=Ug({range:[0,100],bounce:[0,0],circular:[!1,!1]},r.axis[n]),["bounce","circular"].forEach(function(t){var e=r.axis,i=e[n][t];/string|number|boolean/.test(typeof i)&&(e[n][t]=[i,i])})})},e.getDelta=function(t,e){var i=this.get(t);return ev(this.get(e),function(t,e){return t-i[e]})},e.get=function(t){var i=this;return t&&Array.isArray(t)?t.reduce(function(t,e){return e&&e in i._pos&&(t[e]=i._pos[e]),t},{}):Ug(Ug({},this._pos),t||{})},e.moveTo=function(i,n){void 0===n&&(n=this._pos);var t=ev(this._pos,function(t,e){return e in i&&e in n?i[e]-n[e]:0});return this.set(this.map(i,function(t,e){return e?Yg(t,e.range,e.circular):0})),{pos:Ug({},this._pos),delta:t}},e.set=function(t){for(var e in t)e&&e in this._pos&&(this._pos[e]=t[e])},e.every=function(t,i){var n=this.axis;return nv(t,function(t,e){return i(t,n[e],e)})},e.filter=function(t,i){var n=this.axis;return iv(t,function(t,e){return i(t,n[e],e)})},e.map=function(t,i){var n=this.axis;return ev(t,function(t,e){return i(t,n[e],e)})},e.isOutside=function(t){return!this.every(t?this.get(t):this._pos,function(t,e){return!qg(t,e.range)})},e.getAxisOptions=function(t){return this.axis[t]},t}(),gv=function(){function t(t){var e=t.options,i=t.itm,n=t.em,r=t.axm,t=t.am;this.isOutside=!1,this.moveDistance=null,this.isStopped=!1,this.options=e,this.itm=i,this.em=n,this.axm=r,this.am=t}var e=t.prototype;return e.atOutside=function(t){var o=this;if(this.isOutside)return this.axm.map(t,function(t,e){var i=e.range[0]-e.bounce[0],e=e.range[1]+e.bounce[1];return e<t?e:t<i?i:t});var s=this.am.easing(1e-5)/1e-5;return this.axm.map(t,function(t,e){var i=e.range[0],n=e.range[1],r=e.bounce,e=e.circular;return e&&(e[0]||e[1])?t:t<i?i-o.am.easing((i-t)/(r[0]*s))*r[0]:n<t?n+o.am.easing((t-n)/(r[1]*s))*r[1]:t})},e.get=function(t){return this.axm.get(t.axes)},e.hold=function(t,e){!this.itm.isInterrupted()&&t.axes.length&&(this.isStopped=!(e={input:t,event:e}),this.itm.setInterrupt(!0),this.am.grab(t.axes,e),this.moveDistance||this.em.triggerHold(this.axm.get(),e),this.isOutside=this.axm.isOutside(t.axes),this.moveDistance=this.axm.get(t.axes))},e.change=function(t,e,i){var n,r;this.isStopped||!this.itm.isInterrupting()||this.axm.every(i,function(t){return 0===t})||(r=ev(n=this.moveDistance||this.axm.get(t.axes),function(t,e){return t+(i[e]||0)}),this.moveDistance&&(this.moveDistance=r),this.isOutside&&this.axm.every(n,function(t,e){return!qg(t,e.range)})&&(this.isOutside=!1),n=this.atOutside(n),r=this.atOutside(r),this.em.triggerChange(r,!1,n,{input:t,event:e},!0)||(this.isStopped=!0,this.moveDistance=null,this.am.finish(!1)))},e.release=function(t,e,i,n){var r,o;!this.isStopped&&this.itm.isInterrupting()&&this.moveDistance&&(r=this.axm.get(t.axes),o=this.axm.get(),i=this.axm.get(this.axm.map(i,function(t,e,i){return e.circular&&(e.circular[0]||e.circular[1])?r[i]+t:Xg(r[i]+t,e.range,e.circular,e.bounce)})),i={depaPos:o,destPos:i=0===(n=this.am.getDuration(i,r,n))?Ug({},o):i,duration:n,delta:this.axm.getDelta(o,i),inputEvent:e,input:t,isTrusted:!0},this.em.triggerRelease(i),this.moveDistance=null,t={input:t,event:e},(i=rv((e=this.am.getUserControll(i)).destPos,o))||0===e.duration?(i||this.em.triggerChange(e.destPos,!1,o,t,!0),this.itm.setInterrupt(!1),this.axm.isOutside()?this.am.restore(t):this.em.triggerFinish(!0)):this.am.animateTo(e.destPos,e.duration,t))},t}(),vv="ontouchstart"in $g&&"safari"===(void 0===lv&&function(){if("undefined"!=typeof navigator&&navigator&&navigator.userAgentData){var t=navigator.userAgentData,t=t.brands||t.uaList;return t&&t.length}}()?function(t){var e=((r=navigator.userAgentData).uaList||r.brands).slice(),i=r.mobile||!1,n={name:(s=e[0]).brand,version:s.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!Rg(Hg,e).brand},r={name:"unknown",version:"-1",majorVersion:-1};n.webkit=!n.chromium&&Ag(zg,function(t){return Mg(e,t)});var o,s=Rg(Vg,e);n.chromium=!!s.brand,n.chromiumVersion=s.version,n.chromium||(s=Rg(zg,e),n.webkit=!!s.brand,n.webkitVersion=s.version),t&&(o=t.platform.toLowerCase(),a=Cg(jg,function(t){return new RegExp(""+t.test,"g").exec(o)}),r.name=a?a.id:o,r.version=t.platformVersion);var a=Rg(kg,e);return a.brand&&(n.name=a.brand,n.version=t?t.uaFullVersion:a.version),"Linux armv8l"===navigator.platform?r.name="android":n.webkit&&(r.name=i?"ios":"mac"),"ios"===r.name&&n.webview&&(n.version="-1"),r.version=Lg(r.version),n.version=Lg(n.version),r.majorVersion=parseInt(r.version,10),n.majorVersion=parseInt(n.version,10),{browser:n,os:r,isMobile:i,isHints:!0}}():Gg(lv)).browser.name,mv=function(){if("undefined"==typeof document)return"";for(var t=(document.head||document.getElementsByTagName("head")[0]).style,e=["transform","webkitTransform","msTransform","mozTransform"],i=0,n=e.length;i<n;i++)if(e[i]in t)return e[i];return""}(),yv=function(r){function t(){this.constructor=e}var e;function i(t,e,i){void 0===t&&(t={}),void 0===e&&(e={});var n=r.call(this)||this;return n.axis=t,n._inputs=[],n.options=Ug({easing:function(t){return 1-Math.pow(1-t,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4,round:null},e),n.itm=new fv(n.options),n.axm=new dv(n.axis,n.options),n.em=new pv(n),n.am=new hv(n),n.io=new gv(n),n.em.setAnimationManager(n.am),i&&n.em.triggerChange(i),n}Fg(e=i,n=r),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t);var n=i.prototype;return n.connect=function(t,e){var i="string"==typeof t?t.split(" "):t.concat();return~this._inputs.indexOf(e)&&this.disconnect(e),"hammer"in e&&((t=this._inputs.filter(function(t){return t.hammer&&t.element===e.element})).length&&(e.hammer=t[0].hammer)),e.mapAxes(i),e.connect(this.io),this._inputs.push(e),this},n.disconnect=function(t){return t?0<=(t=this._inputs.indexOf(t))&&(this._inputs[t].disconnect(),this._inputs.splice(t,1)):(this._inputs.forEach(function(t){return t.disconnect()}),this._inputs=[]),this},n.get=function(t){return this.axm.get(t)},n.setTo=function(t,e){return this.am.setTo(t,e=void 0===e?0:e),this},n.setBy=function(t,e){return this.am.setBy(t,e=void 0===e?0:e),this},n.isBounceArea=function(t){return this.axm.isOutside(t)},n.destroy=function(){this.disconnect(),this.em.destroy()},i.VERSION="2.8.0",i.TRANSFORM=mv,i.DIRECTION_NONE=Od,i.DIRECTION_LEFT=wd,i.DIRECTION_RIGHT=Ad,i.DIRECTION_UP=Cd,i.DIRECTION_DOWN=Dd,i.DIRECTION_HORIZONTAL=Ld,i.DIRECTION_VERTICAL=Nd,i.DIRECTION_ALL=Rd,i}(S),_v="PointerEvent"in $g||"MSPointerEvent"in $g,Ev="ontouchstart"in $g,Iv="_EGJS_AXES_INPUTTYPE_";function bv(n,t){return t.reduce(function(t,e,i){return n[i]&&(t[n[i]]=e),t},{})}function Tv(t,e,i){return i?!!(e===Rd||e&t&&i&t):!!(e&t)}var Pv=function(){function t(t,e){if(this.axes=[],this.hammer=null,this.element=null,this.panRecognizer=null,this.isRightEdge=!1,this.rightEdgeTimer=0,this.panFlag=!1,void 0===wg)throw new Error("The Hammerjs must be loaded before eg.Axes.PanInput.\nhttp://hammerjs.github.io/");this.element=function e(t,i){var n;return void 0===i&&(i=!1),"string"==typeof t?(n=t.match(/^<([a-z]+)\s*([^>]*)>/)?((n=document.createElement("div")).innerHTML=t,Kg(n.childNodes)):Kg(document.querySelectorAll(t)),i||(n=1<=n.length?n[0]:void 0)):t===$g||t.nodeName&&(1===t.nodeType||9===t.nodeType)?n=t:"jQuery"in $g&&t instanceof jQuery||t.constructor.prototype.jquery?n=i?t.toArray():t.get(0):Array.isArray(t)&&(n=t.map(function(t){return e(t)}),i||(n=1<=n.length?n[0]:void 0)),n}(t),this.options=Ug({inputType:["touch","mouse","pointer"],scale:[1,1],thresholdAngle:45,threshold:0,iOSEdgeSwipeThreshold:30,releaseOnScroll:!1,hammerManagerOptions:{cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",userDrag:"none"}}},e),this.onHammerInput=this.onHammerInput.bind(this),this.onPanmove=this.onPanmove.bind(this),this.onPanend=this.onPanend.bind(this)}var e=t.prototype;return e.mapAxes=function(t){var e=!!t[0],i=!!t[1];this._direction=e&&i?Rd:e?Ld:i?Nd:Od,this.axes=t},e.connect=function(t){var e,i,n,r={direction:this._direction,threshold:this.options.threshold};if(this.hammer)this.removeRecognizer(),this.dettachEvent();else{var o=(o=this.element[Iv])||String(Math.round(Math.random()*(new Date).getTime())),s=(s=this.options.inputType,n=i=e=!1,(s=void 0===s?[]:s).forEach(function(t){switch(t){case"mouse":i=!0;break;case"touch":e=Ev;break;case"pointer":n=_v}}),n?sg:e&&i?yg:e?lg:i?dg:null);if(!s)throw new Error("Wrong inputType parameter!");this.hammer=function(t,e){try{return new wg(t,Ug({},e))}catch(t){return null}}(this.element,Ug({inputClass:s},this.options.hammerManagerOptions)),this.element[Iv]=o}return this.panRecognizer=new Sg(r),this.hammer.add(this.panRecognizer),this.attachEvent(t),this},e.disconnect=function(){return this.removeRecognizer(),this.hammer&&this.dettachEvent(),this._direction=Od,this},e.destroy=function(){this.disconnect(),this.hammer&&0===this.hammer.recognizers.length&&this.hammer.destroy(),delete this.element[Iv],this.element=null,this.hammer=null},e.enable=function(){return this.hammer&&(this.hammer.get("pan").options.enable=!0),this},e.disable=function(){return this.hammer&&(this.hammer.get("pan").options.enable=!1),this},e.isEnable=function(){return!(!this.hammer||!this.hammer.get("pan").options.enable)},e.removeRecognizer=function(){this.hammer&&this.panRecognizer&&(this.hammer.remove(this.panRecognizer),this.panRecognizer=null)},e.onHammerInput=function(t){var e;this.isEnable()&&(t.isFirst?(this.panFlag=!1)!==t.srcEvent.cancelable&&(e=this.options.iOSEdgeSwipeThreshold,this.observer.hold(this,t),this.isRightEdge=vv&&t.center.x>window.innerWidth-e,this.panFlag=!0):t.isFinal&&this.onPanend(t))},e.onPanmove=function(t){var e=this;if(this.panFlag){var i,n=this.options,r=n.iOSEdgeSwipeThreshold,o=n.releaseOnScroll,n=(i=t.angle,(n=this.options.thresholdAngle)<0||90<n?Od:(i=Math.abs(i),n<i&&i<180-n?Nd:Ld)),s=this.hammer.session.prevInput;if(!o||t.srcEvent.cancelable){if(s&&vv){if(t.center.x<0)return void this.onPanend(Ug(Ug({},s),{velocityX:0,velocityY:0,offsetX:0,offsetY:0}));this.isRightEdge&&(clearTimeout(this.rightEdgeTimer),t.deltaX<-r?this.isRightEdge=!1:this.rightEdgeTimer=window.setTimeout(function(){e.onPanend(Ug(Ug({},s),{velocityX:0,velocityY:0,offsetX:0,offsetY:0}))},100))}s?(t.offsetX=t.deltaX-s.deltaX,t.offsetY=t.deltaY-s.deltaY):(t.offsetX=0,t.offsetY=0);o=this.getOffset([t.offsetX,t.offsetY],[Tv(Ld,this._direction,n),Tv(Nd,this._direction,n)]),r=o.some(function(t){return 0!==t});r&&(!1!==(n=t.srcEvent).cancelable&&n.preventDefault(),n.stopPropagation()),(t.preventSystemEvent=r)&&this.observer.change(this,t,bv(this.axes,o))}else this.onPanend(Ug(Ug({},t),{velocityX:0,velocityY:0,offsetX:0,offsetY:0}))}},e.onPanend=function(t){var e,i,n,r;this.panFlag&&(clearTimeout(this.rightEdgeTimer),this.panFlag=!1,e=this.getOffset([Math.abs(t.velocityX)*(t.deltaX<0?-1:1),Math.abs(t.velocityY)*(t.deltaY<0?-1:1)],[Tv(Ld,this._direction),Tv(Nd,this._direction)]),i=e,n=this.observer.options.deceleration,r=Math.sqrt(i[0]*i[0]+i[1]*i[1]),n=Math.abs(r/-n),e=[i[0]/2*n,i[1]/2*n],this.observer.release(this,t,bv(this.axes,e)))},e.attachEvent=function(t){this.observer=t,this.hammer.on("hammer.input",this.onHammerInput).on("panstart panmove",this.onPanmove)},e.dettachEvent=function(){this.hammer.off("hammer.input",this.onHammerInput).off("panstart panmove",this.onPanmove),this.observer=null},e.getOffset=function(t,e){var i=[0,0],n=this.options.scale;return e[0]&&(i[0]=t[0]*n[0]),e[1]&&(i[1]=t[1]*n[1]),i},t}();
  /*
    Copyright (c) 2017 NAVER Corp.
    @egjs/flicking project is licensed under the MIT <https://naver.github.io/egjs/license.txt> license

    @egjs/flicking JavaScript library
    https://github.com/naver/egjs-flicking

    @version 2.4.4
    */function Sv(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}var xv,Ov=(xv="undefined"==typeof window?{document:{},navigator:{userAgent:""}}:window).document,wv={$:function(t){var e,i=null;return"string"==typeof t?(e=t.match(/^<([a-z]+)\s*([^>]*)>/))?(i=Ov.createElement(e[1]),3===e.length&&e[2].split(" ").forEach(function(t){t=t.split("=");i.setAttribute(t[0],t[1].trim().replace(/(^["']|["']$)/g,""))})):(i=Ov.querySelectorAll(t)).length?1===i.length&&(i=i[0]):i=null:t.nodeName&&1===t.nodeType&&(i=t),i},toArray:function(t){return[].slice.call(t)},isArray:function(t){return t&&t.constructor===Array},isObject:function(t){return t&&!t.nodeType&&"object"==typeof t&&!this.isArray(t)},extend:function(i){for(var t=arguments,n=this,e=arguments.length,r=new Array(1<e?e-1:0),o=1;o<e;o++)r[o-1]=t[o];if(!r.length||1===r.length&&!r[0])return i;var s=r.shift();return this.isObject(i)&&this.isObject(s)&&Object.keys(s).forEach(function(t){var e=s[t];n.isObject(e)?(i[t]||(i[t]={}),i[t]=n.extend(i[t],e)):i[t]=n.isArray(e)?e.concat():e}),this.extend.apply(this,[i].concat(r))},css:function(t,e,i){if("string"==typeof e){var n=t.style[e];return n&&"auto"!==n&&(!/\d/.test(n)||/\d(px)?$/.test(n))||(n=xv.getComputedStyle(t)[e]),i?this.getNumValue(n):n}function r(e,i){return Object.keys(i).forEach(function(t){e[t]=i[t]})}return this.isArray(t)?t.forEach(function(t){return r(t.style,e)}):r(t.style,e),t},classList:function(t,e,i){var n,r="boolean"==typeof i;return t.classList?n=t.classList[r&&(i?"add":"remove")||"contains"](e):(n=t.className,r?i&&-1===n.indexOf(e)?n=t.className=(n+" "+e).replace(/\s{2,}/g," "):i||(n=t.className=n.replace(e,"")):n=new RegExp("\\b"+e+"\\b").test(n)),n},getNumValue:function(t,e){return isNaN(t=parseFloat(t))?e:t},getUnitValue:function(t){return(parseFloat(t)||0)+(String(t).match(/(?:[a-z]{2,}|%)$/)||"px")},getOuter:function(i,t){var n=this,r=0;return("outerWidth"===t?["Left","Right"]:["Top","Bottom"]).forEach(function(e){["padding","margin"].forEach(function(t){r+=n.css(i,""+t+e,!0)})}),this.css(i,t.replace("outer","").toLocaleLowerCase(),!0)+r},outerWidth:function(t){return this.getOuter(t,"outerWidth")},outerHeight:function(t){return this.getOuter(t,"outerHeight")},translate:function(t,e,i){return i?"translate3d("+t+","+e+",0)":"translate("+t+","+e+")"},hasClickBug:function(){var t=xv.navigator.userAgent,e=/iPhone|iPad/.test(t);return this.hasClickBug=function(){return e},e}},Av=function(){function t(t){this.superclass=t||function(){return function(){}}()}return t.prototype.with=function(){for(var t=arguments,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=t[n];return i.reduce(function(t,e){return e(t)},this.superclass)},t}(),Cv={beforeFlickStart:"beforeFlickStart",beforeRestore:"beforeRestore",flick:"flick",flickEnd:"flickEnd",restore:"restore"},Dv={name:"transform"};Dv.support=function(){if(!Ov.documentElement)return!1;var t=Ov.documentElement.style;return Dv.name in t||(Dv.name="webkitTransform")in t}();function Lv(t){return function(t){function e(){return t.apply(this,arguments)||this}Sv(e,t);var i=e.prototype;return i._holdHandler=function(t){var e=this._conf,i=e.touch,t=t.pos.flick;i.holdPos=t,i.holding=!0,i.isTrusted=!0,e.panel.changed=!1,this._adjustContainerCss("start",t)},i._changeHandler=function(t){var e,i,n=this._conf,r=n.touch,o=t.pos.flick,s=r.holdPos,a=null;this._setPointerEvents(t),t.inputEvent?(e=t.inputEvent.direction,i=t.inputEvent[this.options.horizontal?"deltaX":"deltaY"],~n.dirData.indexOf(e)||(e=n.dirData[+(Math.abs(r.lastPos)<=i)]),r.lastPos=i):r.lastPos=null,(a=n.customEvent.flick?this._triggerEvent(Cv.flick,{pos:o,holding:t.holding,direction:e||r.direction,distance:r.isTrusted?o-s:null}):a)||null===a?this._setTranslate([-o,0]):(t.stop(),r.distance=0,r.direction=null,r.destPos=0,r.holding=!1,r.isTrusted=!1,this._adjustContainerCss("end"),this._setPointerEvents(),this._setPhaseValue("end"))},i._releaseHandler=function(t){var e=this._conf,i=e.touch,n=i.holdPos,r=e.panel.size,o=e.customEvent,s=i.holdPos<t.depaPos.flick;i.distance=t.depaPos.flick-n,i.direction=e.dirData[+!s],i.destPos=n+(s?r:-r);s=i.distance,r=this.options.duration;this._isMovable()?(o.restoreCall||(o.restore=!1),n=i.destPos):0<Math.abs(s)?this._triggerBeforeRestore(t):r=0,t.setTo({flick:n},r),0===s&&this._adjustContainerCss("end"),i.holding=!1,this._setPointerEvents()},i._animationStartHandler=function(t){var e=this._conf,i=e.panel,n=e.customEvent,r=t.inputEvent||e.touch.lastPos;!n.restoreCall&&r&&!1===this._setPhaseValue("start",{depaPos:t.depaPos.flick,destPos:t.destPos.flick})&&t.stop(),r&&(t.duration=this.options.duration,t.destPos.flick=i.size*(i.index+e.indexToMove)),i.animating=!0},i._animationEndHandler=function(){var t=this._conf;t.panel.animating=!1,this._setPhaseValue("end"),this._triggerRestore(),t.touch.isTrusted=!1},e}(t)}var Nv,Rv=xv.CSS&&xv.CSS.supports&&xv.CSS.supports("will-change","transform"),Mv=/Android 2\./.test(xv.navigator.userAgent),kv="data-height",Vv={panel:{$list:null,index:0,no:0,currIndex:0,currNo:0,size:0,count:0,origCount:0,changed:!1,animating:!1,minCount:3},touch:{holdPos:0,destPos:0,distance:0,direction:null,lastPos:0,holding:!1,isTrusted:!1},customEvent:{flick:!0,restore:!1,restoreCall:!1},dirData:[],indexToMove:0,$dummyAnchor:null},zv={hwAccelerable:!0,prefix:"eg-flick",deceleration:6e-4,horizontal:!0,circular:!1,previewPadding:null,bounce:null,threshold:40,duration:100,panelEffect:function(t){return 1-Math.pow(1-t,3)},defaultIndex:0,inputType:["touch","mouse"],thresholdAngle:45,adaptiveHeight:!1,zIndex:2e3,useTranslate:!0},Hv=function(){var t=function(r){function t(t,e,i){var n=r.call(this)||this;n.$wrapper=wv.$(t),n.plugins=[];t=n.$wrapper&&n.$wrapper.children;if(!n.$wrapper||!t||!t.length)throw new Error("Given base element doesn't exist or it hasn't proper DOM structure to be initialized.");return n._setOptions(e),n._setConfig(t,i),wv.hasClickBug()||(n._setPointerEvents=function(){}),n._build(),n._bindEvents(!0),n._applyPanelsCss(),n._arrangePanels(),n.options.hwAccelerable&&Rv&&n._setHint(),n.options.adaptiveHeight&&n._setAdaptiveHeight(),n._adjustContainerCss("end"),n}Sv(t,r);var e=t.prototype;return e._setOptions=function(t){var e,i={previewPadding:[0,0],bounce:[10,10]};for(e in this.options=wv.extend(wv.extend({},zv),i,t),i){var n=this.options[e];/(number|string)/.test(typeof n)?n=[n,n]:wv.isArray(n)||(n=i[e]),this.options[e]=n}Mv&&(this.options.useTranslate=!1)},e._setConfig=function(t,e){var i=this.options,n=i.previewPadding;wv.classList((t=t)[0],i.prefix+"-container")&&(t=t[0],t=(this.$container=t).children);var t=wv.toArray(t),r=this._conf=wv.extend(wv.extend({},Vv),{panel:{$list:t,minCount:0<n[0]+n[1]?5:3},origPanelStyle:{wrapper:{className:this.$wrapper.getAttribute("class")||null,style:this.$wrapper.getAttribute("style")||null},container:{className:this.$container&&this.$container.getAttribute("class")||null,style:this.$container&&this.$container.getAttribute("style")||null},list:t.map(function(t){return{className:t.getAttribute("class")||null,style:t.getAttribute("style")||null}})},useLayerHack:i.hwAccelerable&&!Rv,eventPrefix:e||""});[["LEFT","RIGHT"],["UP","DOWN"]][+!i.horizontal].forEach(function(t){return r.dirData.push(yv["DIRECTION_"+t])})},e._build=function(){var t=this._conf.panel,e=this.options,i=t.$list,n=e.previewPadding.concat(),r=e.prefix,o=e.horizontal,s=t.count=t.origCount=i.length,a=e.bounce;this._setPadding(n,!0);var u,c=this._getDataByDirection([t.size,"100%"]),n={position:"relative",zIndex:e.zIndex||2e3,width:"100%",height:"100%"};o&&(n.top="0px"),this.$container?wv.css(this.$container,n):(o=i[0].parentNode,(u=Ov.createElement("div")).className=r+"-container",wv.css(u,n),i.forEach(function(t){return u.appendChild(t)}),o.appendChild(u),this.$container=u),i.forEach(function(t){wv.classList(t,r+"-panel",!0),wv.css(t,{position:"absolute",width:wv.getUnitValue(c[0]),height:wv.getUnitValue(c[1]),boxSizing:"border-box",top:0,left:0})}),this._addClonePanels()&&(s=t.count=(t.$list=wv.toArray(this.$container.children)).length),this._axesInst=new yv({flick:{range:[0,t.size*(s-1)],bounce:a}},{easing:e.panelEffect,deceleration:e.deceleration,interruptable:!1}),this._setDefaultPanel(e.defaultIndex)},e._setPadding=function(t,e){var i=this.$wrapper,n=this.options.horizontal,r=this._conf.panel,o={};!t.reduce(function(t,e){return parseFloat(t)+parseFloat(e)})&&e||(n&&t.reverse(),o.padding=(n?"0 ":"")+t.map(function(t){return isNaN(t)?t:t+"px"}).join(" 0 ")),e&&(o.overflow="hidden",o.boxSizing="border-box"),Object.keys(o).length&&wv.css(i,o);o=n?["Left","Right"]:["Top","Bottom"],n=Math.max(i["offset"+(n?"Width":"Height")],wv.css(i,n?"width":"height",!0));r.size=n-(wv.css(i,"padding"+o[0],!0)+wv.css(i,"padding"+o[1],!0))},e._addClonePanels=function(){var t,e=this,i=this._conf.panel,n=i.origCount,r=i.minCount-n,o=i.$list;if(this.options.circular&&n<i.minCount){for(t=o.map(function(t){return t.cloneNode(!0)});t.length<r;)t=t.concat(o.map(function(t){return t.cloneNode(!0)}));return t.forEach(function(t){return e.$container.appendChild(t)}),!!t.length}return!1},e._movePanelPosition=function(t,e){var i=this._conf.panel,n=i.$list,t=n.splice(e?0:i.count-t,t);i.$list=e?n.concat(t):t.concat(n)},e._setDefaultPanel=function(t){var e,i=this._conf.panel,n=i.count-1;this.options.circular?(0<t&&t<=n&&this._movePanelPosition(t,!0),e=this._getBasePositionIndex(),this._movePanelPosition(e,!1),this._setPanelNo({no:t,currNo:t})):0<t&&t<=n&&(this._setPanelNo({index:t,no:t,currIndex:t,currNo:t}),t=[-i.size*t,0],this._setTranslate(t),this._setAxes("setTo",Math.abs(t[0]),0))},e._arrangePanels=function(t,e){var i=this._conf,n=i.panel,r=i.touch,o=i.dirData;this.options.circular&&(i.customEvent.flick=!1,t&&(e&&(r.direction=o[+!(0<e)]),this._arrangePanelPosition(r.direction,e)),e=this._getBasePositionIndex(),this._setPanelNo({index:e,currIndex:e}),i.customEvent.flick=!!this._setAxes("setTo",n.size*n.index,0)),this._applyPanelsPos()},e._applyPanelsPos=function(){this._conf.panel.$list.forEach(this._applyPanelsCss.bind(this))},e._setMoveStyle=function(t,e){var i=Dv,n=this._conf.useLayerHack;this._setMoveStyle=i.support?function(t,e){wv.css(t,((t={})[i.name]=wv.translate(e[0],e[1],n),t))}:function(t,e){wv.css(t,{left:e[0],top:e[1]})},this._setMoveStyle(t,e)},e._applyPanelsCss=function(){var t=this._conf,e="__dummy_anchor";this.options.useTranslate?this._applyPanelsCss=function(t,e){e=this._getDataByDirection([Dv.support?100*e+"%":this._conf.panel.size*e+"px",0]);this._setMoveStyle(t,e)}:(Mv&&(t.$dummyAnchor=wv.$("."+e),t.$dummyAnchor||this.$wrapper.appendChild(t.$dummyAnchor=wv.$('<a href="javascript:void(0)" class="'+e+'" style="position:absolute;height:0px;width:0px">'))),this._applyPanelsCss=function(t,e){e=this._getDataByDirection([this._conf.panel.size*e+"px",0]);wv.css(t,{left:e[0],top:e[1]})})},e._adjustContainerCss=function(t,e){var i=this._conf,n=i.panel,r=this.options,o=r.useTranslate,s=r.horizontal,a=r.previewPadding[0],r=this.$container,e=e;o||(e=e||-n.size*n.index,"start"===t?(r=r.style,n=parseFloat(r[s?"left":"top"]),s?n&&(r.left="0px"):n!==a&&(r.top="0px"),this._setTranslate([-e,0])):"end"===t&&(e=this._getCoordsValue([e,0]),wv.css(r,((e={left:e.x,top:e.y})[Dv.name]=wv.translate(0,0,i.useLayerHack),e)),i.$dummyAnchor&&i.$dummyAnchor.focus()))},e._setAxes=function(t,e,i){return this._axesInst[t]({flick:e},i)},e._setHint=function(){var t={willChange:"transform"};wv.css(this.$container,t),wv.css(this._conf.panel.$list,t)},e._getDataByDirection=function(t){t=t.concat();return this.options.horizontal||t.reverse(),t},e._arrangePanelPosition=function(t,e){t=t===this._conf.dirData[0];this._movePanelPosition(Math.abs(e||1),t)},e._getBasePositionIndex=function(){return Math.floor(this._conf.panel.count/2-.1)},e._bindEvents=function(t){var e=this.options,i=this.$wrapper,n=this._axesInst;t?(this._panInput=new Pv(i,{inputType:e.inputType,thresholdAngle:e.thresholdAngle,scale:this._getDataByDirection([-1,0])}),n.on({hold:this._holdHandler.bind(this),change:this._changeHandler.bind(this),release:this._releaseHandler.bind(this),animationStart:this._animationStartHandler.bind(this),animationEnd:this._animationEndHandler.bind(this)}).connect(this._getDataByDirection(["flick",""]),this._panInput)):(this.disableInput(),n.off())},e._setAdaptiveHeight=function(t){var e=this._conf,i=e.indexToMove,n=0===i?this["get"+((t===yv.DIRECTION_LEFT?"Next":t===yv.DIRECTION_RIGHT&&"Prev")||"")+"Element"]():e.panel.$list[e.panel.currIndex+i],t=n.querySelector(":first-child");t&&((e=t.getAttribute(kv))||(i=n.children,0<(e=wv.outerHeight(1<i.length?(n.style.height="auto",n):t))&&t.setAttribute(kv,e)),0<e&&(this.$wrapper.style.height=e+"px"))},e._triggerBeforeRestore=function(t){var e=this._conf,i=e.touch;i.direction=+e.dirData.join("").replace(i.direction,""),e.customEvent.restore=this._triggerEvent(Cv.beforeRestore,{depaPos:t.depaPos.flick,destPos:t.destPos.flick}),e.customEvent.restore||("stop"in t&&t.stop(),e.panel.animating=!1)},e._triggerRestore=function(){var t=this._conf.customEvent;t.restore&&this._triggerEvent(Cv.restore),t.restore=t.restoreCall=!1},e._setPhaseValue=function(t,e){var i=this._conf,n=this.options,r=i.panel,o=n.useTranslate;if("start"===t&&(r.changed=this._isMovable())){if(!this._triggerEvent(Cv.beforeFlickStart,e))return r.changed=r.animating=!1;n.adaptiveHeight&&this._setAdaptiveHeight(i.touch.direction),0===i.indexToMove&&this._setPanelNo()}else"end"===t&&(n.circular&&r.changed&&this._arrangePanels(!0,i.indexToMove),o&&this._setTranslate([-r.size*r.index,0]),i.touch.distance=i.indexToMove=0,r.changed&&this._triggerEvent(Cv.flickEnd));return this._adjustContainerCss(t),!0},e._getNumByDirection=function(){var t=this._conf;return t.touch.direction===t.dirData[0]?1:-1},e._revertPanelNo=function(){var t=this._conf.panel,e=this._getNumByDirection(),i=0<=t.currIndex?t.currIndex:t.index-e,e=0<=t.currNo?t.currNo:t.no-e;this._setPanelNo({index:i,no:e})},e._setPanelNo=function(t){var e=this._conf.panel,i=e.origCount-1,n=this._getNumByDirection();if(wv.isObject(t))for(var r in t)e[r]=t[r];else e.currIndex=e.index,e.currNo=e.no,e.index+=n,e.no+=n;e.no>i?e.no=0:e.no<0&&(e.no=i)},e._setPointerEvents=function(t){var e,i=this.$container,n=wv.css(i,"pointerEvents");t&&t.holding&&t.inputEvent&&t.inputEvent.preventSystemEvent&&"none"!==n?e="none":t||"auto"===n||(e="auto"),e&&wv.css(i,{pointerEvents:e})},e._getCoordsValue=function(t){t=this._getDataByDirection(t);return{x:wv.getUnitValue(t[0]),y:wv.getUnitValue(t[1])}},e._setTranslate=function(t){t=this._getCoordsValue(t);this._setMoveStyle(this.$container,[t.x,t.y])},e._isMovable=function(){var t=this.options,e=this._axesInst,i=Math.abs(this._conf.touch.distance)>=t.threshold;return!(!t.circular&&i&&(t=e.axis.flick.range[1],(e=e.get().flick)<0||t<e))&&i},e._triggerEvent=function(t,e){var i=this._conf,n=i.panel;return t===Cv.flickEnd&&(n.currNo=n.no,n.currIndex=n.index),this.trigger(i.eventPrefix+t,wv.extend({eventType:t,no:n.currNo,direction:i.touch.direction,isTrusted:i.touch.isTrusted},e))},e._getElement=function(t,e,i){var n,r=this._conf.panel,o=this.options.circular,s=r.currIndex,a=t===this._conf.dirData[0],u=null,t=i?(n=r.count,s):(n=r.origCount,r.currNo),i=t;return a?t<n-1?t++:o&&(t=0):0<t?t--:o&&(t=n-1),u=i!==t?e?r.$list[a?s+1:s-1]:t:u},e._setValueToMove=function(t){var e=this._conf;e.touch.distance=this.options.threshold+1,e.touch.direction=e.dirData[+!t]},e.getIndex=function(t){return this._conf.panel[t?"currIndex":"currNo"]},e.getElement=function(){var t=this._conf.panel;return t.$list[t.currIndex]},e.getNextElement=function(){return this._getElement(this._conf.dirData[0],!0)},e.getNextIndex=function(t){return this._getElement(this._conf.dirData[0],!1,t)},e.getAllElements=function(){return this._conf.panel.$list},e.getPrevElement=function(){return this._getElement(this._conf.dirData[1],!0)},e.getPrevIndex=function(t){return this._getElement(this._conf.dirData[1],!1,t)},e.isPlaying=function(){return this._conf.panel.animating},e._movePanelByPhase=function(t,e,i){i=wv.getNumValue(i,this.options.duration);!1!==this._setPhaseValue("start")&&(this._setAxes(t,e,i),i||this._setPhaseValue("end"))},e.next=function(t){var e=this.getNextIndex();return"number"!=typeof e?this:this._moveTo(e,t,yv.DIRECTION_RIGHT)},e.prev=function(t){var e=this.getPrevIndex();return"number"!=typeof e?this:this._moveTo(e,t,yv.DIRECTION_LEFT)},e.moveTo=function(t,e){return this._moveTo(t,e)},e._moveTo=function(t,e,i){var n=this._conf,r=n.panel,o=this.options.circular,s=r.index,t=t;return(t=wv.getNumValue(t,-1))<0||t>=r.origCount||t===r.no||r.animating||n.touch.holding||(n=t-(o?r.no:s),i===yv.DIRECTION_RIGHT&&n<0?n+=r.origCount:i===yv.DIRECTION_LEFT&&0<n&&(n-=r.origCount),i=0<n,o&&Math.abs(n)>(i?r.count-(s+1):s)&&(i=0<(n+=(i?-1:1)*r.count)),this._setPanelNo(o?{no:t}:{no:t,index:t}),this._conf.indexToMove=n,this._setValueToMove(i),this._movePanelByPhase(o?"setBy":"setTo",r.size*(o?n:t),e)),this},e.resize=function(){var t,e=this._conf,i=this.options,n=e.panel,r=i.horizontal,o=i.useTranslate;return this.isPlaying()||(wv.isArray(i.previewPadding)&&"number"==typeof+i.previewPadding.join("")?(this._setPadding(i.previewPadding.concat()),t=n.size):r&&(t=n.size=wv.css(this.$wrapper,"width",!0)),wv.css(n.$list,((e={})[r?"width":"height"]=wv.getUnitValue(t),e)),!i.adaptiveHeight||(i=this.$container.querySelectorAll("["+kv+"]")).length&&(wv.toArray(i).forEach(function(t){return t.removeAttribute(kv)}),this._setAdaptiveHeight()),this._axesInst.axis.flick.range=[0,t*(n.count-1)],this._setAxes("setTo",t*n.index,0),o||(this._applyPanelsPos(),this._adjustContainerCss("end"))),this},e.restore=function(t){var e=this._conf,i=e.panel,n=this._axesInst.get().flick,r=t;return n!==i.currIndex*i.size?(e.customEvent.restoreCall=!0,r=wv.getNumValue(r,this.options.duration),this._revertPanelNo(),t=i.size*i.index,this._triggerBeforeRestore({depaPos:n,destPos:t}),this._setAxes("setTo",t,r),r||(this._adjustContainerCss("end"),this._triggerRestore())):i.changed&&(this._revertPanelNo(),e.touch.distance=e.indexToMove=0),this},e.enableInput=function(){return this._panInput.enable(),this},e.disableInput=function(){return this._panInput.disable(),this},e.getStatus=function(t){var e=this._conf.panel,i=/((?:-webkit-)?transform|left|top|will-change|box-sizing|width):[^;]*;/g,e={panel:{index:e.index,no:e.no,currIndex:e.currIndex,currNo:e.currNo},$list:e.$list.map(function(t){return{style:t.style.cssText.replace(i,"").trim(),className:t.className,html:t.innerHTML}})};return t?JSON.stringify(e):e},e.setStatus=function(t){var e=this._conf.panel,i=this.options.adaptiveHeight,r="string"==typeof t?JSON.parse(t):t;if(r){for(var n in r.panel)n in e&&(e[n]=r.panel[n]);e.$list.forEach(function(t,e){var i=r.$list[e],n=i.style,e=i.className,i=i.html;n&&(t.style.cssText+=n),e&&(t.className=e),i&&(t.innerHTML=i)}),i&&this._setAdaptiveHeight()}},e.destroy=function(){var e=this,t=this._conf.origPanelStyle,i=t.wrapper,n=t.container,r=t.list;this._bindEvents(!1),this.off(),this._axesInst.destroy(),this._panInput.destroy();var o=this.$wrapper;o.setAttribute("class",i.className),o[i.style?"setAttribute":"removeAttribute"]("style",i.style);var i=this.$container,s=[].slice.call(i.children);t.container.className?(i.setAttribute("class",n.className),i[n.style?"setAttribute":"removeAttribute"]("style",n.style)):(s.forEach(function(t){return o.appendChild(t)}),i.parentNode.removeChild(i));for(var a,u,c,l,h=0;a=s[h];h++)h>r.length-1?a.parentNode.removeChild(a):(u=r[h].className,c=r[h].style,a[u?"setAttribute":"removeAttribute"]("class",u),a[c?"setAttribute":"removeAttribute"]("style",c));for(l in this.plugins.forEach(function(t){e.plugins[t].$componentWillUnmount()}),this)this[l]=null},e.plugin=function(t){var i=this;return t.forEach(function(e){0===i.plugins.filter(function(t){return t.constructor===e.constructor}).length&&i.plugins.push(e.$componentWillMount(i))}),this},t}(new Av(Hi).with(Lv));return t.utils=wv,t.VERSION="2.4.4",t.consts={EVENTS:Cv,TRANSFORM:Dv,SUPPORT_WILLCHANGE:Rv,IS_ANDROID2:Mv},t.DIRECTION_NONE=yv.DIRECTION_NONE,t.DIRECTION_LEFT=yv.DIRECTION_LEFT,t.DIRECTION_RIGHT=yv.DIRECTION_RIGHT,t.DIRECTION_UP=yv.DIRECTION_UP,t.DIRECTION_DOWN=yv.DIRECTION_DOWN,t.DIRECTION_HORIZONTAL=yv.DIRECTION_HORIZONTAL,t.DIRECTION_VERTICAL=yv.DIRECTION_VERTICAL,t.DIRECTION_ALL=yv.DIRECTION_ALL,t}();(S=Nv=Nv||{})[S.Next=2]="Next",S[S.Prev=4]="Prev";var jv,Gv=(Li(Bv,jv=Hi),Bv.prototype._initFlicking=function(){var i=this,t=new Hv(this.elRoot,this._options);t.on({beforeFlickStart:function(t){i.trigger("beforeFlickStart",t)},flick:this.isDesktop?Zc(this.onFlick,20):this.onFlick,flickEnd:function(t){var e=t.direction===Nv.Next?"next":"prev";i.padding=0,i.trigger("flickEnd",Ni({dirctionStr:e},t))},beforeRestore:function(t){i.trigger("beforeRestore",t)},restore:function(t){i.trigger("restore",t)}}),this._flick=t},Object.defineProperty(Bv.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding=t,this.setPadding(this._flick.getPrevElement(),-t),this.setPadding(this._flick.getNextElement(),t)},enumerable:!0,configurable:!0}),Bv.prototype.getPrevElement=function(){return this._flick.getPrevElement()},Bv.prototype.getElement=function(){return this._flick.getElement()},Bv.prototype.getNextElement=function(){return this._flick.getNextElement()},Bv.prototype.restore=function(t){return this._flick.restore(t)},Bv.prototype.resize=function(){return this._flick.resize(),this._width=this._flick.getElement().offsetWidth,this},Bv.prototype.disableInput=function(t){return this._inputDisabled=t=void 0===t?!0:t,this._flick.disableInput()},Bv.prototype.hide=function(){Ra(this.elRoot)},Bv.prototype.show=function(){Na(this.elRoot)},Bv.prototype.bindPlugin=function(){this.plugins&&!0!==this.isPlugSet&&(this._flick.plugin(this.plugins),this.isPlugSet=!0)},Bv.prototype.enableInput=function(){return this._inputDisabled=!1,this.bindPlugin(),this._flick.enableInput()},Bv.prototype.isInputDisabled=function(){return this._inputDisabled},Bv.prototype.setPanelPadding=function(t){this.usePadding=t,this.padding=0},Bv.prototype.resetPanel=function(){var e=this._options.imageSelector;this._flick.getAllElements().forEach(function(t){t=t.querySelector(e);t&&(t&&Ma(t,{visibility:null}),t.src="")})},Object.defineProperty(Bv.prototype,"panel",{get:function(){return{prev:this._flick.getPrevElement(),current:this._flick.getElement(),next:this._flick.getNextElement()}},enumerable:!0,configurable:!0}),Object.defineProperty(Bv.prototype,"nextFlick",{get:function(){return!this._preventNextFlick},set:function(t){this._preventNextFlick=!t},enumerable:!0,configurable:!0}),Object.defineProperty(Bv.prototype,"prevFlick",{get:function(){return!this._preventPrevFlick},set:function(t){this._preventPrevFlick=!t},enumerable:!0,configurable:!0}),Bv.prototype.moveNext=function(t){this._flick.next(t)},Bv.prototype.movePrev=function(t){this._flick.prev(t)},Bv.prototype.setPadding=function(t,e){t=t.querySelector("img");t&&Ma(t,{transform:"matrix(1, 0, 0, 1, "+e+", 0)"})},Bv.prototype.destroy=function(){this._flick.destroy(),this._flick=null},Bv);function Bv(t,e,i){void 0===i&&(i=null);var r=jv.call(this)||this;r.elRoot=t,r._preventNextFlick=!1,r._preventPrevFlick=!1,r._inputDisabled=!1,r._padding=0,r.usePadding=!0,r._width=0,r.isPlugSet=!1,r.isDesktop=!1,r.onFlick=function(t){if(r.isEndOfPanel(t))return t.stop(),void setTimeout(function(){r._flick.restore(0)},0);var e,i=r._options.flickPanelPadding;t.holding?r.usePadding&&(r.padding=i):(e=t.direction===Nv.Prev?-1:1,r.padding=Math.max(0,Math.min(20,i-i*t.distance*e/r._width))),r.trigger("flick",t)},r.isEndOfPanel=function(t){var e=t.distance,i=t.direction,n=r._preventPrevFlick&&(e<0&&i===Nv.Prev||r.stopFlick),i=r._preventNextFlick&&(0<e&&i===Nv.Next||r.stopFlick);return(n||i)&&t.isTrusted},r.startXPos=0,r.moveXPos=0,r.stopFlick=!1,r.onMouseDown=function(t){r.startXPos=t.pageX,za(r.elRoot,"mousemove",r.onMouseMove),za(r.elRoot,"mouseup",r.onMouseUp)},r.onMouseMove=function(t){var e=t.pageX;r.moveXPos=e-r.startXPos,r.stopFlick=r._preventPrevFlick&&0<r.moveXPos||r._preventNextFlick&&r.moveXPos<0,r.stopFlick&&Xc(t)},r.onMouseUp=function(t){var e=t.pageX-r.startXPos,i=0<=e?e:-1*e;r.moveXPos=0,r.stopFlick=10<i&&(r._preventPrevFlick&&0<e||r._preventNextFlick&&e<0),r.stopFlick&&Xc(t),Ha(r.elRoot,"mousemove",r.onMouseMove),Ha(r.elRoot,"mouseup",r.onMouseUp)};t=So();return r._options=Pa({},e||{}),r.isDesktop=t.isDeskTop,r.isDesktop&&za(r.elRoot,"mousedown",r.onMouseDown),r._initFlicking(),r.plugins=i,r}function Fv(t,e){return t.top<e.top||(t.bottom>e.bottom||(t.left<e.left||t.right>e.right))}function Uv(t,e){if(!Fv(t,e))return null;var i,n,r,t=(i=Math.max(0,e.top-t.top),n=Math.max(0,e.left-t.left),r=Math.min(0,e.bottom-t.bottom),e=Math.min(0,e.right-t.right),(t=new Of).top=i,t.left=n,t.bottom=r,t.right=e,t);return 0<t.left&&t.right<0&&(t.left=0,t.right=0),0<t.top&&t.bottom<0&&(t.top=0,t.bottom=0),0!==t.left||0!==t.right||0!==t.top||0!==t.bottom?t:null}function Xv(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];return er(e).call(e,function(t){return e=t.srcEvent,t=e.touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[e.changedTouches.length-1]:{},{x:(e={pageX:t.pageX||e.pageX||0,pageY:t.pageY||e.pageY||0}).pageX,y:e.pageY};var e})}var qv={time3:3,time2:2,time1:1.5,doubleTap:2.5},Wv={time3:3,time2:2,time1:1.5};function Yv(t){return-(Math.cos(Math.PI*t)-1)/2}function Kv(t,e){var i=e.toGlobal({x:0,y:0}),e=e.toGlobal({x:t.width,y:t.height});return new Of(i.x+t.x,i.y+t.y,e.x-i.x,e.y-i.y)}var $v,Zv=(Li(Jv,$v=Hi),Object.defineProperty(Jv.prototype,"options",{get:function(){return this._options},set:function(t){this._options=t},enumerable:!0,configurable:!0}),Jv.prototype.activate=function(){this.activated||(this.hammer=new Nf.Manager(this.gestureArea,{recognizers:[[jf,{event:"doubletap",taps:2,threshold:3,posThreshold:20}],[Nf.Tap,{event:"singletap",interval:this._options.doubletapInterval}],[Nf.Tap],[Nf.Pan],[Nf.Press,{time:this._options.longPressInterval}],[Nf.Swipe,{direction:Nf.DIRECTION_VERTICAL}],[Nf.Pinch]]}),this.hammer.get("doubletap").recognizeWith("tap"),this.hammer.get("singletap").requireFailure("doubletap"),this.hammer.get("singletap").recognizeWith("tap"),this.hammer.get("swipe").recognizeWith("pan"),this.hammer.on("tap",this.onTap),this.hammer.on("singletap",this.onSingleTap),this.hammer.on("doubletap",this.onDoubleTap),this.hammer.on("panstart",this.onPanStart),this.hammer.on("swipe",this.onSwipe),this.hammer.on("pinchstart",this.onPinchStart),this.activated=!0)},Jv.prototype.deactivate=function(){this.hammer&&(this.hammer.get("tap").dropRequireFailure("singletap"),this.hammer.get("singletap").dropRequireFailure("doubletap"),this.hammer.get("doubletap").dropRecognizeWith("singletap"),this.hammer.get("singletap").dropRecognizeWith("tap"),this.hammer.get("swipe").dropRecognizeWith("pan"),this.hammer.off("tap",this.onTap),this.hammer.off("singletap",this.onSingleTap),this.hammer.off("doubletap",this.onDoubleTap),this.hammer.off("panstart",this.onPanStart),this.hammer.off("swipe",this.onSwipe),this.hammer.off("pinchstart",this.onPinchStart),this.activated=!1)},Jv.prototype.handleScaleTransform=function(t,i,e){var n=this,r=this.transform.toLocal({x:t.x-this.originRect.left,y:t.y-this.originRect.top}),t=r.x,r=r.y;this.transform.setTransformOrigin(t,r);var o=this.scale,s=o<i?1:-1;Ff.start(),this.isIncreaseScale=this.scale<i,Yc.fromEvent(Ff.shared,"tick").takeUntil("stop").subscribe(function(t){n._state.isPlayingAnimation||(n._state.isPlayingAnimation=!0,n._state.timeAnimStarted=t.time);var e=(t.time-n._state.timeAnimStarted)/n._options.durationOnScale,t=o+(i-o)*Yv(e=1<e?1:e);0<s?i<t&&(t=i):t<i&&(t=i),n.scale=t;t=Kv(n.originRect,n.transform);n.alignTransform(t),n.updateTransform(!0),1<=e&&Ff.stop()},function(){n._state.isPlayingAnimation=!1,e&&e(),n.isDesktop&&n.trigger(1===n.scale?"unlockFlicking":"lockFlicking")})},Jv.prototype.handlePan=function(t,e,i){var n,r;t.srcEvent.target&&(r=(n=Xv(t,i))[0],r=Ka(n[1],r),1<this.scale?this.handleImageDrag(this._image,e,i.center):t.direction===Nf.DIRECTION_DOWN&&this.trigger("exitgesture",{translate:Math.max(0,r.y),gestureEvent:i}))},Jv.prototype.handleImageDrag=function(t,e,i,n){void 0===n&&(n=this._options.elasticMod);var r=Kv(this.originRect,this.transform),o=Uv(this.viewport,r),s=!(a=o)||0===a.top&&0===a.bottom?1:n,o=!(a=o)||0===a.left&&0===a.right?1:n,a=i.x-e.x,n=i.y-e.y,i=this.viewport.right-this.viewport.left,e=this.viewport.bottom-this.viewport.top;r.width>i&&(this.transform.x+=o*a),r.height>e&&(this.transform.y+=s*n),this.updateTransform()},Jv.prototype.handlePanEnd=function(t,e){var i=Xv(t,e),t=i[0],i=i[1];this.trigger("exitgestureEnd",{gestureEvent:e,translate:Math.max(0,Ka(i,t).y)})},Jv.prototype.throwImage=function(t){var e,i,n,r,o,s=this,a=t.length;0!==a&&(e=this._options,i=e.friction,n=e.boundingFriction,t=Ot(t).call(t,function(t,e){var i=t[0],t=t[1];return[i+e[0],t+e[1]]},[0,0]),r=t[0],o=t[1],t=Kv(this.originRect,this.transform),(r/=a)>this._options.maxVelocityThrowing&&(r=this._options.maxVelocityThrowing),t.width<=this._viewport.width&&(r=0),(o/=a)>this._options.maxVelocityThrowing&&(o=this._options.maxVelocityThrowing),t.height<=this._viewport.height&&(o=0),Ff.start(),Yc.fromEvent(Ff.shared,"tick").takeUntil("stop").subscribe(function(t){s._state.isPlayingAnimation||(s._state.isPlayingAnimation=!0,s._state.timeAnimStarted=t.time);var e=(t.time-s._state.timeAnimStarted)/s._options.durationOnThrowing,t=Math.max(Math.min(1,1-e),0);Fv(s.viewport,Kv(s.originRect,s.transform))&&(r*=n,o*=n),r*=i,o*=i,r*=t,o*=t,s.transform.x+=r,s.transform.y+=o,s.updateTransform(),(Math.abs(r)<1&&Math.abs(o)<1||1<=e)&&Ff.stop()},function(){s._state.isPlayingAnimation=!1,s.alignAnimate()}))},Jv.prototype.handlePinch=function(t,e,i,n,r,o){void 0===o&&(o=this._options.elasticMod);var s=r.scale-i,a=this.scale+s<1,i=this.scale+s>this.maxScalePinch;this.scale+=(a||i?o:+e)*s,this.handleImageDrag(t,n,r.center)},Jv.prototype.handlePinchEnd=function(){var t;this.scale=Math.max(1,Math.min(this.maxScalePinch,this.scale)),1<this.scale?(t=Kv(this.originRect,this.transform),this.alignTransform(t),this.trigger("pinchcomplete")):(this.transform.identity(),this.trigger("pinchidentity")),this.updateTransform()},Jv.prototype.alignAnimate=function(){var n=this,t=Kv(this.originRect,this.transform),r=Uv(this.viewport,t),o=this.transform.x,s=this.transform.y;r&&(Ff.start(),Yc.fromEvent(Ff.shared,"tick").takeUntil("stop").subscribe(function(t){n._state.isPlayingAnimation||(n._state.isPlayingAnimation=!0,n._state.timeAnimStarted=t.time);var e=(t.time-n._state.timeAnimStarted)/n.options.durationOnAlign,i=r.width*Yv(e),t=r.height*Yv(e);n.transform.x=o-i*(r.right?1:-1),n.transform.y=s-t*(r.bottom?1:-1),n.updateTransform(),1<=e&&Ff.stop()},function(){n._state.isPlayingAnimation=!1}))},Jv.prototype.alignTransform=function(t){var e,i,n;t&&(e=Uv(this.viewport,t),i=this.viewport.right-this.viewport.left,n=this.viewport.bottom-this.viewport.top,t.width<i?this.transform.x=(this.image.offsetWidth-t.width)/2+this.transform.getLocalTranslation(this.transform.pivotX,0).x:e&&(this.transform.x+=-(e.left+e.right)),t.height<n?this.transform.y=(this.image.offsetHeight-t.height)/2+this.transform.getLocalTranslation(0,this.transform.pivotY).y:e&&(this.transform.y+=-(e.top+e.bottom)))},Jv.prototype.updateTransform=function(t){var e;void 0===t&&(t=!1),this.image&&(t&&qa(this.image,Vt.TRANSFORM_TWEEN),e=Vt.IMAGE_WILL_CHANGE,(t=So().isIOS)&&ka(this.image,e,!0),Ma(this.image,{transform:this.transform.cssTranslate}),t&&2<this.scale&&ka(this.image,e,!1))},Jv.prototype.setViewportTLBR=function(t){var e=new Of;e.fromTLBR(t.top,t.left,t.bottom,t.right),this._viewport=e},Jv.prototype.setTargetImage=function(t){this._image=t,this.reset({silently:!1,alignAnimate:!1}),this.scaleRule=this.getScaleRule()},Jv.prototype.updateFullScreenMode=function(t){this._state.fullScreen=t=void 0===t?!0:t},Object.defineProperty(Jv.prototype,"isDesktop",{get:function(){return this._options.deviceType===At.DESKTOP},enumerable:!0,configurable:!0}),Object.defineProperty(Jv.prototype,"isMobile",{get:function(){return this._options.deviceType===At.MOBILE},enumerable:!0,configurable:!0}),Jv.prototype.getScaleRule=function(){return this.isMobile?qv:Wv},Jv.prototype.reset=function(t){var e=(t=void 0===t?{silently:!1,alignAnimate:!0}:t).silently,t=t.alignAnimate;!1===this.isDesktop&&this.resetImageAttr(),this.resetIdentityPosition(t),Ff.stop(),this.updateIdentityValue(),this.trigger("unlockFlicking"),e||this.trigger("reset")},Jv.prototype.resetImageAttr=function(){this.image&&this.image.removeAttribute("width"),this.image&&this.image.removeAttribute("draggable")},Jv.prototype.resetIdentityPosition=function(t){void 0===t&&(t=!0),this.transform.identity(),t?this.updateTransform(t):(Ma(this.image,{transform:this.transform.cssTranslate}),ka(this.image,Vt.IMAGE_WILL_CHANGE,!1))},Jv.prototype.updateIdentityValue=function(){this.resetOriginRect(),this.resetViewport()},Jv.prototype.resetViewport=function(){var t=new Of,e=this.viewPortTarget,i=window.innerWidth,n=window.innerHeight;e&&(i=e.offsetWidth,n=e.offsetHeight),t.fromTLBR(0,0,n,i),this._viewport=t},Object.defineProperty(Jv.prototype,"viewport",{get:function(){return this._viewport||this.resetViewport(),this._viewport},set:function(t){this._viewport=t},enumerable:!0,configurable:!0}),Jv.prototype.resetOriginRect=function(){var t;this.image&&((t=new Of).fromClientRect(this.image.getBoundingClientRect()),this._originRect=t)},Object.defineProperty(Jv.prototype,"originRect",{get:function(){return this._originRect&&this._originRect.width||this.resetOriginRect(),this._originRect},set:function(t){this._originRect=t},enumerable:!0,configurable:!0}),Object.defineProperty(Jv.prototype,"transform",{get:function(){return this._transform},enumerable:!0,configurable:!0}),Object.defineProperty(Jv.prototype,"image",{get:function(){return this._image},enumerable:!0,configurable:!0}),Object.defineProperty(Jv.prototype,"scale",{get:function(){return this.transform.scaleX},set:function(t){this.transform.scaleX=t,this.transform.scaleY=t,this.triggerChangeScaleEvent(t)},enumerable:!0,configurable:!0}),Object.defineProperty(Jv.prototype,"fitViewportScale",{get:function(){return this.viewport.width/this.originRect.width},enumerable:!0,configurable:!0}),Object.defineProperty(Jv.prototype,"maxScale",{get:function(){return this.isImageLargerThanViewport?this.fitViewportScale*this.scaleRule.time3:this.scaleRule.time3},enumerable:!0,configurable:!0}),Object.defineProperty(Jv.prototype,"maxScalePinch",{get:function(){return this.isDesktop?this.scaleRule.time3:this.maxScale},enumerable:!0,configurable:!0}),Object.defineProperty(Jv.prototype,"maxScaleDoubleTap",{get:function(){return this.scale<this.fitViewportScale&&this.isVerticalImageNeedToFit?this.fitViewportScale:this.maxScale},enumerable:!0,configurable:!0}),Object.defineProperty(Jv.prototype,"isImageLargerThanViewport",{get:function(){return this.originRect.width+1>this.viewport.width||this.originRect.height+1>this.viewport.height},enumerable:!0,configurable:!0}),Object.defineProperty(Jv.prototype,"isVerticalImageNeedToFit",{get:function(){return this.isImageLargerThanViewport&&this.originRect.width<this.originRect.height&&this.originRect.width/this.viewport.width<this._options.maxScaleDoubleTapDetectRatio},enumerable:!0,configurable:!0}),Jv.prototype.getIncreaseScale=function(){var t=this.scale,e=this.scaleRule,i=e.time1,n=e.time2||e.time3,e=e.time3;return 1===t?i:t<n?n:e},Jv.prototype.getDecreaseScale=function(){var t=this.scale,e=this.scaleRule,i=e.time1,e=e.time2||e.time3;return e<t?e:i<t?i:1},Jv.prototype.getViewportCenter=function(){return{x:Math.floor(this.viewport.width/2),y:Math.floor(this.viewport.height/2)}},Jv.prototype.increaseScale=function(){this.scale>=this.scaleRule.time3||this.handleScaleTransform(this.getViewportCenter(),this.getIncreaseScale())},Jv.prototype.decreaseScale=function(){1!==this.scale&&(1!==this.getDecreaseScale()?this.handleScaleTransform(this.getViewportCenter(),this.getDecreaseScale()):this.reset({silently:!1,alignAnimate:!1}))},Jv.prototype.setViewePortTarget=function(t){this.viewPortTarget=t},Jv.prototype.initScale=function(){this.handleScaleTransform(this.getViewportCenter(),1)},Jv.prototype.destroy=function(){this.hammer.destroy()},Jv.isIOS=So().isIOS,Jv.isDesktop=So().isDeskTop,Jv);function Jv(t,e){void 0===e&&(e={});var o=$v.call(this)||this;return o.gestureArea=t,o._transform=new Yf,o.activated=!1,o.viewPortTarget=null,o.isIncreaseScale=!1,o.onSwipe=function(t){o.trigger("swipe",t)},o.onTap=function(t){o.trigger("tap",t)},o.onSingleTap=function(t){o.trigger("singletap",t)},o.onDoubleTap=function(t){var e;o.trigger("doubletap",t)&&!o.isDesktop&&(e=1<o.scale?1:o.maxScaleDoubleTap,o.handleScaleTransform(t.center,e,function(){o.trigger("doubletapend")}))},o.onPanStart=function(t){var e=Ut.DISABLE_FLICK_THRESHOLD;if(Jv.isIOS){if(t.srcEvent.pageX<e)return void o.trigger("lockFlicking");1===o.scale&&o.trigger("unlockFlicking")}o.trigger("panstart",t);var i=Ni({},t),n=[],r=t.center;Ff.stop(),Yc.fromEvent(o.hammer,"pan").takeUntil("panend").subscribe(function(t){var e=t.center;n.push([e.x-r.x,e.y-r.y]),3<n.length&&n.shift(),o.handlePan(i,r,t),r=e},function(t){1<o.scale?o.throwImage(n):o.handlePanEnd(i,t),o.trigger("panend",{gestureEvent:t})})},o.onPinchStart=function(t){var e,i,n,r;o.trigger("pinchstart",t)&&(o._state.isPlayingAnimation&&(o._state.isPlayingAnimation=!1,Ff.stop()),e=o.scale,i=t.scale,n=t.center,t=(r=o.transform.toLocal({x:t.center.x-o.originRect.left,y:t.center.y-o.originRect.top})).x,r=r.y,o.transform.setTransformOrigin(t,r),Yc.fromEvent(o.hammer,"pinch").takeUntil("pinchend").subscribe(function(t){o.handlePinch(o.image,e,i,n,t),i=t.scale,n=t.center},function(){return o.handlePinchEnd()}))},o.triggerChangeScaleEvent=$c(function(t){!1===Ff.running&&o.trigger("changeScale",{scale:t,scaleRule:o.scaleRule,isIncreaseScale:o.isIncreaseScale})},50),o._options=Pa({deviceType:At.MOBILE,maxScaleInZoom:2.5,maxScaleDoubleTapDetectRatio:.8,durationOnScale:250,durationOnThrowing:1e3,durationOnAlign:150,maxVelocityThrowing:750,elasticMod:.45,friction:.95,boundingFriction:.75,longPressInterval:300,doubletapInterval:150,exitGestureDistance:100,scaleRule:qv},e),o._state=Pa({isPlayingAnimation:!1,timeAnimStarted:0,fullScreen:!1}),o.scaleRule=o._options.scaleRule,o}var Qv=(tm.prototype.gestureExitProcess=function(t,e,i,n){var r=this.injectData,o=r.image,s=r.elBase,a=r.ghostImageLayout,u=r.state,a={imageTimeout:r.options.loadImageTimeout,loadImage:o,baseElement:s,ghostImageLayout:a,opacity:0};this.fadeEffect.setup(a).fadeOutWithBaseElement(t,u.height,e,i,n)},tm.prototype.guestureExitComplete=function(t,e,i){var n=this.injectData,r=n.image,o=n.elBase,s=n.ghostImageLayout,s={imageTimeout:n.options.loadImageTimeout,loadImage:r,baseElement:o,ghostImageLayout:s,opacity:0};this.fadeEffect.setup(s).hideToUp(t,e,i)},tm.prototype.gestureHideProcess=function(t,e,i){var n=this.injectData,r=n.image,o=n.elBase,s=n.ghostImageLayout,a=n.state,s={imageTimeout:n.options.loadImageTimeout,loadImage:r,baseElement:o,ghostImageLayout:s,opacity:0};this.fadeEffect.setup(s).hideToDown(t,a.centerY,e.gestureDistance,i)},tm.prototype.gestureSwipeVerticalBehavior=function(t){var e=this.injectData.hrImageIndexLayout,i=e.isVisiblity();i&&t?e.toggle(!1):i||t||e.toggle(!0)},tm.prototype.buildIn=function(t,e,i,n){var r=this.injectData,o=r.image,s=r.elBase,a=r.ghostImageLayout,u=r.flicking,c=r.state,r=r.options,u=u.getElement().querySelector(Gt.IMAGE_PANEL_LOADING),c=c.scrollY,a={imageTimeout:r.loadImageTimeout,loadImage:o,baseElement:s,ghostImageLayout:a,opacity:1};this.fadeEffect.setup(a).fadeIn(t,u,c,i,n,e)},tm.prototype.buildOut=function(t,e){var i=this.injectData,n=i.image,r=i.elBase,o=i.ghostImageLayout,o={imageTimeout:i.options.loadImageTimeout,loadImage:n,baseElement:r,ghostImageLayout:o,opacity:0};this.fadeEffect.setup(o).fadeOut(t,e)},tm.prototype.cover=function(){var t=this.injectData,e=t.browserInfo,i=t.state,n=t.image,r=t.elItemList,o=t.options,t=e.isIOS,e=e.isNaverApp,e=t&&!e?{display:"none"}:{height:0};e.overflow="hidden",e.visibility="hidden";e={image:n,imageList:r,useScrollSync:o.useScrollSync,cssProperty:e,isMobile:!0};this.switchPanelEffect.setup(e).on(i.scrollY)},tm.prototype.uncover=function(t){var e=this.injectData,i=e.browserInfo,n=e.state,r=e.elItemList,o=e.options,s=o.elScrollBody,e=i.isIOS,i=i.isNaverApp,i=e&&!i?{display:"block"}:{height:null},s=s?s.scrollTop:n.scrollY;i.overflow=null;i={image:i.visibility=null,imageList:r,useScrollSync:o.useScrollSync,cssProperty:i,isMobile:!0};n.centerY=this.switchPanelEffect.setup(i).off(t,n.height,s)},tm);function tm(t){this.injectData=t.getData(),this.eventProxy=this.injectData.eventProxy,this.fadeEffect=new Af,this.switchPanelEffect=new Df}var em=(im.prototype.resizeModue=function(){var t=this.injectData,e=t.flicking,i=t.hrImageIndexLayout,n=t.videoToolbarLayout,t=t.wrapViewUnit;e&&e.resize()&&e.enableInput(),t&&t.resize(),i.refresh(),n.resize(),this.eventProxy.trigger(jt.TRIGGER_RESIZE)},im.prototype.afterResizeHeight=function(t){function e(){i.gesture.reset({silently:!1,alignAnimate:!1})}var i=this.injectData.gestureProxy;(t?$c(e,1e3):e)()},im.prototype.initStyleImagePanel=function(){var t=this.injectData,e=t.itemPanel,t=t.options;Sf.applyPanelStyle(t.useDownload,e)},im.prototype.singleTabRender=function(t){var e,i,n;Xa(t,Gt.IMAGE_PANEL)&&(e=(n=this.injectData).toastLayout,i=n.exceptionLayout,t=n.hrImageIndexLayout,n=n.wrapViewUnit,e.hide(),n.toggle(),i.isVisiblity()?i.refresh():t.isVisiblity()&&t.toggle(!1))},im.prototype.resizeLayout=function(t,e){var i=this.injectData,n=i.elBase,r=i.browserInfo,i=this.afterResizeHeight.bind(this,t);n&&(this.calculateSize(),this.resizeModue(),e(),this.resizeShapeUnit.resizeViewer(n,t,r.isIOS,i))},im.prototype.calculateSize=function(){var t=this.injectData.state;t.width=window.innerWidth,t.height=window.innerHeight},im);function im(t){this.injectData=t.getData(),this.eventProxy=this.injectData.eventProxy,this.resizeShapeUnit=new Sf}var nm,rm=(Li(om,nm=Et),om.prototype.initialize=function(){this.initElementPosition(),this.initLayoutEventBind(),this.initService(),this.itemControlService.applyDominantColor()},om.prototype.getImageIndexEventSet=function(){var n=this,t=qt.SHOW,e=qt.HIDE,i=qt.CLICK,r=qt.TOGGLE,o=qt.HIDED,s=qt.REACH_END_ITEM,a={};return a[t]=this.onVisibleIndex.bind(this),a[e]=this.onVisibleIndex.bind(this),a[o]=function(){n.injectData.gestureProxy.gesture.resetOriginRect()},a[i]=function(t){n.loadPanelImage(t.listIndex),n.eventProxy.trigger(Rt.H_INDEX_CLICK,t)},a[r]=function(){var t=n.injectData,e=t.flicking,i=t.gestureProxy,t=n.isImageIndexVisible();i.gesture.resetIdentityPosition(),e.setPanelPadding(t)},a[s]=function(t){n.eventProxy.trigger(Rt.REACH_END_ITEM,t)},a},om.prototype.onVisibleIndex=function(){var t=this.injectData,e=t.itemModel,i=t.wrapViewUnit,n=t.gestureProxy,r=t.flicking,o=t.indexIndicatorLayout,s=n.gesture,a=e.getComputedIndex(),u=e.length,c=e.getCurrent(),l=this.isImageIndexVisible(),t=this.isExceptionVisible(),e=l?Rt.H_INDEX_OPEN:Rt.H_INDEX_CLOSE;this.itemControlService.shrinkImageLayout(),n.setVerticalPanTracking(!l&&!t),s.resetIdentityPosition(),r.setPanelPadding(!l),i.update(a,u,c),l?i.hide():i.show(!0),this.eventProxy.trigger(e),o.toggle(l)},om.prototype.getVideoToolbarEventSet=function(){var e=this,t=Ee,i=Ie,n=be,r=Te,o={};return o[_e]=function(){e.eventProxy.trigger(jt.TRIGGER_PLAY)},o[t]=function(){e.eventProxy.trigger(jt.TRIGGER_PAUSE)},o[i]=function(){e.eventProxy.trigger(jt.TRIGGER_SOUND_MUTE_ON)},o[n]=function(){e.eventProxy.trigger(jt.TRIGGER_SOUND_MUTE_OFF)},o[r]=function(t){t=t.seekTime;e.eventProxy.trigger(jt.TRIGGER_CHANGE_TIME,{seekTime:t})},o},om.prototype.getVideoEvent=function(){function t(t){var e=Ni({},t,{showToolbar:!!p.isVisibility()&&t.played});h.videoPlayed=!1!==t.played||t.playing,l.refresh(e)}var e=this.injectData,l=e.videoToolbarLayout,h=e.state,i=e.exceptionLayout,p=e.wrapViewUnit,n=this.videoEventBlockedFilter,e={};return e[jt.PLAY]=n(function(t){t={playing:!0,showToolbar:!!p.isVisibility()&&t.played};setTimeout(function(){h.videoPlayed=!0},200),l.refresh(t)}),e[jt.PLAYING]=n(function(t){t={playing:!0,showToolbar:!!p.isVisibility()&&t.played};h.videoPlayed=!0,l.refresh(t)}),e[jt.PAUSE]=n(function(){l.refresh({playing:!1})}),e[jt.END]=n(function(){l.refresh({playing:!1})}),e[jt.PROGRESS]=n(t),e[jt.SUSPEND]=n(t),e[jt.CANPLAY]=n(function(t){var e=t.playing,i=t.durationTime,n=t.currentTime,r=t.bufferedStartTime,o=t.bufferedEndTime,s=t.seekStartTime,a=t.seekEndTime,u=t.muted,c=t.played,a={playing:e,durationTime:i,currentTime:n,muted:u,bufferedStartTime:r,bufferedEndTime:o,seekStartTime:s,seekEndTime:a,showToolbar:!!p.isVisibility()&&t.played};h.videoPlayed=t.playing,l.refresh(a),!1===c&&l.hide()}),e[jt.UPDATE_CURRENT_TIME]=n(function(t){var e={currentTime:t.currentTime,seekStartTime:t.seekStartTime,seekEndTime:t.seekEndTime};h.videoPlayed=!1!==t.played||t.playing,l.refresh(e)}),e[jt.ERROR]=n(function(t){var e=t.itemPanel,t=t.itemData,t={message:Ft,itemType:t.itemType};i.show(t,e),l.hide()}),e},om.prototype.getIndexIndicatorEventSet=function(){var t=this,e={};return e[ie.TOGGLE]=function(){t.injectData.hrImageIndexLayout.toggle()},e},om.prototype.getExceptionEventSet=function(){var o=this,t=Xt.REFRESH,e=Xt.HIDE,i={};return i[Xt.SHOW]=function(){var t=o.injectData,e=t.gestureProxy,i=t.wrapViewUnit,t=o.isImageIndexVisible();o.itemControlService.applyDominantColor(),o.renderExceptionCaseView(!0,t),e.setVerticalPanTracking(!0),i.hide()},i[t]=function(){var t=o.injectData,e=t.flicking,t=t.gestureProxy,e=e.getElement();o.hideImageIndexLayout(),o.loadPanelImage(),Ma(e.querySelector("img"),{visibility:"visible"}),t.setVerticalPanTracking(!1)},i[e]=function(t){var e=o.injectData,i=e.flicking,n=e.elItemList,r=e.gestureProxy,e=t.closeViewer,t=o.isImageIndexVisible();o.hideImageIndexLayout(),e&&Ma(n,{visibility:"visible",overflow:"visible"}),i.isInputDisabled()||o.renderExceptionCaseView(!1,t),r.setVerticalPanTracking(t)},i},om.prototype.renderExceptionCaseView=function(t,e){var i=this.injectData,n=i.hrImageIndexLayout,i=i.wrapViewUnit;t?(e&&n.toggle(),i.hide(),i.deactivate()):(i.activate(),i.show()),i.update(null)},om.prototype.initLayoutEventBind=function(){var t=Pa({},this.getImageIndexEventSet(),this.getExceptionEventSet(),this.getIndexIndicatorEventSet(),this.getVideoToolbarEventSet(),this.getVideoEvent());this.eventProxy.on(t)},om.prototype.initService=function(){this.itemControlService=new Zf(this.di),this.animationService=new Qv(this.di),this.shapeService=new em(this.di)},om.prototype.buildIn=function(t,e){var i=this,n=this.injectData,r=n.image,o=n.itemPanel;this.animationService.buildIn(t,function(){i.itemControlService.failItemLoad(zt.IMAGE,{loadImage:r,itemPanel:o})},null,e)},om.prototype.buildOut=function(t,e){this.animationService.buildOut(t,e)},om.prototype.activate=function(){var t=this.injectData.hrImageIndexLayout;this.cover(),t.activate(),this.resizeLayout(!1)},om.prototype.deactivate=function(){var t=this.injectData,e=t.toastLayout,i=t.exceptionLayout,n=t.hrImageIndexLayout;t.wrapViewUnit.hide(),n.deactivate(),i.hide(),e.hide()},om.prototype.showView=function(t,e){void 0===e&&(e=!0);var i=this.injectData,n=i.state,r=i.image,o=i.elBase,i=i.wrapViewUnit;n.scrollY=Fa().scrollTop,this.hideExceptionLayout(),Ma(r,{visibility:"hidden"}),Ma(o,{visibility:"visible",display:"block",transform:"translate(0, "+n.scrollY+"px, 0)",opacity:e?0:1}),this.confirmOpenVideoItem(t),this.loadPanelImage(t),i.show()},om.prototype.afterHide=function(t,e){var i=this.injectData,n=i.elItemList,r=i.elBase,o=i.state,s=i.image,a=i.browserInfo,u=i.options,i=i.itemLoader;u.elScrollBody?u.elScrollBody.scrollTop=o.centerY:window.scrollTo(0,o.centerY),Ma(t,{visibility:"visible"}),Ma(n,{transform:null}),Ma(r,{transform:null,display:"none"}),s.src=Dt,this.eventProxy.trigger(of.HIDE,e),a.isNaverApp&&(location.href=Lt),i.reset(),o.isPlaying=!1},om.prototype.hideView=function(t,e){var i=this.afterHide.bind(this,t,e),t=0!==e.gestureDistance,n=this.injectData.ghostImageLayout;t?(t=n.getElement(),this.animationService.gestureHideProcess(t,e,function(){n.hide(),i()})):i()},om.prototype.resizeLayout=function(t){var e=this,i=this.injectData.hrImageIndexLayout;this.shapeService.resizeLayout(t,function(){e.itemControlService.shrinkImageLayout(),i.updateVisibleWidth(),i.refresh()})},om.prototype.updateCurrentImageIndexData=function(t){var e=this.injectData,i=e.hrImageIndexLayout,e=e.itemModel.getComputedIndex();this.loadPanelImage(e),t&&(i.itemDataList=t)},om.prototype.updateViewerLayoutByItem=function(t){var e=this.injectData,i=e.videoToolbarLayout,e=e.captionLayout,t=t.itemType,e=e.getHeight();i.hide(),t===zt.VIDEO&&i.setBottomPosition(e)},om.prototype.loadPanelImage=function(t,e){var i=this,n=this.injectData,r=n.itemModel,o=n.state,n=n.browserInfo,r="number"==typeof t?t:r.getComputedIndex();n.isNaverApp&&!1===o.open||this.itemControlService.loadPanelItem(r,function(){i.resizeLayout(!1),e&&e()})},om.prototype.isImageIndexVisible=function(){return this.injectData.hrImageIndexLayout.isVisiblity()},om.prototype.isExceptionVisible=function(){return this.injectData.exceptionLayout.isVisiblity()},om.prototype.hideExceptionLayout=function(){this.injectData.exceptionLayout.hide()},om.prototype.hideImageIndexLayout=function(){return this.injectData.hrImageIndexLayout.hide()},om.prototype.getImgFromList=function(t){return this.itemControlService.getImgFromList(t)},om.prototype.cover=function(){this.animationService.cover()},om.prototype.uncover=function(){var t=this.itemControlService.getImgFromList();this.animationService.uncover(t)},om.prototype.destroy=function(){this.injectData.layoutPool.destroy()},om);function om(t){var e=nm.call(this)||this;return e.di=t,e.injectData=e.di.getData(),e.eventProxy=e.injectData.eventProxy,e}var sm,am=(Li(um,sm=Hi),um.prototype.initialize=function(t){this.state=this.injectData.state,this.initService(),this.initGesture(t),this.initFlicking()},um.prototype.initService=function(){this.shapeService=new em(this.di),this.itemControlService=new Zf(this.di),this.animationService=new Qv(this.di)},um.prototype.setExitGestureStart=function(t){this.isExitGestureStart=t},um.prototype.initFlicking=function(){var t=this.injectData,e=t.flicking,t=t.image;e.on({beforeFlickStart:this._beforeFlickStart.bind(this),flick:this._onFlick.bind(this),flickEnd:this._onFlickEnd.bind(this)}),e.disableInput(),this.shapeService.initStyleImagePanel(),this.gesture.setTargetImage(t),this.changeActivePanel()},um.prototype.changeActivePanel=function(){var t=this.injectData.flicking.panel,e=t.current,i=t.prev,t=t.next;ka(e,Vt.FLICK_PANEL_ACTIVE,!0),ka(i,Vt.FLICK_PANEL_ACTIVE,!1),ka(t,Vt.FLICK_PANEL_ACTIVE,!1)},um.prototype.initGesture=function(t){var e=this.injectData.itemPanel,t=new Zv(e,Ni({viewportWidth:this.state.width,viewportHeight:this.state.height},t));t.on({reset:this._onResetGesture.bind(this),singletap:this.onSingleTap.bind(this),doubletap:this.onDoubleTap.bind(this),doubletapend:this.onDoubleTapEnd.bind(this),pinchstart:this.onPinchStart.bind(this),pinchidentity:this.onPinchIdentity.bind(this),pinchcomplete:this.onPinchComplete.bind(this),swipe:this.onSwipeVertical.bind(this),lockFlicking:this.onLockFlicking.bind(this),unlockFlicking:this.onUnlockFlicking.bind(this)}),t.activate(),this.gesture=t},um.prototype.getGestureProxy=function(){return{setVerticalPanTracking:this.setVerticalPanTracking.bind(this),gesture:this.gesture}},um.prototype.setVerticalPanTracking=function(t){this.gesture.off("exitgesture",this._onExitGestureProcess),this.gesture.off("exitgestureEnd",this._onExitGestureComplete),t&&(this.gesture.on("exitgesture",this._onExitGestureProcess),this.gesture.on("exitgestureEnd",this._onExitGestureComplete))},um.prototype.activate=function(){this.injectData.flicking.enableInput(),this.setVerticalPanTracking(!0)},um.prototype.deactivate=function(){var t=this.injectData.flicking;this.isExitGestureStart||(this.gesture.reset({silently:!0,alignAnimate:!1}),t.resetPanel(),this.setVerticalPanTracking(!1))},um.prototype.destroy=function(){var t=this.injectData.flicking;this.gesture.destroy(),t.destroy()},um);function um(t){var a=sm.call(this)||this;a.useVerticalGesture=!0,a.isZoomed=!1,a._beforeFlickStart=function(t){var e=a.injectData,i=e.itemModel,n=e.hrImageIndexLayout,e=e.flicking,t=t.direction,n=n.isVisiblity();t===Nv.Next?i.moveNext():t===Nv.Prev&&i.movePrev(),e.setPanelPadding(!n)},a._onFlick=function(){var t=a.injectData.state;t.resizeTimer&&window.clearTimeout(t.resizeTimer)},a._onFlickEnd=function(t){var e=a.injectData,i=e.hrImageIndexLayout,n=e.itemModel,e=e.flicking.getElement().querySelector(Gt.IMAGE_WRAP).querySelector("img");a.gesture&&a.gesture.setTargetImage(e),a.changeActivePanel(),a.di.regist({image:e}),a.itemControlService.loadPanelItem();e=n.getComputedIndex();e===n.length-1&&a.eventProxy.trigger(Rt.REACH_END_ITEM,{totalLength:n.length,lastIndex:n.length-1}),a.eventProxy.trigger(Rt.FLICK,{direction:t.dirctionStr,index:e}),i.currentIndex=e},a.onSingleTap=function(t){t=t.srcEvent.target;!t||Xa(t,Gt.VIDEO_BUTTONS)||a.shapeService.singleTabRender(t)},a.onDoubleTap=function(t){var e=a.injectData,i=e.hrImageIndexLayout,n=e.exceptionLayout,e=e.state;t.srcEvent.target&&e.currentItemType!==zt.VIDEO?n.isVisiblity()||i.isVisiblity()&&(i.hide(),t.stop()):t.stop()},a.onDoubleTapEnd=function(){var t=a.injectData,e=t.wrapViewUnit,i=t.flicking,t=1<a.gesture.scale;t?i.disableInput():i.enableInput(),t?(e.hide(),a.itemControlService.changeThumbToOrgImg()):e.show()},a.onSwipeVertical=function(t){var e=a.injectData.wrapViewUnit,t=t.offsetDirection===Hammer.DIRECTION_DOWN;1<a.gesture.scale||!a.useVerticalGesture||e.isVisibility()&&a.animationService.gestureSwipeVerticalBehavior(t)},a.onLockFlicking=function(){a.injectData.flicking.disableInput()},a.onUnlockFlicking=function(){a.injectData.flicking.enableInput()},a.onPinchStart=function(t){a.setVerticalPanTracking(!1);var e=a.injectData,i=e.hrImageIndexLayout,n=e.wrapViewUnit,r=e.flicking,o=e.state,s=t.scale<1,e=i.isVisiblity();if(o.currentItemType!==zt.VIDEO){if(e)return s||i.hide(),void t.stop();n.hide(),i.hide(),r.disableInput()}else t.stop()},a.onPinchIdentity=function(){var t=a.injectData,e=t.hrImageIndexLayout,i=t.flicking,t=t.wrapViewUnit;e.hide(),t.show(),i.enableInput(),a.setVerticalPanTracking(!0),a.isZoomed&&(a.isZoomed=!1,a.eventProxy.trigger(Rt.ZOOM_LEAVE))},a.onPinchComplete=function(){var t=a.injectData.wrapViewUnit;a.setVerticalPanTracking(!0),a.itemControlService.changeThumbToOrgImg(),t.isVisibility()&&a.gesture.reset(),a.isZoomed||(a.isZoomed=!0,a.eventProxy.trigger(Rt.ZOOM_ENTER))},a._onResetGesture=function(){var t=a.injectData,e=t.flicking,t=t.state;e.enableInput(),t.resizeTimer&&window.clearTimeout(t.resizeTimer)},a._onExitGestureProcess=function(t){var e=t.translate,o=a.injectData.ghostImageLayout,i=o.getElement(),t=function(){var t=this.injectData,e=t.wrapViewUnit,i=t.image,n=t.flicking,r=i.getBoundingClientRect(),t=this.itemControlService.getImgFromList();this.animationService.uncover(t),e.hide(),Ma(i,{visibility:"hidden"}),o.prepare(r,i.src,!0),n.disableInput(),this.isExitGestureStart=!0}.bind(a);a.animationService.gestureExitProcess(i,a.isExitGestureStart,e,t)},a._onExitGestureComplete=function(t){if(a.isExitGestureStart){var e,i,n,r,o=t.translate;if(Math.abs(o)>=a.gesture.options.exitGestureDistance)return a.animationService.cover(),a.eventProxy.trigger(Rt.CLOSE,{toImgEl:null,isGoBack:!0,gestureDistance:o}),void(a.isExitGestureStart=!1);!0!==a.state.isPlaying&&(a.state.isPlaying=!0,t=(e=a.injectData).ghostImageLayout,i=e.elBase,n=e.flicking,r=e.wrapViewUnit,t=t.getElement(),a.animationService.guestureExitComplete(t,o,function(){Ma(i,{opacity:1}),a.animationService.cover(),n.enableInput(),r.show(),a.isExitGestureStart=!1,a.state.isPlaying=!1}))}},a.di=t,a.injectData=a.di.getData();t=a.injectData.browserInfo;return a.useVerticalGesture=!t.isLowerAndroidBrowserVersion,a.eventProxy=a.injectData.eventProxy,a}var cm,lm=(Li(hm,cm=Hi),hm.prototype.createInstance=function(){var i=this.defaultLayoutPool,n=this.customLayoutPool;Oa(i,function(t,e){t=new t;t instanceof Hp||t instanceof Ap?n[t.getLayoutId()]=t:i[e]=t})},hm.prototype.mergePool=function(){var t=this.defaultLayoutPool,e=this.customLayoutPool;this.layoutPool=Pa(t,e)},hm.prototype.initalizeLayout=function(i,n){var r,t=this.defaultLayoutPool,o=this.eventProxy;Oa(t,function(t,e){r=Pa({},n[e],{eventProxy:o}),t.initialize(i,r),t.defineCustomEvent()})},hm.prototype.collectedEvent=function(){var e=this;Oa(Pa(this.layoutPool,this.customLayoutPool),function(t){e.eventProxy.collectAttachedEvent(t)})},hm.prototype.getLayoutInstance=function(t){var e=this,i=pa(t);return ba(t)?Ot(t).call(t,function(t){return e.layoutPool[t]},[]):"string"===i?this.layoutPool[t]:this.layoutPool},hm.prototype.addCustomLayout=function(t){t.initialize(this.elBase),this.customLayoutPool[t.getLayoutId()]=t,this.eventProxy.collectAttachedEvent(t)},hm.prototype.removeCustomLayout=function(t){var e=this.customLayoutPool[t];delete this.customLayoutPool[t],e.deactivate(),e=null},hm.prototype.getCustomLayoutsProxy=function(){function i(e,i){Ct(n).forEach(function(t){n[t][e]&&n[t][e](i)})}var n=this.customLayoutPool;return{deactivate:function(){i("deactivate")},activate:function(){i("activate")},hide:function(){i("hide")},show:function(){i("show")},refresh:function(t,e){i("refresh",{data:t,index:e})},toggle:function(){i("toggle")},listenViewerEvent:function(t,e){i("listenViewerEvent",{eventName:t,eventData:e})}}},hm.prototype.addLayout=function(t){var e=this;ba(t)?t.forEach(function(t){e.addCustomLayout(t)}):this.addCustomLayout(t)},hm.prototype.removeLayout=function(t){var e=this;ba(t)?t.forEach(function(t){e.removeCustomLayout(t)}):this.removeCustomLayout(t)},hm.prototype.destroy=function(){Oa(this.layoutPool,function(t){t.destroy()})},hm);function hm(t,e,i,n){var r=cm.call(this)||this;return r.customLayoutPool={},r.elBase=t,r.eventProxy=e,r.defaultLayoutPool=i,r.mergePool(),r.createInstance(),r.initalizeLayout(t,n),r.collectedEvent(),r}var pm=(fm.prototype.show=function(t){var e=this.injectData,i=e.state,n=e.linkLayout,r=e.customLayoutsProxy,o=e.videoToolbarLayout,e=e.captionLayout;this.isShowSide=!0,this.showCaption(),n.show(),r.show(),this.toggleBottomLayer(!0,t),i.videoPlayed&&o.show(),o.setBottomPosition(e.getHeight())},fm.prototype.hide=function(){var t=this.injectData,e=t.state,i=t.captionLayout,n=t.linkLayout,r=t.customLayoutsProxy,o=t.exceptionLayout,t=t.videoToolbarLayout;e.videoPlayed&&t.hide(),i.hide(),n.hide(),r.hide(),this.isShowSide=!1,o.isVisiblity()||this.toggleBottomLayer(!1)},fm.prototype.toggle=function(){this.injectData.exceptionLayout.isVisiblity()||(this.isShowSide?this.hide():this.show())},fm.prototype.resize=function(){this.injectData.captionLayout.resize(),this.updateBottomHeight()},fm.prototype.isVisibility=function(){return this.isShowSide},fm.prototype.toggleBottomLayer=function(t,e){ka(this.layout.HEADER,Vt.HIDE,!t),ka(this.layout.BOTTOM,Vt.HIDE,null!=e?!e:!t)},fm.prototype.showCaption=function(){var t=this.injectData,e=t.hrImageIndexLayout,t=t.captionLayout;!1===e.isVisiblity()?t.show():t.hide()},fm.prototype.update=function(t,e,i){var n=this.injectData,r=n.indexIndicatorLayout,o=n.captionLayout,s=n.linkLayout,a=n.customLayoutsProxy,n=n.itemModel,n=i||n.getCurrent();-1<t&&-1<e&&r.refresh({index:t+1,total:e}),a.refresh(n,t),o.refresh(n),s.refresh(n),this.isShowSide&&(this.showCaption(),s.show())},fm.prototype.activate=function(){this.injectData.customLayoutsProxy.activate()},fm.prototype.deactivate=function(){this.injectData.customLayoutsProxy.deactivate()},fm.prototype.updateBottomHeight=function(){var t=Ut.CAPTION_BASE_PADDING,e=Ut.IPHONE_X_CAPTION_PADDING,i=So(),n=i.isNaverApp,r=i.isTouchHomeButtonIOS,o=this.injectData.captionLayout,i=t;o.isCaptionEmpty?o.hide():(this.isShowSide&&o.show(),go()&&r&&(n||vo())&&(i=t+e)),Ma(this.layout.BOTTOM,{paddingBottom:i+"px"})},fm.prototype.updateIndicatorIndex=function(t){this.injectData.indexIndicatorLayout.refresh(t)},fm);function fm(t,e){this.isShowSide=!1;var i=Gt.HEADER,n=Gt.CAPTION;this.layout={HEADER:t.querySelector(i),BOTTOM:t.querySelector(n)},this.injectData=e.getData()}var dm=(gm.prototype.bindProps=function(t,e){this.getProps=t,this.setProps=e},gm.prototype.regist=function(t){for(var e in t)t[e]&&(this.setProps[e]=t[e])},gm.prototype.getData=function(){return this.getProps},gm.prototype.destroy=function(){this.getProps=null,this.setProps=null},gm);function gm(){}var vm={options:null,browserInfo:So(),flicking:null,elBase:null,elRoot:null,elItemList:null,itemModel:null,image:null,state:null,imageWrap:null,itemPanel:null,wrapViewUnit:null,layoutPool:null,itemLoader:null,customLayoutsProxy:null,eventProxy:null};function mm(i,t){return Oa(t,function(t,e){Object.defineProperty(i,e,{get:t})}),i}var ym={getCommonProps:function(i){var t={},e={},n=["options","browserInfo","wrapViewUnit","flicking","elBase","elRoot","elItemList","itemModel","image","state","imageWrap","itemPanel","layoutPool","itemLoader","customLayoutsProxy","eventProxy"];return Ot(n).call(n,function(t,e){return t[e]=function(){return i[e]},t},e),t=mm(t,e),mm(t,{hrImageIndexLayout:function(){return i.layoutPool.getLayoutInstance(Mt.H_IMAGE_INDEX)},ghostImageLayout:function(){return i.layoutPool.getLayoutInstance(Mt.GHOST_IMAGE)},headerLayout:function(){return i.layoutPool.getLayoutInstance(Mt.HEADER)},footerLayout:function(){return i.layoutPool.getLayoutInstance(Mt.FOOTTER)},backgroundLayout:function(){return i.layoutPool.getLayoutInstance(Mt.BACKGROUND)},gestureProxy:function(){return i.gestureProxy},captionLayout:function(){return i.layoutPool.getLayoutInstance(Mt.CAPTION)},closeButtonLayout:function(){return i.layoutPool.getLayoutInstance(Mt.CLOSE_BTN)},indexIndicatorLayout:function(){return i.layoutPool.getLayoutInstance(Mt.INDEX_INDICATOR)},linkLayout:function(){return i.layoutPool.getLayoutInstance(Mt.LINK)},exceptionLayout:function(){return i.layoutPool.getLayoutInstance(Mt.EXCEPTION)},toastLayout:function(){return i.layoutPool.getLayoutInstance(Mt.TOAST)},videoToolbarLayout:function(){return i.layoutPool.getLayoutInstance(Mt.VIDEO_TOOLBAR)}})},defineGetter:mm},_m=(Em.prototype.bindProps=function(t){this.props=Ni({},this.props,t)},Em.prototype.setOnSuccess=function(t){this.onSuccess=t},Em.prototype.setOnFail=function(t){this.onFail=t},Em.prototype.getProps=function(){return this.props},Em);function Em(){this.props={},this.props={},this.onSuccess=function(){},this.onFail=function(){}}var Im,Et=(Li(bm,Im=Hi),bm.prototype.load=function(n,r,o,s){return Mi(this,void 0,void 0,function(){var e,i;return ki(this,function(t){switch(t.label){case 0:e=n===r,this.panel=o,this.initPanel(s),e&&this.setLoadingEl(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.loadItem(n,r,s)];case 2:return i=t.sent(),this.trigger("itemLoaded"),e&&this.hideLoadingEl(),[2,i];case 3:return i=t.sent(),e&&this.hideLoadingEl(),this.trigger("itemLoaded"),[2,fc.reject(i)];case 4:return[2]}})})},bm.prototype.hideLoadingEl=function(){Ra(this.panel.querySelector(Gt.IMAGE_PANEL_LOADING))},bm);function bm(t,e){void 0===t&&(t={});var i=Im.call(this)||this;return i._options=t,i.eventProxy=e,i}var Tm,Pm=So(),Sm=(Li(xm,Tm=It),xm.prototype.load=function(t){var i=this,n=t.isDisplayPanel,e=t.thumbImage,r=t.panel,o=t.loadData,s=t.itemData;return this.panel=r,n?(this.createVideoPlayer(),Ra(e)):this.resetVideoPlayer(),new fc(function(t,e){n?(i.promiseCallFunc.canplay=function(){Na(i.corePlayer.shadowRoot),t(o),i.promiseCallFunc.canplay=null,i.promiseCallFunc.error=null},i.promiseCallFunc.error=function(){s.videoData.autoPlay=!1,e(o),i.promiseCallFunc.canplay=null,i.promiseCallFunc.error=null},i.selectDataProvider=!1,i.unbindEvent(),i.videoLoad(s),i.bindEvent(),i.corePlayer.autoplay=s.videoData.autoPlay):(i.promiseCallFunc.canplay=null,i.promiseCallFunc.error=null,t(o))})},xm.prototype.createVideoPlayer=function(){var t=this.panel.querySelector(Gt.VIDEO_WRAP),e=t.querySelector(Gt.VIDEO_ITEM),i=e.childNodes[0],n=this.corePlayer.shadowRoot,r=n.querySelector("video").parentNode;Ma(t,{position:"absolute",height:"100%",width:"100%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}),i&&e.removeChild(i),ka(n,Vt.VIDEO_CONTENTS,!0),ka(r,Vt.VIDEO_SOURCE,!0),Ra(n),e.appendChild(n)},xm.prototype.resetVideoPlayer=function(){var t,e;this.unbindEvent(),this.corePlayer.pause(),this.corePlayer.src="",this.corePlayer.autoplay=!1,!this.panel||(e=(t=this.panel.querySelector(Gt.VIDEO_WRAP).querySelector(Gt.VIDEO_ITEM)).childNodes[0])&&t.removeChild(e)},xm.prototype.getBufferRange=function(){var t=this.corePlayer.buffered;return{bufferedStartTime:0<t.length?t.start(0):0,bufferedEndTime:0<t.length?t.end(0):0}},xm.prototype.getSeekRange=function(){var t=this.corePlayer.seekable;return{seekStartTime:0<t.length?t.start(0):0,seekEndTime:0<t.length?t.end(0):0}},xm.prototype.getVideoProps=function(){var t=this.corePlayer.shadowRoot.querySelector("video"),e=0;return{durationTime:e=t?t.duration:e}},xm.prototype.unbindEvent=function(){this.corePlayer.removeEventListener("loadedmetadata",this.triggerMetaLoadedData),this.corePlayer.removeEventListener("playing",this.triggerPlaying),this.corePlayer.removeEventListener("canplay",this.triggerCanplay),this.corePlayer.removeEventListener("timeupdate",this.triggerUpdateTime),this.corePlayer.removeEventListener("error",this.triggerError),this.corePlayer.removeEventListener("durationchange",this.triggerDurationChange),this.corePlayer.removeEventListener("progress",this.triggerProgress),this.corePlayer.removeEventListener("suspend",this.triggerSuspend),this.corePlayer.removeEventListener("volumechange",this.triggerVolumechange),this.corePlayer.removeEventListener("resize",this.resize),this.corePlayer.removeEventListener("ended",this.triggerEnd)},xm.prototype.bindEvent=function(){this.corePlayer.addEventListener("loadedmetadata",this.triggerMetaLoadedData),this.corePlayer.addEventListener("canplay",this.triggerCanplay),this.corePlayer.addEventListener("playing",this.triggerPlaying),this.corePlayer.addEventListener("timeupdate",this.triggerUpdateTime),this.corePlayer.addEventListener("error",this.triggerError),this.corePlayer.addEventListener("durationchange",this.triggerDurationChange),this.corePlayer.addEventListener("progress",this.triggerProgress),this.corePlayer.addEventListener("suspend",this.triggerSuspend),this.corePlayer.addEventListener("volumechange",this.triggerVolumechange),this.corePlayer.addEventListener("ended",this.triggerEnd)},xm.prototype.getVideoStatus=function(){var t=this.getVideoProps().durationTime,e=this.getBufferRange(),i=e.bufferedStartTime,n=e.bufferedEndTime,r=this.corePlayer,o=r.muted,s=void 0!==o&&o,e=r.currentTime,o=r.paused,r=this.getSeekRange();return{playing:!o,durationTime:t,currentTime:e,bufferedStartTime:i,bufferedEndTime:n,seekStartTime:r.seekStartTime,seekEndTime:r.seekEndTime,muted:s}},xm.prototype.videoLoad=function(t){t.videoData.provider===Ht.DATA?(this.dataByLoad(t),this.selectDataProvider=!0):this.vodByLoad(t)},xm.prototype.dataByLoad=function(t){var e=this.validateVideoData(t.videoData),i=e.isValid,n=e.errorMessage,r=t.width,e=t.height;if(!i)throw new Error(n);t=new this.playerModule.DataProvider({videoTracks:[{src:t.videoData.url,width:r,height:e,selected:!0}],poster:t.thumbUrl,textTracks:[]});(this.corePlayer.srcObject=t).load()},xm.prototype.vodByLoad=function(t){var e=this.validateVideoData(t.videoData),i=e.isValid,e=e.errorMessage;if(!i)throw new Error(e);e="720p";this.isDeskTop&&(e="1080p");e=Ht.VOD+"://"+t.videoData.serviceId+":"+t.videoData.vodKey+"@"+t.videoData.vodId+"?providerEnv="+this.envType+"#track="+e;this.corePlayer.src=e},xm.prototype.play=function(){this.corePlayer.play(),this.trigger("play",{currentTime:this.corePlayer.currentTime})},xm.prototype.pause=function(){this.corePlayer.pause(),this.trigger("pause",{currentTime:this.corePlayer.currentTime})},xm.prototype.close=function(){this.corePlayer.pause(),this.resetVideoPlayer()},xm.prototype.isPaused=function(){return this.corePlayer.paused},xm.prototype.seekTime=function(t){this.corePlayer.currentTime=t},xm.prototype.toggleMuteSound=function(t){t="boolean"!=typeof t?!this.corePlayer.muted:t;this.corePlayer.muted=t},xm.prototype.stop=function(){this.corePlayer.pause()},xm.prototype.validateVideoData=function(t){var e=this.errorMessage;return t?t.provider!==Ht.DATA||t.url?t.provider!==Ht.VOD||t.vodId&&t.vodKey||(e="VOD 형식의 Video는 vodId와 vodKey가 필요합니다."):e="Data 형식의 Video는 url이 필요합니다.":e="Video Item은 videoData 객체가 필요합니다.",{isValid:!e,errorMessage:e}},xm);function xm(t,e){var o=Tm.call(this)||this;o.appleDevice=Pm.isIOS||Pm.isMacOs,o.isDeskTop=Pm.isDeskTop,o.selectDataProvider=!1,o.promiseCallFunc={canplay:null,error:null,loadeddata:null},o.triggerProgress=function(t){var e=o.getVideoStatus();o.trigger("progress",Ni({eventObj:t},e))},o.triggerSuspend=function(t){var e=o.getVideoStatus();o.selectDataProvider&&o.promiseCallFunc.canplay&&o.promiseCallFunc.canplay(t),o.trigger("suspend",Ni({eventObj:t},e))},o.triggerDurationChange=function(t){var e=o.getVideoStatus();o.trigger("durationChange",Ni({eventObj:t},e))},o.triggerMetaLoadedData=function(t){o.promiseCallFunc.canplay&&o.promiseCallFunc.canplay(t)},o.triggerCanplay=function(t){var e=o.getVideoStatus();o.trigger("canplay",Ni({eventObj:t},e)),o.promiseCallFunc.canplay&&o.promiseCallFunc.canplay(t)},o.triggerPlaying=function(t){var e=o.getVideoStatus();o.trigger("playing",Ni({eventObj:t},e))},o.triggerError=function(t){o.unbindEvent(),o.resetVideoPlayer(),o.promiseCallFunc.error&&o.promiseCallFunc.error(t),o.trigger("error",{eventObj:t})},o.triggerUpdateTime=function(t){var e=o.getVideoStatus();o.trigger("updateTime",Ni({eventObj:t},e))},o.triggerVolumechange=function(t){var e=o.corePlayer.muted;o.trigger("volumeChange",{eventObj:t,muted:e})},o.triggerEnd=function(t){var e=o.getVideoStatus();o.trigger("end",Ni({eventObj:t},e))},o.resize=function(){var t=o.corePlayer.shadowRoot.querySelector("video"),e=o.corePlayer,i=e.videoWidth,n=e.videoHeight,r=0,e=0;t&&(e=0===i||0===n?(Ma(t,{width:"auto",height:"auto"}),r=t.offsetWidth,t.offsetHeight):(r=i,n),Ma(t,{width:e<r||r===e?"100%":"auto",height:r<e||r===e?"100%":"auto"}))};var i=t.default;return o.envType=e,o.playerModule=t,o.corePlayer=new i,o}var Om,wm=(Li(Am,Om=It),Am.prototype.load=function(t){t=t.loadData;return this.player.state="load",fc.resolve(t)},Am.prototype.play=function(){this.player.state="play"},Am.prototype.pause=function(){this.player.state="pause"},Am.prototype.isPaused=function(){return"pause"===this.player.state},Am.prototype.stop=function(){this.player.state="stop"},Am.prototype.seekTime=function(t){this.player.seekTime=t},Am.prototype.toggleMuteSound=function(t){this.player.soundOn=t},Am.prototype.resize=function(){this.player.state="resize"},Am.prototype.close=function(){this.player.state="close"},Am.prototype.validateVideoData=function(t){var e=this.errorMessage;return{isValid:!(e=!t?"Video Item은 videoData 객체가 필요합니다.":e),errorMessage:e}},Am);function Am(){var t=null!==Om&&Om.apply(this,arguments)||this;return t.player={state:"none"},t}var Cm,Dm=(Li(Lm,Cm=Et),Lm.prototype.initPlayer=function(){var t=this._options.videoPlayerSettings,e=t.playerModule,i=t.type,t=t.envType;this.videoPlayer=(e=void 0===e?{}:e,t=void 0===t?de:t,(i=void 0===i?"":i)===ge.VINFRA?new Sm(e,t):i===ge.CUSTOM&&e?new e(t):new wm)},Lm.prototype.initPanel=function(t){var e=t.thumbUrl,i=this.panel.querySelector("img"),n=this.panel.querySelector(Gt.IMAGE_WRAP),r=this.panel.querySelector(Gt.VIDEO_WRAP),o=this.panel.querySelector(Gt.IMAGE_PANEL_LOADING),s=this.panel.querySelector(Gt.VIDEO_BUTTONS),a=s.querySelector(Gt.PLAY_BUTTON),t=s.querySelector(Gt.PAUSE_BUTTON);this.videoButtons=s,this.playButton=a,this.pauseButton=t,e&&(i.setAttribute("data-src",e),wc(i),Na(n),Ra(r),Ra(o))},Lm.prototype.setLoadingEl=function(){Na(this.panel.querySelector(Gt.IMAGE_PANEL_LOADING))},Lm.prototype.loadItem=function(t,e,i){var n=this,r={itemModelIndex:e,itemType:i.itemType,metaData:{duration:null}},o=t===e,s=this.panel.querySelector(Gt.IMAGE_WRAP),a=this.videoPlayer.validateVideoData(i.videoData),t=a.isValid,a=a.errorMessage;if(this.displayPanelLoad=o,this.itemData=i,this.itemIndex=e,!t)throw new Error(a);this.unbindEvent(),o&&(this.played=!1,this.bindEvent());a=this.panel;return this.videoPlayer.load({isDisplayPanel:o,thumbImage:s,panel:a,itemData:i,loadData:r}).then(function(t){return o&&(n.initPlayerPanel(i.videoData.autoPlay),i.videoData.autoPlay=!1,n.eventProxy.trigger(jt.PAUSE,{itemData:i,played:n.played})),t})},Lm.prototype.unbindEvent=function(){var e=this.videoPlayer,t=this.eventProxy,i=jt.TRIGGER_PLAY,n=jt.TRIGGER_PAUSE,r=jt.TRIGGER_CHANGE_TIME,o=jt.TRIGGER_SOUND_MUTE_ON,s=jt.TRIGGER_SOUND_MUTE_OFF,a=jt.TRIGGER_RESIZE,u=jt.TIGGER_TOGGLE_PLAY,c=jt.TRIGGER_CLOSE,l=jt.TRIGGER_UNBIND;["canplay","play","playing","pause","updateTime","durationChange","progress","suspend","error","volumeChange","end"].forEach(function(t){e.off(t)}),t.off(u,this.togglePlay),t.off(i,this.play),t.off(n,this.pause),t.off(r,this.updateCurrentTime),t.off(o,this.soundMuteOn),t.off(s,this.soundMuteOff),t.off(a,this.resize),t.off(c,this.close),t.off(l,this.unbindEventTrigger)},Lm.prototype.bindEvent=function(){var c=this,l=this.videoPlayer,h=this.eventProxy,p=this.itemData,f=jt.CANPLAY,i=jt.PLAY,e=jt.PLAYING,n=jt.PAUSE,r=jt.UPDATE_CURRENT_TIME,o=jt.UPDATE_DURATION_TIME,s=jt.PROGRESS,a=jt.SUSPEND,u=jt.ERROR,d=jt.END,g=jt.VOLUME_CHANGE,t=jt.TRIGGER_PLAY,v=jt.TRIGGER_PAUSE,m=jt.TRIGGER_CHANGE_TIME,y=jt.TRIGGER_SOUND_MUTE_ON,_=jt.TRIGGER_SOUND_MUTE_OFF,E=jt.TRIGGER_RESIZE,I=jt.TIGGER_TOGGLE_PLAY,b=jt.TRIGGER_CLOSE,T=jt.TRIGGER_UNBIND;l.on("canplay",function(t){var e=t.playing,i=t.durationTime,n=t.currentTime,r=t.bufferedStartTime,o=t.bufferedEndTime,s=t.seekStartTime,a=t.seekEndTime,u=c.played,t="off"!==In(ve);h.trigger(f,{playing:e,itemData:p,durationTime:i,currentTime:n,bufferedStartTime:r,bufferedEndTime:o,seekStartTime:s,seekEndTime:a,muted:t,played:u}),!1===c.isMobile&&l.toggleMuteSound(t)}),l.on("play",function(t){var e=c.played;h.trigger(i,Ni({itemData:p,played:e},t)),c.firstPlayCheck()}),l.on("playing",function(t){c.played=!0,h.trigger(e,Ni({itemData:p,played:c.played},t)),c.firstPlayCheck()}),l.on("pause",function(t){var e=c.played;h.trigger(n,Ni({itemData:p,played:e},t))}),l.on("end",function(t){var e=c.played;h.trigger(d,Ni({itemData:p,played:e},t))}),l.on("updateTime",function(t){var e=c.played;h.trigger(r,Ni({itemData:p,played:e},t))}),l.on("durationChange",function(t){var e=c.played;h.trigger(o,Ni({itemData:p,played:e},t))}),l.on("progress",function(t){var e=c.played;h.trigger(s,Ni({itemData:p,played:e},t))}),l.on("suspend",function(t){var e=c.played;h.trigger(a,Ni({itemData:p,played:e},t))}),l.on("volumeChange",function(t){t=t.muted;h.trigger(g,{itemData:p,muted:t})}),l.on("error",function(t){var e,i,n,r;!1!==c.displayPanelLoad&&(e=c.panel,i=c.itemIndex,n=c.playButton,r=c.pauseButton,Ra(n),Ra(r),p.videoData.autoPlay=!1,h.trigger(u,Ni({itemData:p,itemIndex:i,itemPanel:e},t)))}),h.on(I,this.togglePlay),h.on(t,this.play),h.on(v,this.pause),h.on(m,this.updateCurrentTime),h.on(y,this.soundMuteOn),h.on(_,this.soundMuteOff),h.on(E,this.resize),h.on(b,this.close),h.on(T,this.unbindEventTrigger)},Lm.prototype.firstPlayCheck=function(){var t=this.playButton,e=this.pauseButton;this.played||(Ra(t),Ra(e),this.played=!0)},Lm.prototype.togglePlay=function(){this.videoPlayer.isPaused()?this.videoPlayer.play():this.videoPlayer.pause()},Lm.prototype.initPlayerPanel=function(t){this.renderButtons(t),this.unbindControlButtonEvent(),this.bindcontrolButtonEvent()},Lm.prototype.renderButtons=function(t){var e=this.playButton,i=this.pauseButton;this.videoButtons&&(Ra(i),(t?Ra:Na)(e))},Lm.prototype.unbindControlButtonEvent=function(){var t=this.playButton,e=this.play,i=this.videoButtons,n=this.onVideoButtons;Ha(t,"click",e),Ha(i,"click",n)},Lm.prototype.bindcontrolButtonEvent=function(){var t=this.videoButtons,e=this.playButton,i=this.play,n=this.onVideoButtons;za(e,"click",i),za(t,"click",n)},Lm);function Lm(t,e){var i=Cm.call(this,t=void 0===t?{}:t,e)||this;return i.isMobile=So().isMobile,i.displayPanelLoad=!1,i.play=function(t){Xc(t),i.videoPlayer.play()},i.pause=function(t){Xc(t),i.videoPlayer.pause()},i.resize=function(){i.videoPlayer.resize()},i.close=function(){i.videoPlayer.close()},i.unbindEventTrigger=function(){i.unbindEvent()},i.updateCurrentTime=function(t){t=t.seekTime;i.videoPlayer.seekTime(t)},i.soundMuteOn=function(){bn(ve),i.videoPlayer.toggleMuteSound(!0)},i.soundMuteOff=function(){En(ve,"off"),i.videoPlayer.toggleMuteSound(!1)},i.onVideoButtons=function(t){Xc(t)},i.initPlayer(),i}var Nm,Rm=(Li(Mm,Nm=Et),Mm.prototype.initPanel=function(){var t=this.panel.querySelector(Gt.VIDEO_WRAP),e=this.panel.querySelector(Gt.IMAGE_WRAP),i=this.panel.querySelector(Gt.IMAGE_PANEL_LOADING);Na(e),Ra(t),Ra(i)},Mm.prototype.setLoadingEl=function(){Na(this.panel.querySelector(Gt.IMAGE_PANEL_LOADING))},Mm.prototype.loadItem=function(t,e,i){var n=this,r=i.imgSrc,o=this.panel.querySelector("img"),t=t===e,s=!0==t&&!0===this._options.useFadeEffect&&!1===Mm.USE_EFFECT_OFF,a={imageEl:o,data:i,itemModelIndex:e,isDisplayPanel:t,isApplyFadeAction:s},u=!1;try{u=decodeURIComponent(o.src)===decodeURIComponent(r)}catch(t){}return new fc(function(t,e){u?n.afterLoadImage(a,t):(o.setAttribute("data-src",r),n.setCss(o,s),wc(o).then(function(){n.afterLoadImage(a,t)}).catch(function(){o.src=Dt,n.afterLoadImage(a,e)}))})},Mm.prototype.setCss=function(t,e){var i={};e?i.opacity="0":i.display="none",i.transform="translate3d(0px, 0px, 0px) scale3d(1, 1, 1)",Ma(t,i)},Mm.getAfterLoadData=function(t){var e=t.data;return{itemModelIndex:t.itemModelIndex,itemType:e.itemType}},Mm.afterLoadAction=function(t,e,i){t?(i&&Ma(e,{opacity:"0"}),Mm.onFadeAction(e)):Mm.defaultImageLoadAction(e)},Mm.onFadeAction=function(t){qa(t,"__dummy1",{opacity:"1",display:"inline-block"},function(){t.style.transition=""})},Mm.defaultImageLoadAction=function(t){Ma(t,{display:"inline-block",opacity:"1"})},Mm.USE_EFFECT_OFF=!1,Mm);function Mm(t,e){e=Nm.call(this,t=void 0===t?{}:t,e)||this;return e.afterLoadImage=function(t,e){var i=t.imageEl,n=t.isApplyFadeAction;t.isDisplayPanel&&(Mm.USE_EFFECT_OFF=!1),i.removeAttribute("width"),Mm.afterLoadAction(n,i),e(Mm.getAfterLoadData(t))},e._options=t,e}var km=(Vm.prototype.getItemFromPool=function(t,e){var i=t===zt.IMAGE,t=i?Rm:Dm,i=i?this.imageItemPool:this.videoItemPool;return this.itemMap[e]||(0<i.length?i.pop():new t(this._options,this.eventProxy))},Vm.prototype.setItemInMap=function(t,e){this.itemMap[t]=e},Vm.prototype.releaseItemByIndex=function(i){var n=this,r=this.itemMap;Ct(r).forEach(function(t){var e=Number(t.replace(/item/gi,""));i-1<=e&&e<=i+1||(t=r[e],n.returnItemInPool(t),delete r[e])})},Vm.prototype.returnItemInPool=function(t){t instanceof Rm?this.imageItemPool.push(t):t instanceof Dm&&(t.initPlayer(),this.videoItemPool.push(t))},Vm.prototype.clear=function(){this.imageItemPool=[],this.videoItemPool=[]},Vm);function Vm(t,e){this.imageItemPool=[],this.videoItemPool=[],this.itemMap={},this._options=t,this.eventProxy=e}var zm,Hm=(Li(jm,zm=Hi),jm.imagePresetData=function(t){return t?(t.imgSrc=Cc(t.thumbUrl),t):null},jm.prototype.loadCount=function(){this.loadCounter++,this.loadCounter===this.willLodCount&&(this.loading=!1,this.trigger("onAllLoadItem"))},jm.prototype.setItemInPanel=function(t,e){var i=this,n=e.itemModelIndex,r=e.panel,o=e.data;if(!o)throw new Error;var s=this.itemPoolManager.getItemFromPool(e.type,n),a=e.type;s.once("itemLoaded",function(){return i.itemLoaded(s,n)}),s.load(t,n,r,o).then(function(){Na(r),i.callbackProxy.onSuccess(n)}).catch(function(t){t=t.metaData,t=void 0===t?{}:t,t=Pa(i.callbackProxy.getProps().extendMetaData,t,{itemPanel:r});i.callbackProxy.onFail(a,t,n)})},jm.prototype.itemLoaded=function(t,e){this.itemPoolManager.setItemInMap(e,t),this.loadCount()},jm.presetItemData=function(t){return t&&t.itemType===zt.IMAGE?jm.imagePresetData(t):t&&t.itemType===zt.VIDEO?t:null},jm.prototype.setItemsByIndex=function(e,t){var i=this,n=ef(),r=t.current,o=t.prev,s=t.next,a=jm.presetItemData(n.get(e-1)),t=jm.presetItemData(n.get(e)),n=jm.presetItemData(n.get(e+1)),n=[{itemModelIndex:e-1,panel:o,data:a,type:a?a.itemType:null},{itemModelIndex:e,panel:r,data:t,type:t?t.itemType:null},{itemModelIndex:e+1,panel:s,data:n,type:n?n.itemType:null}];this.itemPoolManager.releaseItemByIndex(e),this.loadCounter=0,this.willLodCount=0,ll(n).call(n,function(t){return t.data&&i.willLodCount++,t.data}).forEach(function(t){i.setItemInPanel(e,t)}),this.loading=!0},jm.prototype.isLoading=function(){return this.loading},jm.prototype.reset=function(){this.itemPoolManager.clear(),this.loading=!1},jm);function jm(t,e){var i=zm.call(this)||this;return i.loadCounter=0,i.willLodCount=0,i.loading=!1,i._options=Pa({},{useFadeEffect:!1,videoPlayerSettings:{}},e),i.callbackProxy=new _m,i.itemPoolManager=new km(i._options,t),i}var Gm,Bm=(Li(Fm,Gm=Hi),Fm.prototype.collectAttachedEvent=function(t){var i=this,e=t.getEventMap();null!==e&&Oa(e,function(e){t.on(e,function(t){i.trigger(e,t)})})},Fm.ATTACH_EVENT={},Fm.PUBLISH_EVENT={},Fm);function Fm(){return null!==Gm&&Gm.apply(this,arguments)||this}var Um,Xm=(Li(qm,Um=xn),qm.prototype.show=function(t,e){t=Pa({},t);this.visibility&&this.hide(),Na(this.element),this.element.innerHTML='<div class="civ__placeholder--error">\n      <div class="civ__error_area">\n          <a href="#" role="button" class="civ__btn--refresh">새로고침</a>\n          <p class="civ__text">'+t.message+"</p>\n      </div>\n  </div>",this.appendTarget||e.appendChild(this.element),this.appendTarget=e,this.visibility=!0,za(this.element,"click",this.onClickReload),this.trigger(Xt.SHOW,{renderData:t})},qm);function qm(){return null!==Um&&Um.apply(this,arguments)||this}var Wm=(Ym.prototype.getDI=function(){return this.di},Ym.prototype.bindPropsData=function(t,e){var i=e.videoPlayerSettings,n=t.elRoot,r=t.elBase,o=new Bm,s=Qp(),a=ef(),u=Ym.createLayoutPool(t,o,e),c=new pm(r,this.di),l=Ym.createFlicking(t),h=l.getElement().querySelector(Gt.IMAGE_WRAP),p=h.querySelector("img"),r=u.getCustomLayoutsProxy(),i=new Hm(o,{useFadeEffect:!1,videoPlayerSettings:i});s.elRootOverflow=Ma(n,"overflow"),this.di.regist(Ni({},t,{options:e,state:s,itemModel:a,layoutPool:u,wrapViewUnit:c,flicking:l,imageWrap:h,image:p,itemLoader:i,customLayoutsProxy:r,eventProxy:o}))},Ym.configureProps=function(t){t=t.getterProps;return ym.defineGetter(t,{}),t},Ym.createLayoutPool=function(t,e,i){var n=i.layoutOption,r=t.elRoot,o=t.elBase,s=xa(n,Mt.H_IMAGE_INDEX+".activate"),n=Pa({},n,((t={})[Mt.GHOST_IMAGE]={elParent:r},t[Mt.INDEX_INDICATOR]={useIndex:"boolean"!=typeof s||s,totalAllItemCount:i.totalAllItemCount},t)),t=((t={})[Mt.HEADER]=Vc,t[Mt.FOOTTER]=el,t[Mt.BACKGROUND]=jc,t[Mt.EXCEPTION]=Xm,t[Mt.GHOST_IMAGE]=yp,t[Mt.H_IMAGE_INDEX]=Nl,t[Mt.VIDEO_TOOLBAR]=Fp,t[Mt.TOAST]=rl,t[Mt.CAPTION]=Ip,t[Mt.CLOSE_BTN]=xp,t[Mt.INDEX_INDICATOR]=Lp,t[Mt.LINK]=kp,t);return new lm(o,e,t,n)},Ym.createFlicking=function(t){return new Gv(t.itemPanel,{circular:!0,prefix:"_CV_flick",zIndex:10,flickPanelPadding:Ut.FLICK_PANEL_PADDING,imageSelector:Gt.IMAGE_ITEM})},Ym);function Ym(t,e){var i=this.property,n=this.getterProps,i=Pa(vm,{wrapViewUnit:null}),n=ym.getCommonProps(i);this.di=new dm,this.di.bindProps(Ym.configureProps({getterProps:n}),i),this.bindPropsData(t,e)}var Km,$m=function(t,e){var r=e.getData(),o=t.close,s=t.resize;return(t={})[uf.KEYDOWN]=function(t){var e=r.itemModel,i=r.flicking;switch(t.keyCode){case Wc.ESC:o();break;case Wc.LEFT:e.isFirst()||i.movePrev();break;case Wc.RIGHT:e.isLast()||i.moveNext()}},t[uf.POPSTATE]=function(){o(null,!1)},t[uf.RESIZE]=function(){var t=r.hrImageIndexLayout,e=r.flicking,i=r.elRoot,n=r.state;window.clearTimeout(n.resizeTimer),e.restore(0),n.resizeTimer=window.setTimeout(function(){s(!0)},100),t.updateVisibleWidth(),Ma(i,"opacity")<1&&o()},t},Zm=function(t,e){var r=e.getData(),i=t.updateCurrentImageIndexData,o=t.indexChangeAfter;return(t={})[lf.DATA_CHANGE]=function(t){i(t)},t[lf.INDEX_CHANGE]=function(t){var e=r.itemModel,i=r.exceptionLayout,n=r.wrapViewUnit;i.hide();i=t.newIndex;n.update(i,e.length,e.getCurrent()),o(t.newIndex)},t},Jm=(Li(Qm,Km=et),Qm.prototype.initialize=function(){var t=this.injectData,e=t.options,i=t.itemModel,n=t.state,r=t.elRoot,t=t.hrImageIndexLayout;this.eventProxy=this.injectData.eventProxy,this.viewController=new rm(this.di),this.interactionController=new am(this.di),this.eventProxy.on(this.getMediaViewerEventSet()),this.viewController.initialize(),this.interactionController.initialize(e),this.di.regist({gestureProxy:this.interactionController.getGestureProxy()}),this.itemModelService.bindEvent(),t.itemDataList=i.getData(),n.elRootOverflow=Ma(r,"overflow")},Qm.prototype.initElement=function(){var t=this._options,e=t.baseHtml,i=t.elRoot,n=t.elItemList,t=document.querySelector(Gt.ROOT);t&&t.parentNode.removeChild(t);t=document.createElement("div");t.innerHTML=e||fl;e=t.querySelector(Gt.ROOT);i.appendChild(e);t=e.querySelector(Gt.IMAGE_PANEL);return{elRoot:i,elBase:e,elItemList:n,itemPanel:t}},Qm.prototype.removeElement=function(){var t=this.injectData,e=t.elRoot,t=t.elBase;e.removeChild(t)},Qm.prototype.getMediaViewerEventSet=function(){var n=this,t={};return t[Rt.H_INDEX_OPEN]=function(){n.triggerViewerEvent(Rt.H_INDEX_OPEN)},t[Rt.H_INDEX_CLOSE]=function(){n.triggerViewerEvent(Rt.H_INDEX_CLOSE)},t[Rt.H_INDEX_CLICK]=function(t){n.triggerViewerEvent(Rt.H_INDEX_CLICK,t)},t[Rt.REACH_END_ITEM]=function(t){n.triggerViewerEvent(Rt.REACH_END_ITEM,t)},t[Rt.FLICK]=function(t){n.triggerViewerEvent(Rt.FLICK,t)},t[Rt.CLOSE]=function(t){var e=t.toImgEl,i=t.isGoBack,t=t.gestureDistance;n.close(e,i,t)},t[Rt.ZOOM_ENTER]=function(){n.triggerViewerEvent(Rt.ZOOM_ENTER)},t[Rt.ZOOM_LEAVE]=function(){n.triggerViewerEvent(Rt.ZOOM_LEAVE)},t[wt.LOAD_CURRENT_ITEM]=function(t){t=t.itemData;n.viewController.updateViewerLayoutByItem(t)},t[of.HIDE]=function(t){var e=n.injectData.options;n.triggerViewerEvent(Rt.CLOSE),e.urlCallback&&t.isGoBack&&n.history.back()},t},Qm.prototype.initSevice=function(){var e=this,t=this.injectData,i=t.options,n=t.itemModel,r=t.state,o=!!i.urlCallback,s=this.close.bind(this),t=this.resize.bind(this);this.globalEventService=new hf(yn,o,$m({close:s,resize:t},this.di));this.itemModelService=new ff(n,Zm({updateCurrentImageIndexData:function(t){t=t.dataList;e.viewController.updateCurrentImageIndexData(t)},indexChangeAfter:function(t){i.urlCallback&&r.open&&e.history.replace(i.urlCallback(t)),e.trigger(Rt.H_INDEX_CHANGE,{dataIndex:t,data:n.getCurrent()})}},this.di))},Qm.prototype.open=function(t){var e=this,i=this.injectData,n=i.state,i=i.browserInfo;n.isPlaying=!0,this.openedItemCheck=!1,i.isNaverApp?(location.href=Nt,setTimeout(function(){return e.show(t)},500)):this.show(t),n.open=!0},Qm.prototype.close=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=0);var n=this.injectData,r=n.state,o=n.exceptionLayout,n=n.itemModel;this.globalEventService.unbindEvent(),r.isPlaying||!1===r.open||(r.isPlaying=!0,i=i,t=t||this.viewController.getImgFromList(),!o.isVisiblity()&&t||(i=9999),this.deactivate(),this.viewController.uncover(),this.viewController.hideView(t,{isGoBack:e,gestureDistance:i}),n.resetIndex(),r.open=!1,this.eventProxy.trigger(jt.TRIGGER_CLOSE))},Qm.prototype.resize=function(t){this.viewController.resizeLayout(t)},Qm.prototype.refreshData=function(){var t=this.injectData.itemModel.getData();this.viewController.updateCurrentImageIndexData(t)},Qm.prototype.show=function(t){var e=this,i=this.viewController.getImgFromList(t),n=!!i;this.interactionController.setExitGestureStart(!1),this.viewController.showView(t,n),i?this.viewController.buildIn(i,function(){return e.activate()}):this.activate()},Qm.prototype.activate=function(){var t=this.injectData.state;this.viewController.activate(),this.globalEventService.bindEvent(),this.interactionController.activate(),this.trigger(Rt.OPEN),t.isPlaying=!1},Qm.prototype.deactivate=function(){this.globalEventService.unbindEvent(),this.interactionController.deactivate(),this.viewController.deactivate()},Qm.prototype.destroy=function(){this.injectData.state.open&&this.close(),this.deactivate(),this.viewController.destroy(),this.interactionController.destroy(),this.itemModelService.unbindEvent(),this.removeElement(),this.di=null},Qm);function Qm(t,e,i){void 0===i&&(i={});var n=Km.call(this)||this;n.itemModel=t;t=Pa({},i);n._options=t;i=n.initElement(),i=new Wm(i,t);return n.di=i.getDI(),n.history=e,n.injectData=n.di.getData(),n.initSevice(),n.initialize(),t.useScrollSync&&"scrollRestoration"in history&&(history.scrollRestoration="manual"),n}function ty(t){return(ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ey(e,i,t){var n=t.value;if("function"!=typeof n)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(ty(n)));var r=!1;return{configurable:!0,get:function(){if(r||this===e.prototype||this.hasOwnProperty(i)||"function"!=typeof n)return n;var t=n.bind(this);return r=!0,Object.defineProperty(this,i,{configurable:!0,get:function(){return t},set:function(t){n=t,delete this[i]}}),r=!1,t},set:function(t){n=t}}}var iy,et=(Li(ny,iy=Hi),ny.prototype.closeNotSupportButtonHandler=function(t){Xc(t),this.close()},ny.prototype.destroy=function(){this.detachEvent()},Ri([ey],ny.prototype,"closeNotSupportButtonHandler",null),ny);function ny(t){void 0===t&&(t={});var e=iy.call(this)||this;return e._options=Pa({},t),e.initialize(),e}var ry,oy=(Li(sy,ry=et),sy.prototype.initialize=function(){this.elRoot=this._options.elRoot,this.elItemList=this._options.elItemList,this.elRootOverflow=Ma(this.elRoot,"overflow");var t=_n.createElement("div");t.innerHTML=dl;t=t.querySelector(Gt.ROOT);this.elRoot.appendChild(t),this.el=t,this.attachEvent()},sy.prototype.attachEvent=function(){za(this.el.querySelector(Gt.NOT_SUPPORT_CLOSE),"click",this.closeNotSupportButtonHandler),window.addEventListener("orientationchange",this.onResize),window.addEventListener("resize",this.onResize)},sy.prototype.detachEvent=function(){Ha(this.el.querySelector(Gt.NOT_SUPPORT_CLOSE),"click",this.closeNotSupportButtonHandler),window.removeEventListener("resize",this.onResize),window.removeEventListener("orientationchange",this.onResize)},sy.prototype.onResize=function(){window.clearTimeout(this.timer),this.timer=window.setTimeout(this.resize.bind(this),100)},sy.prototype.resize=function(){Ma(this.el,{height:window.innerHeight+2+"px"})},sy.prototype.open=function(){Ma(this.elItemList,{overflow:"hidden",visibility:"hidden",height:0}),this.resize(),Na(this.el),this.trigger(Rt.OPEN)},sy.prototype.close=function(){Ma(this.elItemList,{visibility:"visible",overflow:"visible",height:null}),Ra(this.el),this.trigger(Rt.CLOSE)},Ri([ey],sy.prototype,"onResize",null),Ri([ey],sy.prototype,"resize",null),sy);function sy(){return null!==ry&&ry.apply(this,arguments)||this}var ay,z=(Li(uy,ay=z),uy.prototype.creatViewer=function(){var t,e=Rt;this.isNotSupportBrowser?this.unsupportViewer=new oy(this._options):this.viewer=new Jm(this.itemModelData,this.historyManager,this._options).on(this.getBypassEvents(er(t=Ct(e)).call(t,function(t){return e[t]})))},uy);function uy(){return null!==ay&&ay.apply(this,arguments)||this}var cy=i(function(t,e){t.exports=function(){function n(t){var e=typeof t;return t!==null&&(e==="object"||e==="function")}function u(t){return typeof t==="function"}var t=void 0;if(Array.isArray)t=Array.isArray;else t=function(t){return Object.prototype.toString.call(t)==="[object Array]"};var i=t,r=0,e=void 0,o=void 0,s=function t(e,i){E[r]=e;E[r+1]=i;r+=2;if(r===2)if(o)o(I);else T()};function a(t){o=t}function c(t){s=t}var l=typeof window!=="undefined"?window:undefined,h=l||{},p=h.MutationObserver||h.WebKitMutationObserver,f=typeof self==="undefined"&&typeof process!=="undefined"&&{}.toString.call(process)==="[object process]",d=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function g(){return function(){return process.nextTick(I)}}function v(){if(typeof e!=="undefined")return function(){e(I)};return _()}function m(){var t=0;var e=new p(I);var i=document.createTextNode("");e.observe(i,{characterData:true});return function(){i.data=t=++t%2}}function y(){var t=new MessageChannel;t.port1.onmessage=I;return function(){return t.port2.postMessage(0)}}function _(){var t=setTimeout;return function(){return t(I,1)}}var E=new Array(1e3);function I(){for(var t=0;t<r;t+=2){var e=E[t];var i=E[t+1];e(i);E[t]=undefined;E[t+1]=undefined}r=0}function b(){try{var t=Function("return this")().require("vertx");e=t.runOnLoop||t.runOnContext;return v()}catch(t){return _()}}var T=void 0;if(f)T=g();else if(p)T=m();else if(d)T=y();else if(l===undefined&&typeof rt==="function")T=b();else T=_();function P(t,e){var i=this;var n=new this.constructor(O);if(n[x]===undefined)W(n);var r=i._state;if(r){var o=arguments[r-1];s(function(){return F(r,n,o,i._result)})}else G(i,n,t,e);return n}function S(t){var e=this;if(t&&typeof t==="object"&&t.constructor===e)return t;var i=new e(O);V(i,t);return i}var x=Math.random().toString(36).substring(2);function O(){}var w=void 0,A=1,C=2;function D(){return new TypeError("You cannot resolve a promise with itself")}function L(){return new TypeError("A promises callback cannot return that same promise.")}function N(t,e,i,n){try{t.call(e,i,n)}catch(t){return t}}function R(t,n,r){s(function(e){var i=false;var t=N(r,n,function(t){if(i)return;i=true;if(n!==t)V(e,t);else H(e,t)},function(t){if(i)return;i=true;j(e,t)},"Settle: "+(e._label||" unknown promise"));if(!i&&t){i=true;j(e,t)}},t)}function M(e,t){if(t._state===A)H(e,t._result);else if(t._state===C)j(e,t._result);else G(t,undefined,function(t){return V(e,t)},function(t){return j(e,t)})}function k(t,e,i){if(e.constructor===t.constructor&&i===P&&e.constructor.resolve===S)M(t,e);else if(i===undefined)H(t,e);else if(u(i))R(t,e,i);else H(t,e)}function V(e,t){if(e===t)j(e,D());else if(n(t)){var i=void 0;try{i=t.then}catch(t){j(e,t);return}k(e,t,i)}else H(e,t)}function z(t){if(t._onerror)t._onerror(t._result);B(t)}function H(t,e){if(t._state!==w)return;t._result=e;t._state=A;if(t._subscribers.length!==0)s(B,t)}function j(t,e){if(t._state!==w)return;t._state=C;t._result=e;s(z,t)}function G(t,e,i,n){var r=t._subscribers;var o=r.length;t._onerror=null;r[o]=e;r[o+A]=i;r[o+C]=n;if(o===0&&t._state)s(B,t)}function B(t){var e=t._subscribers;var i=t._state;if(e.length===0)return;var n=void 0,r=void 0,o=t._result;for(var s=0;s<e.length;s+=3){n=e[s];r=e[s+i];if(n)F(i,n,r,o);else r(o)}t._subscribers.length=0}function F(t,e,i,n){var r=u(i),o=void 0,s=void 0,a=true;if(r){try{o=i(n)}catch(t){a=false;s=t}if(e===o){j(e,L());return}}else o=n;if(e._state!==w);else if(r&&a)V(e,o);else if(a===false)j(e,s);else if(t===A)H(e,o);else if(t===C)j(e,o)}function U(i,t){try{t(function t(e){V(i,e)},function t(e){j(i,e)})}catch(t){j(i,t)}}var X=0;function q(){return X++}function W(t){t[x]=X++;t._state=undefined;t._result=undefined;t._subscribers=[]}function Y(){return new Error("Array Methods must be provided an Array")}var K=function(){function t(t,e){this._instanceConstructor=t;this.promise=new t(O);if(!this.promise[x])W(this.promise);if(i(e)){this.length=e.length;this._remaining=e.length;this._result=new Array(this.length);if(this.length===0)H(this.promise,this._result);else{this.length=this.length||0;this._enumerate(e);if(this._remaining===0)H(this.promise,this._result)}}else j(this.promise,Y())}t.prototype._enumerate=function t(e){for(var i=0;this._state===w&&i<e.length;i++)this._eachEntry(e[i],i)};t.prototype._eachEntry=function t(e,i){var n=this._instanceConstructor;var r=n.resolve;if(r===S){var o=void 0;var s=void 0;var a=false;try{o=e.then}catch(t){a=true;s=t}if(o===P&&e._state!==w)this._settledAt(e._state,i,e._result);else if(typeof o!=="function"){this._remaining--;this._result[i]=e}else if(n===et){var u=new n(O);if(a)j(u,s);else k(u,e,o);this._willSettleAt(u,i)}else this._willSettleAt(new n(function(t){return t(e)}),i)}else this._willSettleAt(r(e),i)};t.prototype._settledAt=function t(e,i,n){var r=this.promise;if(r._state===w){this._remaining--;if(e===C)j(r,n);else this._result[i]=n}if(this._remaining===0)H(r,this._result)};t.prototype._willSettleAt=function t(e,i){var n=this;G(e,undefined,function(t){return n._settledAt(A,i,t)},function(t){return n._settledAt(C,i,t)})};return t}();function $(t){return new K(this,t).promise}function Z(r){var o=this;if(!i(r))return new o(function(t,e){return e(new TypeError("You must pass an array to race."))});else return new o(function(t,e){var i=r.length;for(var n=0;n<i;n++)o.resolve(r[n]).then(t,e)})}function J(t){var e=this;var i=new e(O);j(i,t);return i}function Q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function tt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var et=function(){function e(t){this[x]=q();this._result=this._state=undefined;this._subscribers=[];if(O!==t){typeof t!=="function"&&Q();this instanceof e?U(this,t):tt()}}e.prototype.catch=function t(e){return this.then(null,e)};e.prototype.finally=function t(e){var i=this;var n=i.constructor;if(u(e))return i.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})});return i.then(e,e)};return e}();function it(){var t=void 0;if(typeof nt!=="undefined")t=nt;else if(typeof self!=="undefined")t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if(i==="[object Promise]"&&!e.cast)return}t.Promise=et}return et.prototype.then=P,et.all=$,et.race=Z,et.resolve=S,et.reject=J,et._setScheduler=a,et._setAsap=c,et._asap=s,et.polyfill=it,et.Promise=et}()});return function(){var t;if(So().isIE)t=window;else if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}t.Promise=cy.Promise}(),{Viewer:z,SharedButton:Ap,CustomLayout:Hp,ViewerType:At,MediaViewerEvent:Rt,LayoutPosition:Mp,AbstractVideoPlayer:It,LayoutId:dt({},Mt),VideoPlayerType:ge}});
