(window.__se_viewer_jsonp=window.__se_viewer_jsonp||[]).push([[39],{499:function(e,t,i){"use strict";i.r(t),i.d(t,"OEmbedComponent",function(){return f});i(31),i(75),i(104),i(153),i(38);var n=i(30),r=i.n(n),o=i(221),s=i.n(o),a=i(63),l="text",c="image",h="large_image",d="vertical_image",p=480,m=270,_="rich",u="normal",f=function(e){function t(t){var i,n=t.initData,r=t.instanceStatus;return(i=e.call(this,r)||this)._componentData=n,i._initElement(),i._renderComponent(),i.__ON_READY_COMPONENT__("oembed"),i}r()(t,e);var i=t.prototype;return i.destroy=function(){var e=this._$baseEl,t=e.find("iframe"),i=e.find("video");t.length>0&&(t[0].src=t[0].src),i.length>0&&i[0].pause()},i._initElement=function(){this._$baseEl=$seJq("#"+this._componentData.id),this._$moduleWrapper=this._$baseEl.find(".se-section-oembed"),this._$iframeWrapper=this._$baseEl.find(".se-module-oembed")},i._renderComponent=function(){a.e.isIE()?(this._renderOglinkUnit(),this._checkThumbnail()):this._renderOembedUnit()},i._renderOglinkUnit=function(){var e=this._componentData,t=e.inputUrl,i=e.providerUrl,n=e.align,r=e.title,o=e.description,s=e.thumbnailUrl,a='\n            <div class="se-component-content">\n                <div class="se-section se-section-oglink se-section-align-'+n+" se-l-"+this._getOgLayoutType()+'">\n                    <div class="se-module se-module-oglink">\n                        '+(s?'\n            <a href="'+t+'" target="_blank" class="se-oglink-thumbnail">\n                <img src="'+s+'" class="se-oglink-thumbnail-resource">\n            </a>':"")+'\n                        <a href="'+t+'" target="_blank" class="se-oglink-info">\n                            <div class="se-oglink-info-container">\n                                <strong class="se-oglink-title">'+r+'</strong>\n                                <p class="se-oglink-summary">'+(o||"")+'</p>\n                                <p class="se-oglink-url">'+i+"</p>\n                            </div>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        ";this._$baseEl.html(a)},i._checkThumbnail=function(){var e=this._$baseEl.find(".se-oglink-thumbnail"),t=this._componentData.thumbnailUrl;if(t){var i=new Image;i.onerror=function(){e&&e.remove()},i.src=t}},i._getOgLayoutType=function(){var e=this._componentData,t=e.thumbnailUrl,i=e.thumbnailWidth,n=e.thumbnailHeight;return t?this._isVerticalRatio(i,n)?d:this._isBigSize(i,n)?h:c:l},i._isBigSize=function(e,t){return!(!e||!t)&&(e>=p&&t>=m)},i._isVerticalRatio=function(e,t){return!(!e||!t)&&(e/t).toFixed(2)<=9/16},i._renderOembedUnit=function(){var e=this._componentData,t=e.html,i=e.providerUrl,n=this._isIframeContent(t);if(this._resolveOEmbedModuleClass(),this._setMaxWidth(),n){var r=i.includes("tv.naver.com")?this._convertHttpToHttps(t):t;this._renderIframeContent(r)}else this._renderScriptContents(t)},i._hasSize=function(){var e=this._componentData,t=e.originalWidth,i=e.originalHeight;return parseInt(t,10)>0&&parseInt(i,10)>0},i._setMaxWidth=function(){var e=this._componentData,t=e.contentMode,i=e.originalWidth,n=e.type;t===u&&(n===_||void 0===n)&&this._$moduleWrapper.css("maxWidth",i+"px")},i._renderScriptContents=function(e){var t=this;if(this._$iframeWrapper.css({paddingTop:"",overflow:"hidden"}),this._hasSize())this._$iframeWrapper.html(e),this._$iframeWrapper.removeClass("se-is-progress");else{var i=$seJq("<iframe>");this._$iframeWrapper.append(i);var n=i[0],r=n.contentDocument;n.onload=function(){var e=r.body;t._setStyle(e),t._observeEmbedContentMutation(e),t._$iframeWrapper.removeClass("se-is-progress")},r.open();var o=$seJq("<div class='__oembed_content_wrapper'>");o.html(e),r.write(o[0].outerHTML),r.close()}},i._setStyle=function(e){$seJq(e).css({overflow:"hidden",margin:"0px"})},i._observeEmbedContentMutation=function(e){var t=this,i=e.querySelector(".__oembed_content_wrapper"),n=s()(function(){t._removeContentMargin(i),t._setPaddingTop(i),a.e.isMobile()&&(t._resetWidthStyle(i),t._isBiggerThanDocumentWidth(i)&&t._setHorizontalScroll(e))},200);new MutationObserver(n).observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),n()},i._removeContentMargin=function(e){var t=e.querySelector(".twitter-tweet");t&&$seJq(t).css({marginTop:0,marginBottom:0})},i._setPaddingTop=function(e){var t=this._getContentHeight(e);this._$iframeWrapper.css("paddingTop",t+"px")},i._setHorizontalScroll=function(e){$seJq(e).css({overflowX:"auto"}),this._$iframeWrapper.css({paddingTop:"",overflowX:"auto"})},i._resolveOEmbedModuleClass=function(){var e=this._componentData.type;!!e&&this._$moduleWrapper.addClass("se-section-oembed-"+e)},i._resetWidthStyle=function(e){var t=e.querySelector(".twitter-tweet")||e.querySelector(".instagram-media");t&&(t.style.width="",t.style.minWidth="")},i._isBiggerThanDocumentWidth=function(e){var t=this._getContentWidth(e);return this._$moduleWrapper.width()<t},i._getContentWidth=function(e){return Math.max(e.offsetWidth,e.clientWidth,e.scrollWidth)},i._getContentHeight=function(e){return Math.max(e.offsetHeight,e.clientHeight,e.scrollHeight)},i._renderIframeContent=function(e){var t=this,i=$seJq(e);this._cleanIframe(i);var n=this._componentData.originalWidth||0,r=this._componentData.originalHeight||0;if(n>0&&r>0)this._$iframeWrapper.html(i),this._updateContentRatio(n,r);else{var o=this._$iframeWrapper.width(),s=$seJq("<div>").css({visibility:"hidden","z-index":-1,position:"absolute",top:0,left:0,margin:0,padding:0,width:o+"px"}).appendTo(".se-viewer");i.on("load",function(){i.off("load");var e=i.width()||s.width(),n=i.height()||s.height();t._$iframeWrapper.html(i),t._updateContentRatio(e,n),s.remove()}),s.append(i)}},i._cleanIframe=function(e){e.removeAttr("style")},i._updateContentRatio=function(e,t){var i=(100*parseFloat(t/e)).toFixed(2)+"%";this._$iframeWrapper.css("paddingTop",i),this._$iframeWrapper.removeClass("se-is-progress")},i._isIframeContent=function(e){return!!e.match("<iframe")},i._convertHttpToHttps=function(e){return e.replace("http://serviceapi.rmcnmv.naver.com","https://serviceapi.rmcnmv.naver.com")},t}(a.a);t.default=f}}]);